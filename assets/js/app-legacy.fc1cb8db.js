(function(){"use strict";var t={4772:function(t,e,n){n.d(e,{db:function(){return K}});n(6992),n(8674),n(9601),n(7727);var a=n(144),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-main",[n("MyCalendar")],1)],1)},r=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",[n("v-col",[n("v-sheet",{attrs:{height:"64"}},[n("v-toolbar",[n("v-btn",{attrs:{color:"yellow darken-2 black--text",dark:""},on:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[t._v(" Nueva clase ")]),n("v-btn",{staticClass:"mr-4 black",attrs:{outlined:""},on:{click:t.setToday}},[t._v(" Hoy ")]),n("v-btn",{attrs:{fab:"",text:"",small:""},on:{click:t.prev}},[n("v-icon",{attrs:{small:""}},[t._v("mdi-arrow-left")])],1),n("v-btn",{attrs:{fab:"",text:"",small:""},on:{click:t.next}},[n("v-icon",{attrs:{small:""}},[t._v("mdi-arrow-right")])],1),n("v-toolbar-title",{staticClass:"amber--text"},[t._v(t._s(t.title))]),n("div",{staticClass:"flex-grow-1"}),n("v-menu",{attrs:{bottom:"",right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-btn",t._g({staticClass:"amber black--text",attrs:{outlined:""}},a),[n("span",[t._v(t._s(t.typeToLabel[t.type]))]),n("v-icon",{attrs:{right:""}},[t._v("mdi-menu-down")])],1)]}}])},[n("v-list",{staticClass:"amber"},[n("v-list-item",{staticClass:"black--text",on:{click:function(e){t.type="day"}}},[n("v-list-item-title",[t._v("Dia")])],1),n("v-list-item",{staticClass:"black--text",on:{click:function(e){t.type="week"}}},[n("v-list-item-title",[t._v("Semana")])],1),n("v-list-item",{staticClass:"black--text",on:{click:function(e){t.type="month"}}},[n("v-list-item-title",[t._v("Mes")])],1),n("v-list-item",{staticClass:"black--text",on:{click:function(e){t.type="4day"}}},[n("v-list-item-title",[t._v("4 Dias")])],1)],1)],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-container",[n("v-form",{on:{submit:function(e){return e.preventDefault(),t.addEvent.apply(null,arguments)}}},[n("v-text-field",{attrs:{type:"text",label:"Nombre de la clase (requerido)"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),n("v-text-field",{attrs:{type:"date",label:"Fecha de inicio (requerido)"},model:{value:t.start,callback:function(e){t.start=e},expression:"start"}}),n("v-text-field",{attrs:{type:"date",label:"Fecha de finalizacion (Requerido)"},model:{value:t.end,callback:function(e){t.end=e},expression:"end"}}),n("v-card-text",[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",[t._v(" Color ")]),n("v-col",[n("v-btn-toggle",[n("v-btn",{attrs:{color:"#FFBF00"},on:{click:function(e){t.color="#FFBF00"}}},[n("v-icon",[t._v("mdi-star")])],1),n("v-btn",{attrs:{color:"#4590C9"},on:{click:function(e){t.color="#4590C9"}}},[n("v-icon",[t._v("mdi-speaker")])],1),n("v-btn",{attrs:{color:"#730f0f"},on:{click:function(e){t.color="#730f0f"}}},[n("v-icon",[t._v("mdi-school-outline")])],1),n("v-btn",{attrs:{color:"#7FFFD4"},on:{click:function(e){t.color="#7FFFD4"}}},[n("v-icon",[t._v("mdi-play")])],1),n("v-btn",{attrs:{color:"#9F2B68"},on:{click:function(e){t.color="#9F2B68"}}},[n("v-icon",[t._v("mdi-palette-outline")])],1)],1)],1)],1)],1),n("v-btn",{staticClass:"mr-4",attrs:{type:"submit",color:"amber black--text"},on:{click:function(e){e.stopPropagation(),t.dialog=!1}}},[t._v(" Crear clase ")])],1)],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialogDate,callback:function(e){t.dialogDate=e},expression:"dialogDate"}},[n("v-card",[n("v-container",[n("v-form",{on:{submit:function(e){return e.preventDefault(),t.addEvent.apply(null,arguments)}}},[n("v-text-field",{attrs:{type:"text",label:"Nombre dela clase (requerido)"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),n("v-text-field",{attrs:{type:"date",label:"Fecha de inicio (requerido)"},model:{value:t.start,callback:function(e){t.start=e},expression:"start"}}),n("v-text-field",{attrs:{type:"date",label:"Fecha de finalizacion (Requerido)"},model:{value:t.end,callback:function(e){t.end=e},expression:"end"}}),n("v-card-text",[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",[t._v(" Color ")]),n("v-col",[n("v-btn-toggle",[n("v-btn",{attrs:{color:"#FFBF00"},on:{click:function(e){t.color="#FFBF00"}}},[n("v-icon",[t._v("mdi-star")])],1),n("v-btn",{attrs:{color:"#4590C9"},on:{click:function(e){t.color="#4590C9"}}},[n("v-icon",[t._v("mdi-speaker")])],1),n("v-btn",{attrs:{color:"#730f0f"},on:{click:function(e){t.color="#730f0f"}}},[n("v-icon",[t._v("mdi-school-outline")])],1),n("v-btn",{attrs:{color:"#7FFFD4"},on:{click:function(e){t.color="#7FFFD4"}}},[n("v-icon",[t._v("mdi-play")])],1),n("v-btn",{attrs:{color:"#9F2B68"},on:{click:function(e){t.color="#9F2B68"}}},[n("v-icon",[t._v("mdi-palette-outline")])],1)],1)],1)],1)],1),n("v-btn",{staticClass:"mr-4",attrs:{type:"submit",color:"amber black--text"},on:{click:function(e){e.stopPropagation(),t.dialog=!1}}},[t._v(" Crear clase ")])],1)],1)],1)],1),n("v-sheet",{attrs:{height:"600"}},[n("v-calendar",{ref:"calendar",attrs:{color:"yellow darken-2",weekdays:[1,2,3,4,5,6,0],locale:"es","short-weekdays":!1,events:t.events,"event-color":t.getEventColor,"event-margin-bottom":3,now:t.today,type:t.type},on:{"click:event":t.showEvent,"click:more":t.viewDay,"click:date":t.setDialogDate,change:t.updateRange},model:{value:t.focus,callback:function(e){t.focus=e},expression:"focus"}}),n("v-menu",{attrs:{"close-on-content-click":!1,activator:t.selectedElement,"offset-x":""},model:{value:t.selectedOpen,callback:function(e){t.selectedOpen=e},expression:"selectedOpen"}},[n("v-card",{attrs:{color:"grey darken-3",width:350,flat:""}},[n("v-toolbar",{attrs:{color:t.selectedEvent.color,dark:""}},[n("v-btn",{attrs:{icon:""},on:{click:function(e){return t.deleteEvent(t.selectedEvent.id)}}},[n("v-icon",[t._v("mdi-delete")])],1),n("v-toolbar-title",{domProps:{innerHTML:t._s(t.selectedEvent.name)}}),n("div",{staticClass:"flex-grow-1"})],1),n("v-card-text",[t.currentlyEditing!==t.selectedEvent.id?n("form",[n("v-list",[n("v-subheader",[t._v("ASISTENCIA")]),t._l(t.students,(function(e,a){return n("v-list-item",{key:a},[n("v-list-item-content",{domProps:{textContent:t._s(e.name+" "+e.surname)}}),n("v-checkbox",{model:{value:t.checkboxes[a],callback:function(e){t.$set(t.checkboxes,a,e)},expression:"checkboxes[i]"}})],1)}))],2)],1):t._e()]),n("v-card-actions",[n("v-btn",{staticClass:"white black--text",attrs:{text:""},on:{click:function(e){t.selectedOpen=!1}}},[t._v(" Cerrar ")]),t.currentlyEditing!==t.selectedEvent.id?n("v-btn",{staticClass:"white black--text",attrs:{text:""},on:{click:function(e){return e.preventDefault(),t.editEvent(t.selectedEvent)}}},[t._v(" Editar ")]):t._e()],1)],1)],1)],1)],1)],1)},i=[],l=n(6198),s=(n(5666),n(2222),n(1539),n(4747),n(8309),{data:function(){return{today:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),focus:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),type:"month",typeToLabel:{month:"Mes",week:"Semana",day:"Dia","4day":"4 Dias"},name:null,start:null,end:null,color:"#1976D2",currentlyEditing:null,selectedEvent:{},selectedElement:null,selectedOpen:!1,events:[],students:[],checkboxes:[],dialog:!1,dialogDate:!1}},mounted:function(){console.log(this.today),this.getEvents(),this.getStudents()},computed:{title:function(){var t=this.start,e=this.end;if(!t||!e)return"";var n=this.monthFormatter(t),a=this.monthFormatter(e),o=n===a?"":a,r=t.year,c=e.year,i=r===c?"":c,l=t.day+this.nth(t.day),s=e.day+this.nth(e.day);switch(this.type){case"month":return"".concat(n," ").concat(r);case"week":case"4day":return"".concat(n," ").concat(l," ").concat(r," - ").concat(o," ").concat(s," ").concat(i);case"day":return"".concat(n," ").concat(l," ").concat(r)}return""},monthFormatter:function(){return this.$refs.calendar.getFormatter({timeZone:"UTC",month:"long"})}},methods:{getEvents:function(){var t=this;return(0,l.Z)(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,K.collection("calEvent").get();case 2:n=e.sent,a=[],n.forEach((function(t){var e=t.data();e.id=t.id,a.push(e)})),t.events=a;case 6:case"end":return e.stop()}}),e)})))()},getStudents:function(){var t=this;return(0,l.Z)(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,K.collection("students").get();case 2:n=e.sent,a=[],n.forEach((function(t){var e=t.data();e.id=t.id,a.push(e)})),t.students=a;case 6:case"end":return e.stop()}}),e)})))()},addEvent:function(){var t=this;return(0,l.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.name&&t.start&&t.end)){e.next=10;break}return e.next=3,K.collection("calEvent").add({name:t.name,start:t.start,end:t.end,color:t.color});case 3:t.getEvents(),t.name="",t.start="",t.end="",t.color="#1976D2",e.next=11;break;case 10:alert("Name, start and end date are required");case 11:case"end":return e.stop()}}),e)})))()},editEvent:function(t){this.currentlyEditing=t.id},deleteEvent:function(t){var e=this;return(0,l.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,K.collection("calEvent").doc(t).delete();case 2:e.selectedOpen=!1,e.currentlyEditing=null,e.getEvents();case 5:case"end":return n.stop()}}),n)})))()},showEvent:function(t){var e=this,n=t.nativeEvent,a=t.event,o=function(){e.selectedEvent=a,e.selectedElement=n.target,setTimeout((function(){return e.selectedOpen=!0}),10)};this.selectedOpen?(this.selectedOpen=!1,setTimeout(o,10)):o(),n.stopPropagation()},getEventColor:function(t){return t.color},setDialogDate:function(t){var e=t.date;this.dialogDate=!0,this.focus=e},updateRange:function(t){var e=t.start,n=t.end;this.start=e,this.end=n},viewDay:function(t){var e=t.date;this.focus=e,this.type="day"},setToday:function(){this.focus=this.today},prev:function(){this.$refs.calendar.prev()},next:function(){this.$refs.calendar.next()},nth:function(t){return t>3&&t<21?"th":["th","st","nd","rd","th","th","th","th","th","th"][t%10]}}}),u=s,d=n(1001),v=n(3453),f=n.n(v),m=n(680),p=n(8630),h=n(8538),b=n(3237),g=n(7118),k=n(9362),y=n(2102),x=n(247),w=n(7336),_=n(6232),E=n(6428),C=n(6816),F=n(7620),Z=n(1058),D=n(6768),V=n(2877),O=n(3385),T=n(5533),S=n(3105),B=n(7688),R=n(7921),I=(0,d.Z)(u,c,i,!1,null,null,null),j=I.exports;f()(I,{VBtn:m.Z,VBtnToggle:p.Z,VCalendar:h.Z,VCard:b.Z,VCardActions:g.h7,VCardText:g.ZB,VCheckbox:k.Z,VCol:y.Z,VContainer:x.Z,VDialog:w.Z,VForm:_.Z,VIcon:E.Z,VList:C.Z,VListItem:F.Z,VListItemContent:Z.km,VListItemTitle:Z.V9,VMenu:D.Z,VRow:V.Z,VSheet:O.Z,VSubheader:T.Z,VTextField:S.Z,VToolbar:B.Z,VToolbarTitle:R.qW});var M={name:"App",components:{MyCalendar:j},data:function(){return{}}},P=M,q=n(7524),A=n(1009),L=(0,d.Z)(P,o,r,!1,null,null,null),$=L.exports;f()(L,{VApp:q.Z,VMain:A.Z});var z=n(9132);a.Z.use(z.Z);var N=new z.Z({theme:{dark:!0}}),H=n(7197),U=n(1902);n(6621);a.Z.use(H.Z),a.Z.config.productionTip=!1,U.Z.initializeApp({apiKey:"AIzaSyB0Cnudmgcmu01p9wVy6ABsoOeTlTUVwTE",authDomain:"vue-calendar-a1aa0.firebaseapp.com",projectId:"vue-calendar-a1aa0",storageBucket:"vue-calendar-a1aa0.appspot.com",messagingSenderId:"450545507400",appId:"1:450545507400:web:3c7e23baa175cad70b8c7d"});var K=U.Z.firestore();new a.Z({vuetify:N,render:function(t){return t($)}}).$mount("#app")}},e={};function n(a){var o=e[a];if(void 0!==o)return o.exports;var r=e[a]={exports:{}};return t[a](r,r.exports,n),r.exports}n.m=t,function(){var t=[];n.O=function(e,a,o,r){if(!a){var c=1/0;for(u=0;u<t.length;u++){a=t[u][0],o=t[u][1],r=t[u][2];for(var i=!0,l=0;l<a.length;l++)(!1&r||c>=r)&&Object.keys(n.O).every((function(t){return n.O[t](a[l])}))?a.splice(l--,1):(i=!1,r<c&&(c=r));if(i){t.splice(u--,1);var s=o();void 0!==s&&(e=s)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[a,o,r]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,r,c=a[0],i=a[1],l=a[2],s=0;if(c.some((function(e){return 0!==t[e]}))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(l)var u=l(n)}for(e&&e(a);s<c.length;s++)r=c[s],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(u)},a=self["webpackChunkvue_calendar"]=self["webpackChunkvue_calendar"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(4772)}));a=n.O(a)})();
//# sourceMappingURL=app-legacy.fc1cb8db.js.map