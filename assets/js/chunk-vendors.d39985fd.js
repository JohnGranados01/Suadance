(self["webpackChunkvue_calendar"]=self["webpackChunkvue_calendar"]||[]).push([[998],{4444:function(t,e,n){"use strict";n.d(e,{BH:function(){return u},LL:function(){return C},ZR:function(){return x},r3:function(){return k},Sg:function(){return h},ne:function(){return O},vZ:function(){return A},ZB:function(){return c},m9:function(){return M},z$:function(){return d},jU:function(){return m},ru:function(){return g},d:function(){return y},w1:function(){return b},hl:function(){return S},uI:function(){return f},b$:function(){return v},G6:function(){return _},Mn:function(){return w}});
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const i=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=63&s|128):55296===(64512&s)&&i+1<t.length&&56320===(64512&t.charCodeAt(i+1))?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++i)),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=63&s|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=63&s|128)}return e},s=function(t){const e=[];let n=0,i=0;while(n<t.length){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((31&s)<<6|63&r)}else if(s>239&&s<365){const r=t[n++],o=t[n++],a=t[n++],c=((7&s)<<18|(63&r)<<12|(63&o)<<6|63&a)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(1023&c))}else{const r=t[n++],o=t[n++];e[i++]=String.fromCharCode((15&s)<<12|(63&r)<<6|63&o)}}return e.join("")},r={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const e=t[s],r=s+1<t.length,o=r?t[s+1]:0,a=s+2<t.length,c=a?t[s+2]:0,l=e>>2,u=(3&e)<<4|o>>4;let h=(15&o)<<2|c>>6,d=63&c;a||(d=64,r||(h=64)),i.push(n[l],n[u],n[h],n[d])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):s(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const e=n[t.charAt(s++)],r=s<t.length,o=r?n[t.charAt(s)]:0;++s;const a=s<t.length,c=a?n[t.charAt(s)]:64;++s;const l=s<t.length,u=l?n[t.charAt(s)]:64;if(++s,null==e||null==o||null==c||null==u)throw Error();const h=e<<2|o>>4;if(i.push(h),64!==c){const t=o<<4&240|c>>2;if(i.push(t),64!==u){const t=c<<6&192|u;i.push(t)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},o=function(t){const e=i(t);return r.encodeByteArray(e,!0)},a=function(t){return o(t).replace(/\./g,"")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)e.hasOwnProperty(n)&&l(n)&&(t[n]=c(t[n],e[n]));return t}function l(t){return"__proto__"!==t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[a(JSON.stringify(n)),a(JSON.stringify(o)),c].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function f(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())}function p(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}function m(){return"object"===typeof self&&self.self===self}function g(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function v(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function y(){return d().indexOf("Electron/")>=0}function b(){const t=d();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w(){return d().indexOf("MSAppHost/")>=0}function _(){return!p()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S(){return"object"===typeof indexedDB}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const I="FirebaseError";class x extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name=I,Object.setPrototypeOf(this,x.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,C.prototype.create)}}class C{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},i=`${this.service}/${t}`,s=this.errors[t],r=s?E(s,n):"Error",o=`${this.serviceName}: ${r} (${i}).`,a=new x(i,o,n);return a}}function E(t,e){return t.replace(T,((t,n)=>{const i=e[n];return null!=i?String(i):`<${n}?>`}))}const T=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function k(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function A(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const n=t[s],r=e[s];if(D(n)&&D(r)){if(!A(n,r))return!1}else if(n!==r)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function D(t){return null!==t&&"object"===typeof t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(t,e){const n=new N(t,e);return n.subscribe.bind(n)}class N{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,n){let i;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");i=L(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===i.next&&(i.next=$),void 0===i.error&&(i.error=$),void 0===i.complete&&(i.complete=$);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(t){}})),this.observers.push(i),s}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function L(t,e){if("object"!==typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"===typeof t[n])return!0;return!1}function $(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function M(t){return t&&t._delegate?t._delegate:t}},1001:function(t,e,n){"use strict";function i(t,e,n,i,s,r,o,a){var c,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),r&&(l._scopeId="data-v-"+r),o?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=c):s&&(c=a?function(){s.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:s),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}n.d(e,{Z:function(){return i}})},9662:function(t,e,n){var i=n(7854),s=n(614),r=n(6330),o=i.TypeError;t.exports=function(t){if(s(t))return t;throw o(r(t)+" is not a function")}},6077:function(t,e,n){var i=n(7854),s=n(614),r=i.String,o=i.TypeError;t.exports=function(t){if("object"==typeof t||s(t))return t;throw o("Can't set "+r(t)+" as a prototype")}},9670:function(t,e,n){var i=n(7854),s=n(111),r=i.String,o=i.TypeError;t.exports=function(t){if(s(t))return t;throw o(r(t)+" is not an object")}},1318:function(t,e,n){var i=n(5656),s=n(1400),r=n(6244),o=function(t){return function(e,n,o){var a,c=i(e),l=r(c),u=s(o,l);if(t&&n!=n){while(l>u)if(a=c[u++],a!=a)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},4326:function(t,e,n){var i=n(1702),s=i({}.toString),r=i("".slice);t.exports=function(t){return r(s(t),8,-1)}},648:function(t,e,n){var i=n(7854),s=n(1694),r=n(614),o=n(4326),a=n(5112),c=a("toStringTag"),l=i.Object,u="Arguments"==o(function(){return arguments}()),h=function(t,e){try{return t[e]}catch(n){}};t.exports=s?o:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=h(e=l(t),c))?n:u?o(e):"Object"==(i=o(e))&&r(e.callee)?"Arguments":i}},7741:function(t,e,n){var i=n(1702),s=i("".replace),r=function(t){return String(Error(t).stack)}("zxcasd"),o=/\n\s*at [^:]*:[^\n]*/,a=o.test(r);t.exports=function(t,e){if(a&&"string"==typeof t)while(e--)t=s(t,o,"");return t}},9920:function(t,e,n){var i=n(2597),s=n(3887),r=n(1236),o=n(3070);t.exports=function(t,e,n){for(var a=s(e),c=o.f,l=r.f,u=0;u<a.length;u++){var h=a[u];i(t,h)||n&&i(n,h)||c(t,h,l(e,h))}}},8880:function(t,e,n){var i=n(9781),s=n(3070),r=n(9114);t.exports=i?function(t,e,n){return s.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},9781:function(t,e,n){var i=n(7293);t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(t,e,n){var i=n(7854),s=n(111),r=i.document,o=s(r)&&s(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},8113:function(t,e,n){var i=n(5005);t.exports=i("navigator","userAgent")||""},7392:function(t,e,n){var i,s,r=n(7854),o=n(8113),a=r.process,c=r.Deno,l=a&&a.versions||c&&c.version,u=l&&l.v8;u&&(i=u.split("."),s=i[0]>0&&i[0]<4?1:+(i[0]+i[1])),!s&&o&&(i=o.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/),i&&(s=+i[1]))),t.exports=s},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2914:function(t,e,n){var i=n(7293),s=n(9114);t.exports=!i((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",s(1,7)),7!==t.stack)}))},2109:function(t,e,n){var i=n(7854),s=n(1236).f,r=n(8880),o=n(1320),a=n(3505),c=n(9920),l=n(4705);t.exports=function(t,e){var n,u,h,d,f,p,m=t.target,g=t.global,v=t.stat;if(u=g?i:v?i[m]||a(m,{}):(i[m]||{}).prototype,u)for(h in e){if(f=e[h],t.noTargetGet?(p=s(u,h),d=p&&p.value):d=u[h],n=l(g?h:m+(v?".":"#")+h,t.forced),!n&&void 0!==d){if(typeof f==typeof d)continue;c(f,d)}(t.sham||d&&d.sham)&&r(f,"sham",!0),o(u,h,f,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},2104:function(t,e,n){var i=n(4374),s=Function.prototype,r=s.apply,o=s.call;t.exports="object"==typeof Reflect&&Reflect.apply||(i?o.bind(r):function(){return o.apply(r,arguments)})},4374:function(t,e,n){var i=n(7293);t.exports=!i((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:function(t,e,n){var i=n(4374),s=Function.prototype.call;t.exports=i?s.bind(s):function(){return s.apply(s,arguments)}},6530:function(t,e,n){var i=n(9781),s=n(2597),r=Function.prototype,o=i&&Object.getOwnPropertyDescriptor,a=s(r,"name"),c=a&&"something"===function(){}.name,l=a&&(!i||i&&o(r,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:l}},1702:function(t,e,n){var i=n(4374),s=Function.prototype,r=s.bind,o=s.call,a=i&&r.bind(o,o);t.exports=i?function(t){return t&&a(t)}:function(t){return t&&function(){return o.apply(t,arguments)}}},5005:function(t,e,n){var i=n(7854),s=n(614),r=function(t){return s(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?r(i[t]):i[t]&&i[t][e]}},8173:function(t,e,n){var i=n(9662);t.exports=function(t,e){var n=t[e];return null==n?void 0:i(n)}},7854:function(t,e,n){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(t,e,n){var i=n(1702),s=n(7908),r=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return r(s(t),e)}},3501:function(t){t.exports={}},4664:function(t,e,n){var i=n(9781),s=n(7293),r=n(317);t.exports=!i&&!s((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,e,n){var i=n(7854),s=n(1702),r=n(7293),o=n(4326),a=i.Object,c=s("".split);t.exports=r((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?c(t,""):a(t)}:a},9587:function(t,e,n){var i=n(614),s=n(111),r=n(7674);t.exports=function(t,e,n){var o,a;return r&&i(o=e.constructor)&&o!==n&&s(a=o.prototype)&&a!==n.prototype&&r(t,a),t}},2788:function(t,e,n){var i=n(1702),s=n(614),r=n(5465),o=i(Function.toString);s(r.inspectSource)||(r.inspectSource=function(t){return o(t)}),t.exports=r.inspectSource},8340:function(t,e,n){var i=n(111),s=n(8880);t.exports=function(t,e){i(e)&&"cause"in e&&s(t,"cause",e.cause)}},9909:function(t,e,n){var i,s,r,o=n(8536),a=n(7854),c=n(1702),l=n(111),u=n(8880),h=n(2597),d=n(5465),f=n(6200),p=n(3501),m="Object already initialized",g=a.TypeError,v=a.WeakMap,y=function(t){return r(t)?s(t):i(t,{})},b=function(t){return function(e){var n;if(!l(e)||(n=s(e)).type!==t)throw g("Incompatible receiver, "+t+" required");return n}};if(o||d.state){var w=d.state||(d.state=new v),_=c(w.get),S=c(w.has),I=c(w.set);i=function(t,e){if(S(w,t))throw new g(m);return e.facade=t,I(w,t,e),e},s=function(t){return _(w,t)||{}},r=function(t){return S(w,t)}}else{var x=f("state");p[x]=!0,i=function(t,e){if(h(t,x))throw new g(m);return e.facade=t,u(t,x,e),e},s=function(t){return h(t,x)?t[x]:{}},r=function(t){return h(t,x)}}t.exports={set:i,get:s,has:r,enforce:y,getterFor:b}},614:function(t){t.exports=function(t){return"function"==typeof t}},4705:function(t,e,n){var i=n(7293),s=n(614),r=/#|\.prototype\./,o=function(t,e){var n=c[a(t)];return n==u||n!=l&&(s(e)?i(e):!!e)},a=o.normalize=function(t){return String(t).replace(r,".").toLowerCase()},c=o.data={},l=o.NATIVE="N",u=o.POLYFILL="P";t.exports=o},111:function(t,e,n){var i=n(614);t.exports=function(t){return"object"==typeof t?null!==t:i(t)}},1913:function(t){t.exports=!1},2190:function(t,e,n){var i=n(7854),s=n(5005),r=n(614),o=n(7976),a=n(3307),c=i.Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=s("Symbol");return r(e)&&o(e.prototype,c(t))}},6244:function(t,e,n){var i=n(7466);t.exports=function(t){return i(t.length)}},133:function(t,e,n){var i=n(7392),s=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!s((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},8536:function(t,e,n){var i=n(7854),s=n(614),r=n(2788),o=i.WeakMap;t.exports=s(o)&&/native code/.test(r(o))},6277:function(t,e,n){var i=n(1340);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:i(t)}},3070:function(t,e,n){var i=n(7854),s=n(9781),r=n(4664),o=n(3353),a=n(9670),c=n(4948),l=i.TypeError,u=Object.defineProperty,h=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",p="writable";e.f=s?o?function(t,e,n){if(a(t),e=c(e),a(n),"function"===typeof t&&"prototype"===e&&"value"in n&&p in n&&!n[p]){var i=h(t,e);i&&i[p]&&(t[e]=n.value,n={configurable:f in n?n[f]:i[f],enumerable:d in n?n[d]:i[d],writable:!1})}return u(t,e,n)}:u:function(t,e,n){if(a(t),e=c(e),a(n),r)try{return u(t,e,n)}catch(i){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){var i=n(9781),s=n(6916),r=n(5296),o=n(9114),a=n(5656),c=n(4948),l=n(2597),u=n(4664),h=Object.getOwnPropertyDescriptor;e.f=i?h:function(t,e){if(t=a(t),e=c(e),u)try{return h(t,e)}catch(n){}if(l(t,e))return o(!s(r.f,t,e),t[e])}},8006:function(t,e,n){var i=n(6324),s=n(748),r=s.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},7976:function(t,e,n){var i=n(1702);t.exports=i({}.isPrototypeOf)},6324:function(t,e,n){var i=n(1702),s=n(2597),r=n(5656),o=n(1318).indexOf,a=n(3501),c=i([].push);t.exports=function(t,e){var n,i=r(t),l=0,u=[];for(n in i)!s(a,n)&&s(i,n)&&c(u,n);while(e.length>l)s(i,n=e[l++])&&(~o(u,n)||c(u,n));return u}},5296:function(t,e){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,s=i&&!n.call({1:2},1);e.f=s?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},7674:function(t,e,n){var i=n(1702),s=n(9670),r=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(n,[]),e=n instanceof Array}catch(o){}return function(n,i){return s(n),r(i),e?t(n,i):n.__proto__=i,n}}():void 0)},2140:function(t,e,n){var i=n(7854),s=n(6916),r=n(614),o=n(111),a=i.TypeError;t.exports=function(t,e){var n,i;if("string"===e&&r(n=t.toString)&&!o(i=s(n,t)))return i;if(r(n=t.valueOf)&&!o(i=s(n,t)))return i;if("string"!==e&&r(n=t.toString)&&!o(i=s(n,t)))return i;throw a("Can't convert object to primitive value")}},3887:function(t,e,n){var i=n(5005),s=n(1702),r=n(8006),o=n(5181),a=n(9670),c=s([].concat);t.exports=i("Reflect","ownKeys")||function(t){var e=r.f(a(t)),n=o.f;return n?c(e,n(t)):e}},1320:function(t,e,n){var i=n(7854),s=n(614),r=n(2597),o=n(8880),a=n(3505),c=n(2788),l=n(9909),u=n(6530).CONFIGURABLE,h=l.get,d=l.enforce,f=String(String).split("String");(t.exports=function(t,e,n,c){var l,h=!!c&&!!c.unsafe,p=!!c&&!!c.enumerable,m=!!c&&!!c.noTargetGet,g=c&&void 0!==c.name?c.name:e;s(n)&&("Symbol("===String(g).slice(0,7)&&(g="["+String(g).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!r(n,"name")||u&&n.name!==g)&&o(n,"name",g),l=d(n),l.source||(l.source=f.join("string"==typeof g?g:""))),t!==i?(h?!m&&t[e]&&(p=!0):delete t[e],p?t[e]=n:o(t,e,n)):p?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return s(this)&&h(this).source||c(this)}))},4488:function(t,e,n){var i=n(7854),s=i.TypeError;t.exports=function(t){if(void 0==t)throw s("Can't call method on "+t);return t}},3505:function(t,e,n){var i=n(7854),s=Object.defineProperty;t.exports=function(t,e){try{s(i,t,{value:e,configurable:!0,writable:!0})}catch(n){i[t]=e}return e}},6200:function(t,e,n){var i=n(2309),s=n(9711),r=i("keys");t.exports=function(t){return r[t]||(r[t]=s(t))}},5465:function(t,e,n){var i=n(7854),s=n(3505),r="__core-js_shared__",o=i[r]||s(r,{});t.exports=o},2309:function(t,e,n){var i=n(1913),s=n(5465);(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.1",mode:i?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},1400:function(t,e,n){var i=n(9303),s=Math.max,r=Math.min;t.exports=function(t,e){var n=i(t);return n<0?s(n+e,0):r(n,e)}},5656:function(t,e,n){var i=n(8361),s=n(4488);t.exports=function(t){return i(s(t))}},9303:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){var i=+t;return i!==i||0===i?0:(i>0?n:e)(i)}},7466:function(t,e,n){var i=n(9303),s=Math.min;t.exports=function(t){return t>0?s(i(t),9007199254740991):0}},7908:function(t,e,n){var i=n(7854),s=n(4488),r=i.Object;t.exports=function(t){return r(s(t))}},7593:function(t,e,n){var i=n(7854),s=n(6916),r=n(111),o=n(2190),a=n(8173),c=n(2140),l=n(5112),u=i.TypeError,h=l("toPrimitive");t.exports=function(t,e){if(!r(t)||o(t))return t;var n,i=a(t,h);if(i){if(void 0===e&&(e="default"),n=s(i,t,e),!r(n)||o(n))return n;throw u("Can't convert object to primitive value")}return void 0===e&&(e="number"),c(t,e)}},4948:function(t,e,n){var i=n(7593),s=n(2190);t.exports=function(t){var e=i(t,"string");return s(e)?e:e+""}},1694:function(t,e,n){var i=n(5112),s=i("toStringTag"),r={};r[s]="z",t.exports="[object z]"===String(r)},1340:function(t,e,n){var i=n(7854),s=n(648),r=i.String;t.exports=function(t){if("Symbol"===s(t))throw TypeError("Cannot convert a Symbol value to a string");return r(t)}},6330:function(t,e,n){var i=n(7854),s=i.String;t.exports=function(t){try{return s(t)}catch(e){return"Object"}}},9711:function(t,e,n){var i=n(1702),s=0,r=Math.random(),o=i(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++s+r,36)}},3307:function(t,e,n){var i=n(133);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(t,e,n){var i=n(9781),s=n(7293);t.exports=i&&s((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},5112:function(t,e,n){var i=n(7854),s=n(2309),r=n(2597),o=n(9711),a=n(133),c=n(3307),l=s("wks"),u=i.Symbol,h=u&&u["for"],d=c?u:u&&u.withoutSetter||o;t.exports=function(t){if(!r(l,t)||!a&&"string"!=typeof l[t]){var e="Symbol."+t;a&&r(u,t)?l[t]=u[t]:l[t]=c&&h?h(e):d(e)}return l[t]}},9191:function(t,e,n){"use strict";var i=n(5005),s=n(2597),r=n(8880),o=n(7976),a=n(7674),c=n(9920),l=n(9587),u=n(6277),h=n(8340),d=n(7741),f=n(2914),p=n(1913);t.exports=function(t,e,n,m){var g=m?2:1,v=t.split("."),y=v[v.length-1],b=i.apply(null,v);if(b){var w=b.prototype;if(!p&&s(w,"cause")&&delete w.cause,!n)return b;var _=i("Error"),S=e((function(t,e){var n=u(m?e:t,void 0),i=m?new b(t):new b;return void 0!==n&&r(i,"message",n),f&&r(i,"stack",d(i.stack,2)),this&&o(w,this)&&l(i,this,S),arguments.length>g&&h(i,arguments[g]),i}));if(S.prototype=w,"Error"!==y&&(a?a(S,_):c(S,_,{name:!0})),c(S,b),!p)try{w.name!==y&&r(w,"name",y),w.constructor=S}catch(I){}return S}}},1703:function(t,e,n){var i=n(2109),s=n(7854),r=n(2104),o=n(9191),a="WebAssembly",c=s[a],l=7!==Error("e",{cause:7}).cause,u=function(t,e){var n={};n[t]=o(t,e,l),i({global:!0,forced:l},n)},h=function(t,e){if(c&&c[t]){var n={};n[t]=o(a+"."+t,e,l),i({target:a,stat:!0,forced:l},n)}};u("Error",(function(t){return function(e){return r(t,this,arguments)}})),u("EvalError",(function(t){return function(e){return r(t,this,arguments)}})),u("RangeError",(function(t){return function(e){return r(t,this,arguments)}})),u("ReferenceError",(function(t){return function(e){return r(t,this,arguments)}})),u("SyntaxError",(function(t){return function(e){return r(t,this,arguments)}})),u("TypeError",(function(t){return function(e){return r(t,this,arguments)}})),u("URIError",(function(t){return function(e){return r(t,this,arguments)}})),h("CompileError",(function(t){return function(e){return r(t,this,arguments)}})),h("LinkError",(function(t){return function(e){return r(t,this,arguments)}})),h("RuntimeError",(function(t){return function(e){return r(t,this,arguments)}}))},1902:function(t,e,n){"use strict";n.d(e,{Z:function(){return i.Z}});var i=n(8180),s="firebase",r="9.6.7";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
i.Z.registerVersion(s,r,"app-compat")},6621:function(t,e,n){"use strict";var i,s=n(8180),r=n(2238),o=n(8463),a=n(3333),c=n(4444),l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},u={},h=h||{},d=l||self;function f(){}function p(t){var e=typeof t;return e="object"!=e?e:t?Array.isArray(t)?"array":e:"null","array"==e||"object"==e&&"number"==typeof t.length}function m(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++y)}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return _=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w,_.apply(null,arguments)}function S(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function I(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,i){for(var s=Array(arguments.length-2),r=2;r<arguments.length;r++)s[r-2]=arguments[r];return e.prototype[n].apply(t,s)}}function x(){this.s=this.s,this.o=this.o}var C=0,E={};x.prototype.s=!1,x.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0!=C)){var t=g(this);delete E[t]}},x.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const T=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},k=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const i=t.length,s="string"===typeof t?t.split(""):t;for(let r=0;r<i;r++)r in s&&e.call(n,s[r],r,t)};function A(t){t:{var e=Wn;const n=t.length,i="string"===typeof t?t.split(""):t;for(let s=0;s<n;s++)if(s in i&&e.call(void 0,i[s],s,t)){e=s;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}function D(t){return Array.prototype.concat.apply([],arguments)}function O(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function N(t){return/^[\s\xa0]*$/.test(t)}var L,$=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function M(t,e){return-1!=t.indexOf(e)}function P(t,e){return t<e?-1:t>e?1:0}t:{var F=d.navigator;if(F){var R=F.userAgent;if(R){L=R;break t}}L=""}function V(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function B(t){const e={};for(const n in t)e[n]=t[n];return e}var j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(t,e){let n,i;for(let s=1;s<arguments.length;s++){for(n in i=arguments[s],i)t[n]=i[n];for(let e=0;e<j.length;e++)n=j[e],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function q(t){return q[" "](t),t}function z(t){var e=it;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}q[" "]=f;var H,Z=M(L,"Opera"),W=M(L,"Trident")||M(L,"MSIE"),K=M(L,"Edge"),G=K||W,Q=M(L,"Gecko")&&!(M(L.toLowerCase(),"webkit")&&!M(L,"Edge"))&&!(M(L,"Trident")||M(L,"MSIE"))&&!M(L,"Edge"),Y=M(L.toLowerCase(),"webkit")&&!M(L,"Edge");function X(){var t=d.document;return t?t.documentMode:void 0}t:{var J="",tt=function(){var t=L;return Q?/rv:([^\);]+)(\)|;)/.exec(t):K?/Edge\/([\d\.]+)/.exec(t):W?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Y?/WebKit\/(\S+)/.exec(t):Z?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(tt&&(J=tt?tt[1]:""),W){var et=X();if(null!=et&&et>parseFloat(J)){H=String(et);break t}}H=J}var nt,it={};function st(){return z((function(){let t=0;const e=$(String(H)).split("."),n=$("9").split("."),i=Math.max(e.length,n.length);for(let o=0;0==t&&o<i;o++){var s=e[o]||"",r=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],0==s[0].length&&0==r[0].length)break;t=P(0==s[1].length?0:parseInt(s[1],10),0==r[1].length?0:parseInt(r[1],10))||P(0==s[2].length,0==r[2].length)||P(s[2],r[2]),s=s[3],r=r[3]}while(0==t)}return 0<=t}))}if(d.document&&W){var rt=X();nt=rt||(parseInt(H,10)||void 0)}else nt=void 0;var ot=nt,at=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{d.addEventListener("test",f,e),d.removeEventListener("test",f,e)}catch(n){}return t}();function ct(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function lt(t,e){if(ct.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Q){t:{try{q(e.nodeName);var s=!0;break t}catch(r){}s=!1}s||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:ut[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&lt.Z.h.call(this)}}ct.prototype.h=function(){this.defaultPrevented=!0},I(lt,ct);var ut={2:"touch",3:"pen",4:"mouse"};lt.prototype.h=function(){lt.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ht="closure_listenable_"+(1e6*Math.random()|0),dt=0;function ft(t,e,n,i,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ia=s,this.key=++dt,this.ca=this.fa=!1}function pt(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function mt(t){this.src=t,this.g={},this.h=0}function gt(t,e){var n=e.type;if(n in t.g){var i,s=t.g[n],r=T(s,e);(i=0<=r)&&Array.prototype.splice.call(s,r,1),i&&(pt(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function vt(t,e,n,i){for(var s=0;s<t.length;++s){var r=t[s];if(!r.ca&&r.listener==e&&r.capture==!!n&&r.ia==i)return s}return-1}mt.prototype.add=function(t,e,n,i,s){var r=t.toString();t=this.g[r],t||(t=this.g[r]=[],this.h++);var o=vt(t,e,i,s);return-1<o?(e=t[o],n||(e.fa=!1)):(e=new ft(e,this.src,r,!!i,s),e.fa=n,t.push(e)),e};var yt="closure_lm_"+(1e6*Math.random()|0),bt={};function wt(t,e,n,i,s){if(i&&i.once)return It(t,e,n,i,s);if(Array.isArray(e)){for(var r=0;r<e.length;r++)wt(t,e[r],n,i,s);return null}return n=Dt(n),t&&t[ht]?t.N(e,n,m(i)?!!i.capture:!!i,s):_t(t,e,n,!1,i,s)}function _t(t,e,n,i,s,r){if(!e)throw Error("Invalid event type");var o=m(s)?!!s.capture:!!s,a=kt(t);if(a||(t[yt]=a=new mt(t)),n=a.add(e,n,i,o,r),n.proxy)return n;if(i=St(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)at||(s=o),void 0===s&&(s=!1),t.addEventListener(e.toString(),i,s);else if(t.attachEvent)t.attachEvent(Et(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function St(){function t(n){return e.call(t.src,t.listener,n)}var e=Tt;return t}function It(t,e,n,i,s){if(Array.isArray(e)){for(var r=0;r<e.length;r++)It(t,e[r],n,i,s);return null}return n=Dt(n),t&&t[ht]?t.O(e,n,m(i)?!!i.capture:!!i,s):_t(t,e,n,!0,i,s)}function xt(t,e,n,i,s){if(Array.isArray(e))for(var r=0;r<e.length;r++)xt(t,e[r],n,i,s);else i=m(i)?!!i.capture:!!i,n=Dt(n),t&&t[ht]?(t=t.i,e=String(e).toString(),e in t.g&&(r=t.g[e],n=vt(r,n,i,s),-1<n&&(pt(r[n]),Array.prototype.splice.call(r,n,1),0==r.length&&(delete t.g[e],t.h--)))):t&&(t=kt(t))&&(e=t.g[e.toString()],t=-1,e&&(t=vt(e,n,i,s)),(n=-1<t?e[t]:null)&&Ct(n))}function Ct(t){if("number"!==typeof t&&t&&!t.ca){var e=t.src;if(e&&e[ht])gt(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(Et(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=kt(e))?(gt(n,t),0==n.h&&(n.src=null,e[yt]=null)):pt(t)}}}function Et(t){return t in bt?bt[t]:bt[t]="on"+t}function Tt(t,e){if(t.ca)t=!0;else{e=new lt(e,this);var n=t.listener,i=t.ia||t.src;t.fa&&Ct(t),t=n.call(i,e)}return t}function kt(t){return t=t[yt],t instanceof mt?t:null}var At="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dt(t){return"function"===typeof t?t:(t[At]||(t[At]=function(e){return t.handleEvent(e)}),t[At])}function Ot(){x.call(this),this.i=new mt(this),this.P=this,this.I=null}function Nt(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,"string"===typeof e)e=new ct(e,t);else if(e instanceof ct)e.target=e.target||t;else{var s=e;e=new ct(i,t),U(e,s)}if(s=!0,n)for(var r=n.length-1;0<=r;r--){var o=e.g=n[r];s=Lt(o,i,!0,e)&&s}if(o=e.g=t,s=Lt(o,i,!0,e)&&s,s=Lt(o,i,!1,e)&&s,n)for(r=0;r<n.length;r++)o=e.g=n[r],s=Lt(o,i,!1,e)&&s}function Lt(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,r=0;r<e.length;++r){var o=e[r];if(o&&!o.ca&&o.capture==n){var a=o.listener,c=o.ia||o.src;o.fa&&gt(t.i,o),s=!1!==a.call(c,i)&&s}}return s&&!i.defaultPrevented}I(Ot,x),Ot.prototype[ht]=!0,Ot.prototype.removeEventListener=function(t,e,n,i){xt(this,t,e,n,i)},Ot.prototype.M=function(){if(Ot.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)pt(n[i]);delete e.g[t],e.h--}}this.I=null},Ot.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},Ot.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};var $t=d.JSON.stringify;function Mt(){var t=zt;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Pt{constructor(){this.h=this.g=null}add(t,e){const n=Rt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}}var Ft,Rt=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new Vt),(t=>t.reset()));class Vt{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Bt(t){d.setTimeout((()=>{throw t}),0)}function jt(t,e){Ft||Ut(),qt||(Ft(),qt=!0),zt.add(t,e)}function Ut(){var t=d.Promise.resolve(void 0);Ft=function(){t.then(Ht)}}var qt=!1,zt=new Pt;function Ht(){for(var t;t=Mt();){try{t.h.call(t.g)}catch(n){Bt(n)}var e=Rt;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}qt=!1}function Zt(t,e){Ot.call(this),this.h=t||1,this.g=e||d,this.j=_(this.kb,this),this.l=Date.now()}function Wt(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Kt(t,e,n){if("function"===typeof t)n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:d.setTimeout(t,e||0)}function Gt(t){t.g=Kt((()=>{t.g=null,t.i&&(t.i=!1,Gt(t))}),t.j);const e=t.h;t.h=null,t.m.apply(null,e)}I(Zt,Ot),i=Zt.prototype,i.da=!1,i.S=null,i.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Nt(this,"tick"),this.da&&(Wt(this),this.start()))}},i.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},i.M=function(){Zt.Z.M.call(this),Wt(this),delete this.g};class Qt extends x{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Gt(this)}M(){super.M(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yt(t){x.call(this),this.h=t,this.g={}}I(Yt,x);var Xt=[];function Jt(t,e,n,i){Array.isArray(n)||(n&&(Xt[0]=n.toString()),n=Xt);for(var s=0;s<n.length;s++){var r=wt(e,n[s],i||t.handleEvent,!1,t.h||t);if(!r)break;t.g[r.key]=r}}function te(t){V(t.g,(function(t,e){this.g.hasOwnProperty(e)&&Ct(t)}),t),t.g={}}function ee(){this.g=!0}function ne(t,e,n,i,s,r){t.info((function(){if(t.g)if(r)for(var o="",a=r.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+e+"\n"+n+"\n"+o}))}function ie(t,e,n,i,s,r,o){t.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+e+"\n"+n+"\n"+r+" "+o}))}function se(t,e,n,i){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+oe(t,n)+(i?" "+i:"")}))}function re(t,e){t.info((function(){return"TIMEOUT: "+e}))}function oe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var r=s[0];if("noop"!=r&&"stop"!=r&&"close"!=r)for(var o=1;o<s.length;o++)s[o]=""}}}return $t(n)}catch(a){return e}}Yt.prototype.M=function(){Yt.Z.M.call(this),te(this)},Yt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ee.prototype.Aa=function(){this.g=!1},ee.prototype.info=function(){};var ae={},ce=null;function le(){return ce=ce||new Ot}function ue(t){ct.call(this,ae.Ma,t)}function he(t){const e=le();Nt(e,new ue(e,t))}function de(t,e){ct.call(this,ae.STAT_EVENT,t),this.stat=e}function fe(t){const e=le();Nt(e,new de(e,t))}function pe(t,e){ct.call(this,ae.Na,t),this.size=e}function me(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return d.setTimeout((function(){t()}),e)}ae.Ma="serverreachability",I(ue,ct),ae.STAT_EVENT="statevent",I(de,ct),ae.Na="timingevent",I(pe,ct);var ge={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ve={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ye(){}function be(t){return t.h||(t.h=t.i())}function we(){}ye.prototype.h=null;var _e,Se={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ie(){ct.call(this,"d")}function xe(){ct.call(this,"c")}function Ce(){}function Ee(t,e,n,i){this.l=t,this.j=e,this.m=n,this.X=i||1,this.V=new Yt(this),this.P=ke,t=G?125:void 0,this.W=new Zt(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Te}function Te(){this.i=null,this.g="",this.h=!1}I(Ie,ct),I(xe,ct),I(Ce,ye),Ce.prototype.g=function(){return new XMLHttpRequest},Ce.prototype.i=function(){return{}},_e=new Ce;var ke=45e3,Ae={},De={};function Oe(t,e,n){t.K=1,t.v=nn(Qe(e)),t.s=n,t.U=!0,Ne(t,null)}function Ne(t,e){t.F=Date.now(),Pe(t),t.A=Qe(t.v);var n=t.A,i=t.X;Array.isArray(i)||(i=[String(i)]),yn(n.h,"t",i),t.C=0,n=t.l.H,t.h=new Te,t.g=xi(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Qt(_(t.Ia,t,t.g),t.O)),Jt(t.V,t.g,"readystatechange",t.gb),e=t.H?B(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),he(1),ne(t.j,t.u,t.A,t.m,t.X,t.s)}function Le(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Ba)}function $e(t,e,n){let i,s=!0;for(;!t.I&&t.C<n.length;){if(i=Me(t,n),i==De){4==e&&(t.o=4,fe(14),s=!1),se(t.j,t.m,null,"[Incomplete Response]");break}if(i==Ae){t.o=4,fe(15),se(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}se(t.j,t.m,i,null),je(t,i)}Le(t)&&i!=De&&i!=Ae&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,fe(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),gi(e),e.L=!0,fe(11))):(se(t.j,t.m,n,"[Invalid Chunked Response]"),Be(t),Ve(t))}function Me(t,e){var n=t.C,i=e.indexOf("\n",n);return-1==i?De:(n=Number(e.substring(n,i)),isNaN(n)?Ae:(i+=1,i+n>e.length?De:(e=e.substr(i,n),t.C=i+n,e)))}function Pe(t){t.Y=Date.now()+t.P,Fe(t,t.P)}function Fe(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=me(_(t.eb,t),e)}function Re(t){t.B&&(d.clearTimeout(t.B),t.B=null)}function Ve(t){0==t.l.G||t.I||bi(t.l,t)}function Be(t){Re(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Wt(t.W),te(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function je(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||En(n.i,t)))if(n.I=t.N,!t.J&&En(n.i,t)&&3==n.G){try{var i=n.Ca.g.parse(e)}catch(l){i=null}if(Array.isArray(i)&&3==i.length){var s=i;if(0==s[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;yi(n),oi(n)}mi(n),fe(18)}}else n.ta=s[1],0<n.ta-n.U&&37500>s[2]&&n.N&&0==n.A&&!n.v&&(n.v=me(_(n.ab,n),6e3));if(1>=Cn(n.i)&&n.ka){try{n.ka()}catch(l){}n.ka=void 0}}else _i(n,11)}else if((t.J||n.g==t)&&yi(n),!N(e))for(s=n.Ca.g.parse(e),e=0;e<s.length;e++){let l=s[e];if(n.U=l[0],l=l[1],2==n.G)if("c"==l[0]){n.J=l[1],n.la=l[2];const e=l[3];null!=e&&(n.ma=e,n.h.info("VER="+n.ma));const s=l[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&0<u&&(i=1.5*u,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var r=i.i;!r.g&&(M(t,"spdy")||M(t,"quic")||M(t,"h2"))&&(r.j=r.l,r.g=new Set,r.h&&(Tn(r,r.h),r.h=null))}if(i.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(i.sa=t,en(i.F,i.D,t))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var o=t;if(i.oa=Ii(i,i.H?i.la:null,i.W),o.J){kn(i.i,o);var a=o,c=i.K;c&&a.setTimeout(c),a.B&&(Re(a),Pe(a)),i.g=o}else pi(i);0<n.l.length&&li(n)}else"stop"!=l[0]&&"close"!=l[0]||_i(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?_i(n,7):ri(n):"noop"!=l[0]&&n.j&&n.j.wa(l),n.A=0)}he(4)}catch(l){}}function Ue(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"===typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function qe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"===typeof t)k(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(p(t)||"string"===typeof t){n=[];for(var i=t.length,s=0;s<i;s++)n.push(s)}else for(s in n=[],i=0,t)n[i++]=s;i=Ue(t),s=i.length;for(var r=0;r<s;r++)e.call(void 0,i[r],n&&n[r],t)}}function ze(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof ze)for(n=t.T(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function He(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var i=t.g[e];Ze(t.h,i)&&(t.g[n++]=i),e++}t.g.length=n}if(t.i!=t.g.length){var s={};for(n=e=0;e<t.g.length;)i=t.g[e],Ze(s,i)||(t.g[n++]=i,s[i]=1),e++;t.g.length=n}}function Ze(t,e){return Object.prototype.hasOwnProperty.call(t,e)}i=Ee.prototype,i.setTimeout=function(t){this.P=t},i.gb=function(t){t=t.target;const e=this.L;e&&3==Jn(t)?e.l():this.Ia(t)},i.Ia=function(t){try{if(t==this.g)t:{const u=Jn(this.g);var e=this.g.Da();const h=this.g.ba();if(!(3>u)&&(3!=u||G||this.g&&(this.h.h||this.g.ga()||ti(this.g)))){this.I||4!=u||7==e||he(8==e||0>=h?3:2),Re(this);var n=this.g.ba();this.N=n;e:if(Le(this)){var i=ti(this.g);t="";var s=i.length,r=4==Jn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Be(this),Ve(this);var o="";break e}this.h.i=new d.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:r&&e==s-1});i.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,ie(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){e:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(a)){var l=a;break e}}l=null}if(!(n=l)){this.i=!1,this.o=3,fe(12),Be(this),Ve(this);break t}se(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,je(this,n)}this.U?($e(this,u,o),G&&this.i&&3==u&&(Jt(this.V,this.W,"tick",this.fb),this.W.start())):(se(this.j,this.m,o,null),je(this,o)),4==u&&Be(this),this.i&&!this.I&&(4==u?bi(this.l,this):(this.i=!1,Pe(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,fe(12)):(this.o=0,fe(13)),Be(this),Ve(this)}}}catch(u){}},i.fb=function(){if(this.g){var t=Jn(this.g),e=this.g.ga();this.C<e.length&&(Re(this),$e(this,t,e),this.i&&4!=t&&Pe(this))}},i.cancel=function(){this.I=!0,Be(this)},i.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(re(this.j,this.A),2!=this.K&&(he(3),fe(17)),Be(this),this.o=2,Ve(this)):Fe(this,this.Y-t)},i=ze.prototype,i.R=function(){He(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},i.T=function(){return He(this),this.g.concat()},i.get=function(t,e){return Ze(this.h,t)?this.h[t]:e},i.set=function(t,e){Ze(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},i.forEach=function(t,e){for(var n=this.T(),i=0;i<n.length;i++){var s=n[i],r=this.get(s);t.call(e,r,s,this)}};var We=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ke(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),s=null;if(0<=i){var r=t[n].substring(0,i);s=t[n].substring(i+1)}else r=t[n];e(r,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Ge(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ge){this.g=void 0!==e?e:t.g,Ye(this,t.j),this.s=t.s,Xe(this,t.i),Je(this,t.m),this.l=t.l,e=t.h;var n=new pn;n.i=e.i,e.g&&(n.g=new ze(e.g),n.h=e.h),tn(this,n),this.o=t.o}else t&&(n=String(t).match(We))?(this.g=!!e,Ye(this,n[1]||"",!0),this.s=on(n[2]||""),Xe(this,n[3]||"",!0),Je(this,n[4]),this.l=on(n[5]||"",!0),tn(this,n[6]||"",!0),this.o=on(n[7]||"")):(this.g=!!e,this.h=new pn(null,this.g))}function Qe(t){return new Ge(t)}function Ye(t,e,n){t.j=n?on(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Xe(t,e,n){t.i=n?on(e,!0):e}function Je(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function tn(t,e,n){e instanceof pn?(t.h=e,wn(t.h,t.g)):(n||(e=an(e,dn)),t.h=new pn(e,t.g))}function en(t,e,n){t.h.set(e,n)}function nn(t){return en(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function sn(t){return t instanceof Ge?Qe(t):new Ge(t,void 0)}function rn(t,e,n,i){var s=new Ge(null,void 0);return t&&Ye(s,t),e&&Xe(s,e),n&&Je(s,n),i&&(s.l=i),s}function on(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function an(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,cn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function cn(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}Ge.prototype.toString=function(){var t=[],e=this.j;e&&t.push(an(e,ln,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(an(e,ln,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,null!=n&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(an(n,"/"==n.charAt(0)?hn:un,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",an(n,fn)),t.join("")};var ln=/[#\/\?@]/g,un=/[#\?:]/g,hn=/[#\?]/g,dn=/[#\?@]/g,fn=/#/g;function pn(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function mn(t){t.g||(t.g=new ze,t.h=0,t.i&&Ke(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function gn(t,e){mn(t),e=bn(t,e),Ze(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,Ze(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&He(t)))}function vn(t,e){return mn(t),e=bn(t,e),Ze(t.g.h,e)}function yn(t,e,n){gn(t,e),0<n.length&&(t.i=null,t.g.set(bn(t,e),O(n)),t.h+=n.length)}function bn(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function wn(t,e){e&&!t.j&&(mn(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(gn(this,e),yn(this,n,t))}),t)),t.j=e}i=pn.prototype,i.add=function(t,e){mn(this),this.i=null,t=bn(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},i.forEach=function(t,e){mn(this),this.g.forEach((function(n,i){k(n,(function(n){t.call(e,n,i,this)}),this)}),this)},i.T=function(){mn(this);for(var t=this.g.R(),e=this.g.T(),n=[],i=0;i<e.length;i++)for(var s=t[i],r=0;r<s.length;r++)n.push(e[i]);return n},i.R=function(t){mn(this);var e=[];if("string"===typeof t)vn(this,t)&&(e=D(e,this.g.get(bn(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=D(e,t[n])}return e},i.set=function(t,e){return mn(this),this.i=null,t=bn(this,t),vn(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},i.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e},i.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var i=e[n],s=encodeURIComponent(String(i));i=this.R(i);for(var r=0;r<i.length;r++){var o=s;""!==i[r]&&(o+="="+encodeURIComponent(String(i[r]))),t.push(o)}}return this.i=t.join("&")};var _n=class{constructor(t,e){this.h=t,this.g=e}};function Sn(t){this.l=t||In,d.PerformanceNavigationTiming?(t=d.performance.getEntriesByType("navigation"),t=0<t.length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol)):t=!!(d.g&&d.g.Ea&&d.g.Ea()&&d.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var In=10;function xn(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Cn(t){return t.h?1:t.g?t.g.size:0}function En(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Tn(t,e){t.g?t.g.add(e):t.h=e}function kn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function An(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return O(t.i)}function Dn(){}function On(){this.g=new Dn}function Nn(t,e,n){const i=n||"";try{qe(t,(function(t,n){let s=t;m(t)&&(s=$t(t)),e.push(i+n+"="+encodeURIComponent(s))}))}catch(s){throw e.push(i+"type="+encodeURIComponent("_badmap")),s}}function Ln(t,e){const n=new ee;if(d.Image){const i=new Image;i.onload=S($n,n,i,"TestLoadImage: loaded",!0,e),i.onerror=S($n,n,i,"TestLoadImage: error",!1,e),i.onabort=S($n,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=S($n,n,i,"TestLoadImage: timeout",!1,e),d.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=t}else e(!1)}function $n(t,e,n,i,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(i)}catch(r){}}function Mn(t){this.l=t.$b||null,this.j=t.ib||!1}function Pn(t,e){Ot.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Fn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Sn.prototype.cancel=function(){if(this.i=An(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},Dn.prototype.stringify=function(t){return d.JSON.stringify(t,void 0)},Dn.prototype.parse=function(t){return d.JSON.parse(t,void 0)},I(Mn,ye),Mn.prototype.g=function(){return new Pn(this.l,this.j)},Mn.prototype.i=function(t){return function(){return t}}({}),I(Pn,Ot);var Fn=0;function Rn(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Vn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Bn(t)}function Bn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}i=Pn.prototype,i.open=function(t,e){if(this.readyState!=Fn)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Bn(this)},i.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||d).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},i.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vn(this)),this.readyState=Fn},i.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof d.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Rn(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},i.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Vn(this):Bn(this),3==this.readyState&&Rn(this)}},i.Ua=function(t){this.g&&(this.response=this.responseText=t,Vn(this))},i.Ta=function(t){this.g&&(this.response=t,Vn(this))},i.ha=function(){this.g&&Vn(this)},i.setRequestHeader=function(t,e){this.v.append(t,e)},i.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Pn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var jn=d.JSON.parse;function Un(t){Ot.call(this),this.headers=new ze,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qn,this.K=this.L=!1}I(Un,Ot);var qn="",zn=/^https?$/i,Hn=["POST","PUT"];function Zn(t){return W&&st()&&"number"===typeof t.timeout&&void 0!==t.ontimeout}function Wn(t){return"content-type"==t.toLowerCase()}function Kn(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Gn(t),Yn(t)}function Gn(t){t.D||(t.D=!0,Nt(t,"complete"),Nt(t,"error"))}function Qn(t){if(t.h&&"undefined"!=typeof h&&(!t.C[1]||4!=Jn(t)||2!=t.ba()))if(t.v&&4==Jn(t))Kt(t.Fa,0,t);else if(Nt(t,"readystatechange"),4==Jn(t)){t.h=!1;try{const c=t.ba();t:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var i;if(i=0===c){var s=String(t.H).match(We)[1]||null;if(!s&&d.self&&d.self.location){var r=d.self.location.protocol;s=r.substr(0,r.length-1)}i=!zn.test(s?s.toLowerCase():"")}n=i}if(n)Nt(t,"complete"),Nt(t,"success");else{t.m=6;try{var o=2<Jn(t)?t.g.statusText:""}catch(a){o=""}t.j=o+" ["+t.ba()+"]",Gn(t)}}finally{Yn(t)}}}function Yn(t,e){if(t.g){Xn(t);const i=t.g,s=t.C[0]?f:null;t.g=null,t.C=null,e||Nt(t,"ready");try{i.onreadystatechange=s}catch(n){}}}function Xn(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(d.clearTimeout(t.A),t.A=null)}function Jn(t){return t.g?t.g.readyState:0}function ti(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case qn:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ei(t){let e="";return V(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function ni(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=ei(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):en(t,e,n))}function ii(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function si(t){this.za=0,this.l=[],this.h=new ee,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ii("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ii("baseRetryDelayMs",5e3,t),this.$a=ii("retryDelaySeedMs",1e4,t),this.Ya=ii("forwardChannelMaxRetries",2,t),this.ra=ii("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Sn(t&&t.concurrentRequestLimit),this.Ca=new On,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function ri(t){if(ai(t),3==t.G){var e=t.V++,n=Qe(t.F);en(n,"SID",t.J),en(n,"RID",e),en(n,"TYPE","terminate"),di(t,n),e=new Ee(t,t.h,e,void 0),e.K=2,e.v=nn(Qe(n)),n=!1,d.navigator&&d.navigator.sendBeacon&&(n=d.navigator.sendBeacon(e.v.toString(),"")),!n&&d.Image&&((new Image).src=e.v,n=!0),n||(e.g=xi(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Pe(e)}Si(t)}function oi(t){t.g&&(gi(t),t.g.cancel(),t.g=null)}function ai(t){oi(t),t.u&&(d.clearTimeout(t.u),t.u=null),yi(t),t.i.cancel(),t.m&&("number"===typeof t.m&&d.clearTimeout(t.m),t.m=null)}function ci(t,e){t.l.push(new _n(t.Za++,e)),3==t.G&&li(t)}function li(t){xn(t.i)||t.m||(t.m=!0,jt(t.Ha,t),t.C=0)}function ui(t,e){return!(Cn(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.l=e.D.concat(t.l),!0):!(1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya))&&(t.m=me(_(t.Ha,t,e),wi(t,t.C)),t.C++,!0))}function hi(t,e){var n;n=e?e.m:t.V++;const i=Qe(t.F);en(i,"SID",t.J),en(i,"RID",n),en(i,"AID",t.U),di(t,i),t.o&&t.s&&ni(i,t.o,t.s),n=new Ee(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=fi(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Tn(t.i,n),Oe(n,i,e)}function di(t,e){t.j&&qe({},(function(t,n){en(e,n,t)}))}function fi(t,e,n){n=Math.min(t.l.length,n);var i=t.j?_(t.j.Oa,t.j,t):null;t:{var s=t.l;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=s[0].h,t.push("ofs="+e)):e=0:t.push("ofs="+e);let r=!0;for(let o=0;o<n;o++){let n=s[o].h;const a=s[o].g;if(n-=e,0>n)e=Math.max(0,s[o].h-100),r=!1;else try{Nn(a,t,"req"+n+"_")}catch(ts){i&&i(a)}}if(r){i=t.join("&");break t}}}return t=t.l.splice(0,n),e.D=t,i}function pi(t){t.g||t.u||(t.Y=1,jt(t.Ga,t),t.A=0)}function mi(t){return!(t.g||t.u||3<=t.A)&&(t.Y++,t.u=me(_(t.Ga,t),wi(t,t.A)),t.A++,!0)}function gi(t){null!=t.B&&(d.clearTimeout(t.B),t.B=null)}function vi(t){t.g=new Ee(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Qe(t.oa);en(e,"RID","rpc"),en(e,"SID",t.J),en(e,"CI",t.N?"0":"1"),en(e,"AID",t.U),di(t,e),en(e,"TYPE","xmlhttp"),t.o&&t.s&&ni(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=nn(Qe(e)),n.s=null,n.U=!0,Ne(n,t)}function yi(t){null!=t.v&&(d.clearTimeout(t.v),t.v=null)}function bi(t,e){var n=null;if(t.g==e){yi(t),gi(t),t.g=null;var i=2}else{if(!En(t.i,e))return;n=e.D,kn(t.i,e),i=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==i){n=e.s?e.s.length:0,e=Date.now()-e.F;var s=t.C;i=le(),Nt(i,new pe(i,n,e,s)),li(t)}else pi(t);else if(s=e.o,3==s||0==s&&0<t.I||!(1==i&&ui(t,e)||2==i&&mi(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:_i(t,5);break;case 4:_i(t,10);break;case 3:_i(t,6);break;default:_i(t,2)}}function wi(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function _i(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var i=_(t.jb,t);n||(n=new Ge("//www.google.com/images/cleardot.gif"),d.location&&"http"==d.location.protocol||Ye(n,"https"),nn(n)),Ln(n.toString(),i)}else fe(2);t.G=0,t.j&&t.j.va(e),Si(t),ai(t)}function Si(t){t.G=0,t.I=-1,t.j&&(0==An(t.i).length&&0==t.l.length||(t.i.i.length=0,O(t.l),t.l.length=0),t.j.ua())}function Ii(t,e,n){let i=sn(n);if(""!=i.i)e&&Xe(i,e+"."+i.i),Je(i,i.m);else{const t=d.location;i=rn(t.protocol,e?e+"."+t.hostname:t.hostname,+t.port,n)}return t.aa&&V(t.aa,(function(t,e){en(i,e,t)})),e=t.D,n=t.sa,e&&n&&en(i,e,n),en(i,"VER",t.ma),di(t,i),i}function xi(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new Un(new Mn({ib:!0})):new Un(t.qa),e.L=t.H,e}function Ci(){}function Ei(){if(W&&!(10<=Number(ot)))throw Error("Environmental error: no available transport.")}function Ti(t,e){Ot.call(this),this.g=new si(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!N(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!N(e)&&(this.g.D=e,t=this.h,null!==t&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Di(this)}function ki(t){Ie.call(this);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Ai(){xe.call(this),this.status=1}function Di(t){this.g=t}i=Un.prototype,i.ea=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_e.g(),this.C=this.u?be(this.u):be(_e),this.g.onreadystatechange=_(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(r){return void Kn(this,r)}t=n||"";const s=new ze(this.headers);i&&qe(i,(function(t,e){s.set(e,t)})),i=A(s.T()),n=d.FormData&&t instanceof d.FormData,!(0<=T(Hn,e))||i||n||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Xn(this),0<this.B&&((this.K=Zn(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_(this.pa,this)):this.A=Kt(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(r){Kn(this,r)}},i.pa=function(){"undefined"!=typeof h&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nt(this,"timeout"),this.abort(8))},i.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Nt(this,"complete"),Nt(this,"abort"),Yn(this))},i.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yn(this,!0)),Un.Z.M.call(this)},i.Fa=function(){this.s||(this.F||this.v||this.l?Qn(this):this.cb())},i.cb=function(){Qn(this)},i.ba=function(){try{return 2<Jn(this)?this.g.status:-1}catch(t){return-1}},i.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},i.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),jn(e)}},i.Da=function(){return this.m},i.La=function(){return"string"===typeof this.j?this.j:String(this.j)},i=si.prototype,i.ma=8,i.G=1,i.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},i.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const s=new Ee(this,this.h,t,void 0);let r=this.s;if(this.P&&(r?(r=B(r),U(r,this.P)):r=this.P),null===this.o&&(s.H=r),this.ja)t:{for(var e=0,n=0;n<this.l.length;n++){var i=this.l[n];if(i="__data__"in i.g&&(i=i.g.__data__,"string"===typeof i)?i.length:void 0,void 0===i)break;if(e+=i,4096<e){e=n;break t}if(4096===e||n===this.l.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=fi(this,s,e),n=Qe(this.F),en(n,"RID",t),en(n,"CVER",22),this.D&&en(n,"X-HTTP-Session-Id",this.D),di(this,n),this.o&&r&&ni(n,this.o,r),Tn(this.i,s),this.Ra&&en(n,"TYPE","init"),this.ja?(en(n,"$req",e),en(n,"SID","null"),s.$=!0,Oe(s,n,null)):Oe(s,n,e),this.G=2}}else 3==this.G&&(t?hi(this,t):0==this.l.length||xn(this.i)||hi(this))},i.Ga=function(){if(this.u=null,vi(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=me(_(this.bb,this),t)}},i.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,fe(10),oi(this),vi(this))},i.ab=function(){null!=this.v&&(this.v=null,oi(this),mi(this),fe(19))},i.jb=function(t){t?(this.h.info("Successfully pinged google.com"),fe(2)):(this.h.info("Failed to ping google.com"),fe(1))},i=Ci.prototype,i.xa=function(){},i.wa=function(){},i.va=function(){},i.ua=function(){},i.Oa=function(){},Ei.prototype.g=function(t,e){return new Ti(t,e)},I(Ti,Ot),Ti.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),jt(_(t.hb,t,e))),fe(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Ii(t,null,t.W),li(t)},Ti.prototype.close=function(){ri(this.g)},Ti.prototype.u=function(t){if("string"===typeof t){var e={};e.__data__=t,ci(this.g,e)}else this.v?(e={},e.__data__=$t(t),ci(this.g,e)):ci(this.g,t)},Ti.prototype.M=function(){this.g.j=null,delete this.j,ri(this.g),delete this.g,Ti.Z.M.call(this)},I(ki,Ie),I(Ai,xe),I(Di,Ci),Di.prototype.xa=function(){Nt(this.g,"a")},Di.prototype.wa=function(t){Nt(this.g,new ki(t))},Di.prototype.va=function(t){Nt(this.g,new Ai(t))},Di.prototype.ua=function(){Nt(this.g,"b")},Ei.prototype.createWebChannel=Ei.prototype.g,Ti.prototype.send=Ti.prototype.u,Ti.prototype.open=Ti.prototype.m,Ti.prototype.close=Ti.prototype.close,ge.NO_ERROR=0,ge.TIMEOUT=8,ge.HTTP_ERROR=6,ve.COMPLETE="complete",we.EventType=Se,Se.OPEN="a",Se.CLOSE="b",Se.ERROR="c",Se.MESSAGE="d",Ot.prototype.listen=Ot.prototype.N,Un.prototype.listenOnce=Un.prototype.O,Un.prototype.getLastError=Un.prototype.La,Un.prototype.getLastErrorCode=Un.prototype.Da,Un.prototype.getStatus=Un.prototype.ba,Un.prototype.getResponseJson=Un.prototype.Qa,Un.prototype.getResponseText=Un.prototype.ga,Un.prototype.send=Un.prototype.ea;var Oi=u.createWebChannelTransport=function(){return new Ei},Ni=u.getStatEventTarget=function(){return le()},Li=u.ErrorCode=ge,$i=u.EventType=ve,Mi=u.Event=ae,Pi=u.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Fi=u.FetchXmlHttpFactory=Mn,Ri=u.WebChannel=we,Vi=u.XhrIo=Un;const Bi="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ji.UNAUTHENTICATED=new ji(null),ji.GOOGLE_CREDENTIALS=new ji("google-credentials-uid"),ji.FIRST_PARTY=new ji("first-party-uid"),ji.MOCK_USER=new ji("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Ui="9.6.7";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new a.Yd("@firebase/firestore");function zi(){return qi.logLevel}function Hi(t){qi.setLogLevel(t)}function Zi(t,...e){if(qi.logLevel<=a["in"].DEBUG){const n=e.map(Gi);qi.debug(`Firestore (${Ui}): ${t}`,...n)}}function Wi(t,...e){if(qi.logLevel<=a["in"].ERROR){const n=e.map(Gi);qi.error(`Firestore (${Ui}): ${t}`,...n)}}function Ki(t,...e){if(qi.logLevel<=a["in"].WARN){const n=e.map(Gi);qi.warn(`Firestore (${Ui}): ${t}`,...n)}}function Gi(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(t="Unexpected state"){const e=`FIRESTORE (${Ui}) INTERNAL ASSERTION FAILED: `+t;throw Wi(e),new Error(e)}function Yi(t,e){t||Qi()}function Xi(t,e){t||Qi()}function Ji(t,e){return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class es extends c.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ss{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(ji.UNAUTHENTICATED)))}shutdown(){}}class rs{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class os{constructor(t){this.t=t,this.currentUser=ji.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const i=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let s=new ns;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ns,t.enqueueRetryable((()=>i(this.currentUser)))};const r=()=>{const e=s;t.enqueueRetryable((async()=>{await e.promise,await i(this.currentUser)}))},o=t=>{Zi("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),r()};this.t.onInit((t=>o(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(Zi("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ns)}}),0),r()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(Zi("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(Yi("string"==typeof e.accessToken),new is(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Yi(null===t||"string"==typeof t),new ji(t)}}class as{constructor(t,e,n){this.type="FirstParty",this.user=ji.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class cs{constructor(t,e,n){this.h=t,this.l=e,this.m=n}getToken(){return Promise.resolve(new as(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable((()=>e(ji.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ls{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class us{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const n=t=>{null!=t.error&&Zi("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const n=t.token!==this.p;return this.p=t.token,Zi("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const i=t=>{Zi("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.g.onInit((t=>i(t))),setTimeout((()=>{if(!this.appCheck){const t=this.g.getImmediate({optional:!0});t?i(t):Zi("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(Yi("string"==typeof t.token),this.p=t.token,new ls(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class hs{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.I(t),this.T=t=>e.writeSequenceNumber(t))}I(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hs.A=-1;class fs{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const i=ds(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<e&&(n+=t.charAt(i[s]%t.length))}return n}}function ps(t,e){return t<e?-1:t>e?1:0}function ms(t,e,n){return t.length===e.length&&t.every(((t,i)=>n(t,e[i])))}function gs(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new es(ts.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new es(ts.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new es(ts.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new es(ts.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return vs.fromMillis(Date.now())}static fromDate(t){return vs.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new vs(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ps(this.nanoseconds,t.nanoseconds):ps(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ys(t)}static min(){return new ys(new vs(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ws(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _s(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(t,e,n){void 0===e?e=0:e>t.length&&Qi(),void 0===n?n=t.length-e:n>t.length-e&&Qi(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===Ss.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ss?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const n=t.get(i),s=e.get(i);if(n<s)return-1;if(n>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Is extends Ss{construct(t,e,n){return new Is(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new es(ts.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter((t=>t.length>0)))}return new Is(e)}static emptyPath(){return new Is([])}}const xs=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cs extends Ss{construct(t,e,n){return new Cs(t,e,n)}static isValidIdentifier(t){return xs.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cs.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Cs(["__name__"])}static fromServerFormat(t){const e=[];let n="",i=0;const s=()=>{if(0===n.length)throw new es(ts.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let r=!1;for(;i<t.length;){const e=t[i];if("\\"===e){if(i+1===t.length)throw new es(ts.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[i+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new es(ts.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,i+=2}else"`"===e?(r=!r,i++):"."!==e||r?(n+=e,i++):(s(),i++)}if(s(),r)throw new es(ts.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Cs(e)}static emptyPath(){return new Cs([])}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(t){this.fields=t,t.sort(Cs.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return ms(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(){return"undefined"!=typeof atob}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new ks(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new ks(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ps(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ks.EMPTY_BYTE_STRING=new ks("");const As=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(t){if(Yi(!!t),"string"==typeof t){let e=0;const n=As.exec(t);if(Yi(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Os(t.seconds),nanos:Os(t.nanos)}}function Os(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ns(t){return"string"==typeof t?ks.fromBase64String(t):ks.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function $s(t){const e=t.mapValue.fields.__previous_value__;return Ls(e)?$s(e):e}function Ms(t){const e=Ds(t.mapValue.fields.__local_write_time__.timestampValue);return new vs(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(t,e,n,i,s,r,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=r,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class Fs{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Fs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Fs&&t.projectId===this.projectId&&t.database===this.database}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t){return null==t}function Vs(t){return 0===t&&1/t==-1/0}function Bs(t){return"number"==typeof t&&Number.isInteger(t)&&!Vs(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t){this.path=t}static fromPath(t){return new js(Is.fromString(t))}static fromName(t){return new js(Is.fromString(t).popFirst(5))}static empty(){return new js(Is.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Is.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Is.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new js(new Is(t.slice()))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function qs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ls(t)?4:10:Qi()}function zs(t,e){if(t===e)return!0;const n=qs(t);if(n!==qs(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ms(t).isEqual(Ms(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=Ds(t.timestampValue),i=Ds(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Ns(t.bytesValue).isEqual(Ns(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Os(t.geoPointValue.latitude)===Os(e.geoPointValue.latitude)&&Os(t.geoPointValue.longitude)===Os(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Os(t.integerValue)===Os(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=Os(t.doubleValue),i=Os(e.doubleValue);return n===i?Vs(n)===Vs(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return ms(t.arrayValue.values||[],e.arrayValue.values||[],zs);case 10:return function(t,e){const n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(bs(n)!==bs(i))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===i[s]||!zs(n[s],i[s])))return!1;return!0}(t,e);default:return Qi()}}function Hs(t,e){return void 0!==(t.values||[]).find((t=>zs(t,e)))}function Zs(t,e){if(t===e)return 0;const n=qs(t),i=qs(e);if(n!==i)return ps(n,i);switch(n){case 0:return 0;case 1:return ps(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=Os(t.integerValue||t.doubleValue),i=Os(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return Ws(t.timestampValue,e.timestampValue);case 4:return Ws(Ms(t),Ms(e));case 5:return ps(t.stringValue,e.stringValue);case 6:return function(t,e){const n=Ns(t),i=Ns(e);return n.compareTo(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),i=e.split("/");for(let s=0;s<n.length&&s<i.length;s++){const t=ps(n[s],i[s]);if(0!==t)return t}return ps(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=ps(Os(t.latitude),Os(e.latitude));return 0!==n?n:ps(Os(t.longitude),Os(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const t=Zs(n[s],i[s]);if(t)return t}return ps(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){const n=t.fields||{},i=Object.keys(n),s=e.fields||{},r=Object.keys(s);i.sort(),r.sort();for(let o=0;o<i.length&&o<r.length;++o){const t=ps(i[o],r[o]);if(0!==t)return t;const e=Zs(n[i[o]],s[r[o]]);if(0!==e)return e}return ps(i.length,r.length)}(t.mapValue,e.mapValue);default:throw Qi()}}function Ws(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ps(t,e);const n=Ds(t),i=Ds(e),s=ps(n.seconds,i.seconds);return 0!==s?s:ps(n.nanos,i.nanos)}function Ks(t){return Gs(t)}function Gs(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=Ds(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ns(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,js.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(t){let e="[",n=!0;for(const i of t.values||[])n?n=!1:e+=",",e+=Gs(i);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",i=!0;for(const s of e)i?i=!1:n+=",",n+=`${s}:${Gs(t.fields[s])}`;return n+"}"}(t.mapValue):Qi();var e,n}function Qs(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ys(t){return!!t&&"integerValue"in t}function Xs(t){return!!t&&"arrayValue"in t}function Js(t){return!!t&&"nullValue"in t}function tr(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function er(t){return!!t&&"mapValue"in t}function nr(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ws(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=nr(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nr(t.arrayValue.values[n]);return e}return Object.assign({},t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t){this.value=t}static empty(){return new ir({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!er(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=nr(e)}setAll(t){let e=Cs.emptyPath(),n={},i=[];t.forEach(((t,s)=>{if(!e.isImmediateParentOf(s)){const t=this.getFieldsMap(e);this.applyChanges(t,n,i),n={},i=[],e=s.popLast()}t?n[s.lastSegment()]=nr(t):i.push(s.lastSegment())}));const s=this.getFieldsMap(e);this.applyChanges(s,n,i)}delete(t){const e=this.field(t.popLast());er(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return zs(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=e.mapValue.fields[t.get(n)];er(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,n){ws(e,((e,n)=>t[e]=n));for(const i of n)delete t[i]}clone(){return new ir(nr(this.value))}}function sr(t){const e=[];return ws(t.fields,((t,n)=>{const i=new Cs([t]);if(er(n)){const t=sr(n.mapValue).fields;if(0===t.length)e.push(i);else for(const n of t)e.push(i.child(n))}else e.push(i)})),new Es(e)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class rr{constructor(t,e,n,i,s,r){this.key=t,this.documentType=e,this.version=n,this.readTime=i,this.data=s,this.documentState=r}static newInvalidDocument(t){return new rr(t,0,ys.min(),ys.min(),ir.empty(),0)}static newFoundDocument(t,e,n){return new rr(t,1,e,ys.min(),n,0)}static newNoDocument(t,e){return new rr(t,2,e,ys.min(),ir.empty(),0)}static newUnknownDocument(t,e){return new rr(t,3,e,ys.min(),ir.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ir.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof rr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class or{constructor(t,e,n,i){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=i}}or.UNKNOWN_ID=-1;class ar{constructor(t,e){this.fieldPath=t,this.kind=e}}class cr{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new cr(0,lr.min())}}class lr{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new lr(ys.min(),js.empty(),-1)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(t,e=null,n=[],i=[],s=null,r=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=r,this.endAt=o,this.P=null}}function hr(t,e=null,n=[],i=[],s=null,r=null,o=null){return new ur(t,e,n,i,s,r,o)}function dr(t){const e=Ji(t);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>{return(e=t).field.canonicalString()+e.op.toString()+Ks(e.value);var e})).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),Rs(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>Ks(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>Ks(t))).join(",")),e.P=t}return e.P}function fr(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((t=>{return`${(e=t).field.canonicalString()} ${e.op} ${Ks(e.value)}`;var e})).join(", ")}]`),Rs(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t))).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>Ks(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>Ks(t))).join(",")),`Target(${e})`}function pr(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<t.orderBy.length;s++)if(!Tr(t.orderBy[s],e.orderBy[s]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let s=0;s<t.filters.length;s++)if(n=t.filters[s],i=e.filters[s],n.op!==i.op||!n.field.isEqual(i.field)||!zs(n.value,i.value))return!1;var n,i;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ar(t.startAt,e.startAt)&&Ar(t.endAt,e.endAt)}function mr(t){return js.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class gr extends class{}{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.v(t,e,n):new vr(t,e,n):"array-contains"===e?new _r(t,n):"in"===e?new Sr(t,n):"not-in"===e?new Ir(t,n):"array-contains-any"===e?new xr(t,n):new gr(t,e,n)}static v(t,e,n){return"in"===e?new yr(t,n):new br(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.V(Zs(e,this.value)):null!==e&&qs(this.value)===qs(e)&&this.V(Zs(e,this.value))}V(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Qi()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class vr extends gr{constructor(t,e,n){super(t,e,n),this.key=js.fromName(n.referenceValue)}matches(t){const e=js.comparator(t.key,this.key);return this.V(e)}}class yr extends gr{constructor(t,e){super(t,"in",e),this.keys=wr("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class br extends gr{constructor(t,e){super(t,"not-in",e),this.keys=wr("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function wr(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>js.fromName(t.referenceValue)))}class _r extends gr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Xs(e)&&Hs(e.arrayValue,this.value)}}class Sr extends gr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Hs(this.value.arrayValue,e)}}class Ir extends gr{constructor(t,e){super(t,"not-in",e)}matches(t){if(Hs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Hs(this.value.arrayValue,e)}}class xr extends gr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Xs(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>Hs(this.value.arrayValue,t)))}}class Cr{constructor(t,e){this.position=t,this.inclusive=e}}class Er{constructor(t,e="asc"){this.field=t,this.dir=e}}function Tr(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function kr(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const r=e[s],o=t.position[s];if(i=r.field.isKeyField()?js.comparator(js.fromName(o.referenceValue),n.key):Zs(o,n.data.field(r.field)),"desc"===r.dir&&(i*=-1),0!==i)break}return i}function Ar(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zs(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(t,e=null,n=[],i=[],s=null,r="F",o=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=r,this.startAt=o,this.endAt=a,this.D=null,this.C=null,this.startAt,this.endAt}}function Or(t,e,n,i,s,r,o,a){return new Dr(t,e,n,i,s,r,o,a)}function Nr(t){return new Dr(t)}function Lr(t){return!Rs(t.limit)&&"F"===t.limitType}function $r(t){return!Rs(t.limit)&&"L"===t.limitType}function Mr(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Pr(t){for(const e of t.filters)if(e.S())return e.field;return null}function Fr(t){return null!==t.collectionGroup}function Rr(t){const e=Ji(t);if(null===e.D){e.D=[];const t=Pr(e),n=Mr(e);if(null!==t&&null===n)t.isKeyField()||e.D.push(new Er(t)),e.D.push(new Er(Cs.keyField(),"asc"));else{let t=!1;for(const n of e.explicitOrderBy)e.D.push(n),n.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Er(Cs.keyField(),t))}}}return e.D}function Vr(t){const e=Ji(t);if(!e.C)if("F"===e.limitType)e.C=hr(e.path,e.collectionGroup,Rr(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Rr(e)){const e="desc"===s.dir?"asc":"desc";t.push(new Er(s.field,e))}const n=e.endAt?new Cr(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new Cr(e.startAt.position,!e.startAt.inclusive):null;e.C=hr(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}return e.C}function Br(t,e,n){return new Dr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jr(t,e){return pr(Vr(t),Vr(e))&&t.limitType===e.limitType}function Ur(t){return`${dr(Vr(t))}|lt:${t.limitType}`}function qr(t){return`Query(target=${fr(Vr(t))}; limitType=${t.limitType})`}function zr(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):js.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of t.explicitOrderBy)if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const i=kr(t,e,n);return t.inclusive?i<=0:i<0}(t.startAt,Rr(t),e))&&!(t.endAt&&!function(t,e,n){const i=kr(t,e,n);return t.inclusive?i>=0:i>0}(t.endAt,Rr(t),e))}(t,e)}function Hr(t){return(e,n)=>{let i=!1;for(const s of Rr(t)){const t=Zr(s,e,n);if(0!==t)return t;i=i||s.field.isKeyField()}return 0}}function Zr(t,e,n){const i=t.field.isKeyField()?js.comparator(e.key,n.key):function(t,e,n){const i=e.data.field(t),s=n.data.field(t);return null!==i&&null!==s?Zs(i,s):Qi()}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Qi()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t,e){if(t.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vs(e)?"-0":e}}function Kr(t){return{integerValue:""+t}}function Gr(t,e){return Bs(e)?Kr(e):Wr(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this._=void 0}}function Yr(t,e,n){return t instanceof to?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof eo?no(t,e):t instanceof io?so(t,e):function(t,e){const n=Jr(t,e),i=oo(n)+oo(t.k);return Ys(n)&&Ys(t.k)?Kr(i):Wr(t.O,i)}(t,e)}function Xr(t,e,n){return t instanceof eo?no(t,e):t instanceof io?so(t,e):n}function Jr(t,e){return t instanceof ro?Ys(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}class to extends Qr{}class eo extends Qr{constructor(t){super(),this.elements=t}}function no(t,e){const n=ao(e);for(const i of t.elements)n.some((t=>zs(t,i)))||n.push(i);return{arrayValue:{values:n}}}class io extends Qr{constructor(t){super(),this.elements=t}}function so(t,e){let n=ao(e);for(const i of t.elements)n=n.filter((t=>!zs(t,i)));return{arrayValue:{values:n}}}class ro extends Qr{constructor(t,e){super(),this.O=t,this.k=e}}function oo(t){return Os(t.integerValue||t.doubleValue)}function ao(t){return Xs(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(t,e){this.field=t,this.transform=e}}function lo(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof eo&&e instanceof eo||t instanceof io&&e instanceof io?ms(t.elements,e.elements,zs):t instanceof ro&&e instanceof ro?zs(t.k,e.k):t instanceof to&&e instanceof to}(t.transform,e.transform)}class uo{constructor(t,e){this.version=t,this.transformResults=e}}class ho{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ho}static exists(t){return new ho(void 0,t)}static updateTime(t){return new ho(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function fo(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class po{}function mo(t,e,n){t instanceof wo?function(t,e,n){const i=t.value.clone(),s=Io(t.fieldTransforms,e,n.transformResults);i.setAll(s),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):t instanceof _o?function(t,e,n){if(!fo(t.precondition,e))return void e.convertToUnknownDocument(n.version);const i=Io(t.fieldTransforms,e,n.transformResults),s=e.data;s.setAll(So(t)),s.setAll(i),e.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function go(t,e,n){t instanceof wo?function(t,e,n){if(!fo(t.precondition,e))return;const i=t.value.clone(),s=xo(t.fieldTransforms,n,e);i.setAll(s),e.convertToFoundDocument(bo(e),i).setHasLocalMutations()}(t,e,n):t instanceof _o?function(t,e,n){if(!fo(t.precondition,e))return;const i=xo(t.fieldTransforms,n,e),s=e.data;s.setAll(So(t)),s.setAll(i),e.convertToFoundDocument(bo(e),s).setHasLocalMutations()}(t,e,n):function(t,e){fo(t.precondition,e)&&e.convertToNoDocument(ys.min())}(t,e)}function vo(t,e){let n=null;for(const i of t.fieldTransforms){const t=e.data.field(i.field),s=Jr(i.transform,t||null);null!=s&&(null==n&&(n=ir.empty()),n.set(i.field,s))}return n||null}function yo(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&ms(t,e,((t,e)=>lo(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function bo(t){return t.isFoundDocument()?t.version:ys.min()}class wo extends po{constructor(t,e,n,i=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=i,this.type=0}}class _o extends po{constructor(t,e,n,i,s=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}}function So(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function Io(t,e,n){const i=new Map;Yi(t.length===n.length);for(let s=0;s<n.length;s++){const r=t[s],o=r.transform,a=e.data.field(r.field);i.set(r.field,Xr(o,a,n[s]))}return i}function xo(t,e,n){const i=new Map;for(const s of t){const t=s.transform,r=n.data.field(s.field);i.set(s.field,Yr(t,r,e))}return i}class Co extends po{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class Eo extends po{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t){this.count=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ko,Ao;function Do(t){switch(t){default:return Qi();case ts.CANCELLED:case ts.UNKNOWN:case ts.DEADLINE_EXCEEDED:case ts.RESOURCE_EXHAUSTED:case ts.INTERNAL:case ts.UNAVAILABLE:case ts.UNAUTHENTICATED:return!1;case ts.INVALID_ARGUMENT:case ts.NOT_FOUND:case ts.ALREADY_EXISTS:case ts.PERMISSION_DENIED:case ts.FAILED_PRECONDITION:case ts.ABORTED:case ts.OUT_OF_RANGE:case ts.UNIMPLEMENTED:case ts.DATA_LOSS:return!0}}function Oo(t){if(void 0===t)return Wi("GRPC error has no .code"),ts.UNKNOWN;switch(t){case ko.OK:return ts.OK;case ko.CANCELLED:return ts.CANCELLED;case ko.UNKNOWN:return ts.UNKNOWN;case ko.DEADLINE_EXCEEDED:return ts.DEADLINE_EXCEEDED;case ko.RESOURCE_EXHAUSTED:return ts.RESOURCE_EXHAUSTED;case ko.INTERNAL:return ts.INTERNAL;case ko.UNAVAILABLE:return ts.UNAVAILABLE;case ko.UNAUTHENTICATED:return ts.UNAUTHENTICATED;case ko.INVALID_ARGUMENT:return ts.INVALID_ARGUMENT;case ko.NOT_FOUND:return ts.NOT_FOUND;case ko.ALREADY_EXISTS:return ts.ALREADY_EXISTS;case ko.PERMISSION_DENIED:return ts.PERMISSION_DENIED;case ko.FAILED_PRECONDITION:return ts.FAILED_PRECONDITION;case ko.ABORTED:return ts.ABORTED;case ko.OUT_OF_RANGE:return ts.OUT_OF_RANGE;case ko.UNIMPLEMENTED:return ts.UNIMPLEMENTED;case ko.DATA_LOSS:return ts.DATA_LOSS;default:return Qi()}}(Ao=ko||(ko={}))[Ao.OK=0]="OK",Ao[Ao.CANCELLED=1]="CANCELLED",Ao[Ao.UNKNOWN=2]="UNKNOWN",Ao[Ao.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ao[Ao.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ao[Ao.NOT_FOUND=5]="NOT_FOUND",Ao[Ao.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ao[Ao.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ao[Ao.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ao[Ao.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ao[Ao.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ao[Ao.ABORTED=10]="ABORTED",Ao[Ao.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ao[Ao.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ao[Ao.INTERNAL=13]="INTERNAL",Ao[Ao.UNAVAILABLE=14]="UNAVAILABLE",Ao[Ao.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class No{constructor(t,e){this.comparator=t,this.root=e||$o.EMPTY}insert(t,e){return new No(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,$o.BLACK,null,null))}remove(t){return new No(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$o.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Lo(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Lo(this.root,t,this.comparator,!1)}getReverseIterator(){return new Lo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Lo(this.root,t,this.comparator,!0)}}class Lo{constructor(t,e,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?n(t.key,e):1,i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $o{constructor(t,e,n,i,s){this.key=t,this.value=e,this.color=null!=n?n:$o.RED,this.left=null!=i?i:$o.EMPTY,this.right=null!=s?s:$o.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,i,s){return new $o(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const s=n(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===s?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $o.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return $o.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$o.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qi();if(this.right.isRed())throw Qi();const t=this.left.check();if(t!==this.right.check())throw Qi();return t+(this.isRed()?0:1)}}$o.EMPTY=null,$o.RED=!0,$o.BLACK=!1,$o.EMPTY=new class{constructor(){this.size=0}get key(){throw Qi()}get value(){throw Qi()}get color(){throw Qi()}get left(){throw Qi()}get right(){throw Qi()}copy(t,e,n,i,s){return this}insert(t,e,n){return new $o(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Mo{constructor(t){this.comparator=t,this.data=new No(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Po(this.data.getIterator())}getIteratorFrom(t){return new Po(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof Mo))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(t,i))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Mo(this.comparator);return e.data=t,e}}class Po{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Fo(t){return t.hasNext()?t.getNext():void 0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=new No(js.comparator);function Vo(){return Ro}const Bo=new No(js.comparator);function jo(){return Bo}const Uo=new No(js.comparator),qo=new Mo(js.comparator);function zo(...t){let e=qo;for(const n of t)e=e.add(n);return e}const Ho=new Mo(ps);function Zo(){return Ho}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(t,e,n,i,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e){const n=new Map;return n.set(t,Ko.createSynthesizedTargetChangeForCurrentChange(t,e)),new Wo(ys.min(),n,Zo(),Vo(),zo())}}class Ko{constructor(t,e,n,i,s){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e){return new Ko(ks.EMPTY_BYTE_STRING,e,zo(),zo(),zo())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(t,e,n,i){this.M=t,this.removedTargetIds=e,this.key=n,this.$=i}}class Qo{constructor(t,e){this.targetId=t,this.F=e}}class Yo{constructor(t,e,n=ks.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i}}class Xo{constructor(){this.B=0,this.L=ea(),this.U=ks.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(t){t.approximateByteSize()>0&&(this.K=!0,this.U=t)}H(){let t=zo(),e=zo(),n=zo();return this.L.forEach(((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:Qi()}})),new Ko(this.U,this.q,t,e,n)}J(){this.K=!1,this.L=ea()}Y(t,e){this.K=!0,this.L=this.L.insert(t,e)}X(t){this.K=!0,this.L=this.L.remove(t)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Jo{constructor(t){this.nt=t,this.st=new Map,this.it=Vo(),this.rt=ta(),this.ot=new Mo(ps)}ct(t){for(const e of t.M)t.$&&t.$.isFoundDocument()?this.ut(e,t.$):this.at(e,t.key,t.$);for(const e of t.removedTargetIds)this.at(e,t.key,t.$)}ht(t){this.forEachTarget(t,(e=>{const n=this.lt(e);switch(t.state){case 0:this.ft(e)&&n.W(t.resumeToken);break;case 1:n.tt(),n.G||n.J(),n.W(t.resumeToken);break;case 2:n.tt(),n.G||this.removeTarget(e);break;case 3:this.ft(e)&&(n.et(),n.W(t.resumeToken));break;case 4:this.ft(e)&&(this.dt(e),n.W(t.resumeToken));break;default:Qi()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.st.forEach(((t,n)=>{this.ft(n)&&e(n)}))}_t(t){const e=t.targetId,n=t.F.count,i=this.wt(e);if(i){const t=i.target;if(mr(t))if(0===n){const n=new js(t.path);this.at(e,n,rr.newNoDocument(n,ys.min()))}else Yi(1===n);else this.gt(e)!==n&&(this.dt(e),this.ot=this.ot.add(e))}}yt(t){const e=new Map;this.st.forEach(((n,i)=>{const s=this.wt(i);if(s){if(n.current&&mr(s.target)){const e=new js(s.target.path);null!==this.it.get(e)||this.It(i,e)||this.at(i,e,rr.newNoDocument(e,t))}n.j&&(e.set(i,n.H()),n.J())}}));let n=zo();this.rt.forEach(((t,e)=>{let i=!0;e.forEachWhile((t=>{const e=this.wt(t);return!e||2===e.purpose||(i=!1,!1)})),i&&(n=n.add(t))})),this.it.forEach(((e,n)=>n.setReadTime(t)));const i=new Wo(t,e,this.ot,this.it,n);return this.it=Vo(),this.rt=ta(),this.ot=new Mo(ps),i}ut(t,e){if(!this.ft(t))return;const n=this.It(t,e.key)?2:0;this.lt(t).Y(e.key,n),this.it=this.it.insert(e.key,e),this.rt=this.rt.insert(e.key,this.Et(e.key).add(t))}at(t,e,n){if(!this.ft(t))return;const i=this.lt(t);this.It(t,e)?i.Y(e,1):i.X(e),this.rt=this.rt.insert(e,this.Et(e).delete(t)),n&&(this.it=this.it.insert(e,n))}removeTarget(t){this.st.delete(t)}gt(t){const e=this.lt(t).H();return this.nt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Z(t){this.lt(t).Z()}lt(t){let e=this.st.get(t);return e||(e=new Xo,this.st.set(t,e)),e}Et(t){let e=this.rt.get(t);return e||(e=new Mo(ps),this.rt=this.rt.insert(t,e)),e}ft(t){const e=null!==this.wt(t);return e||Zi("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.st.get(t);return e&&e.G?null:this.nt.Tt(t)}dt(t){this.st.set(t,new Xo),this.nt.getRemoteKeysForTarget(t).forEach((e=>{this.at(t,e,null)}))}It(t,e){return this.nt.getRemoteKeysForTarget(t).has(e)}}function ta(){return new No(js.comparator)}function ea(){return new No(js.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=(()=>{const t={asc:"ASCENDING",desc:"DESCENDING"};return t})(),ia=(()=>{const t={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};return t})();class sa{constructor(t,e){this.databaseId=t,this.N=e}}function ra(t,e){return t.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oa(t,e){return t.N?e.toBase64():e.toUint8Array()}function aa(t,e){return ra(t,e.toTimestamp())}function ca(t){return Yi(!!t),ys.fromTimestamp(function(t){const e=Ds(t);return new vs(e.seconds,e.nanos)}(t))}function la(t,e){return function(t){return new Is(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function ua(t){const e=Is.fromString(t);return Yi(Pa(e)),e}function ha(t,e){return la(t.databaseId,e.path)}function da(t,e){const n=ua(e);if(n.get(1)!==t.databaseId.projectId)throw new es(ts.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new es(ts.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new js(ga(n))}function fa(t,e){return la(t.databaseId,e)}function pa(t){const e=ua(t);return 4===e.length?Is.emptyPath():ga(e)}function ma(t){return new Is(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ga(t){return Yi(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function va(t,e,n){return{name:ha(t,e),fields:n.value.mapValue.fields}}function ya(t,e,n){const i=da(t,e.name),s=ca(e.updateTime),r=new ir({mapValue:{fields:e.fields}}),o=rr.newFoundDocument(i,s,r);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function ba(t,e){return"found"in e?function(t,e){Yi(!!e.found),e.found.name,e.found.updateTime;const n=da(t,e.found.name),i=ca(e.found.updateTime),s=new ir({mapValue:{fields:e.found.fields}});return rr.newFoundDocument(n,i,s)}(t,e):"missing"in e?function(t,e){Yi(!!e.missing),Yi(!!e.readTime);const n=da(t,e.missing),i=ca(e.readTime);return rr.newNoDocument(n,i)}(t,e):Qi()}function wa(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Qi()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(t,e){return t.N?(Yi(void 0===e||"string"==typeof e),ks.fromBase64String(e||"")):(Yi(void 0===e||e instanceof Uint8Array),ks.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?ts.UNKNOWN:Oo(t.code);return new es(e,t.message||"")}(o);n=new Yo(i,s,r,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=da(t,i.document.name),r=ca(i.document.updateTime),o=new ir({mapValue:{fields:i.document.fields}}),a=rr.newFoundDocument(s,r,o),c=i.targetIds||[],l=i.removedTargetIds||[];n=new Go(c,l,a.key,a)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=da(t,i.document),r=i.readTime?ca(i.readTime):ys.min(),o=rr.newNoDocument(s,r),a=i.removedTargetIds||[];n=new Go([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=da(t,i.document),r=i.removedTargetIds||[];n=new Go([],r,s,null)}else{if(!("filter"in e))return Qi();{e.filter;const t=e.filter;t.targetId;const i=t.count||0,s=new To(i),r=t.targetId;n=new Qo(r,s)}}return n}function _a(t,e){let n;if(e instanceof wo)n={update:va(t,e.key,e.value)};else if(e instanceof Co)n={delete:ha(t,e.key)};else if(e instanceof _o)n={update:va(t,e.key,e.data),updateMask:Ma(e.fieldMask)};else{if(!(e instanceof Eo))return Qi();n={verify:ha(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof to)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof eo)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof io)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ro)return{fieldPath:e.field.canonicalString(),increment:n.k};throw Qi()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:aa(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Qi()}(t,e.precondition)),n}function Sa(t,e){const n=e.currentDocument?function(t){return void 0!==t.updateTime?ho.updateTime(ca(t.updateTime)):void 0!==t.exists?ho.exists(t.exists):ho.none()}(e.currentDocument):ho.none(),i=e.updateTransforms?e.updateTransforms.map((e=>function(t,e){let n=null;if("setToServerValue"in e)Yi("REQUEST_TIME"===e.setToServerValue),n=new to;else if("appendMissingElements"in e){const t=e.appendMissingElements.values||[];n=new eo(t)}else if("removeAllFromArray"in e){const t=e.removeAllFromArray.values||[];n=new io(t)}else"increment"in e?n=new ro(t,e.increment):Qi();const i=Cs.fromServerFormat(e.fieldPath);return new co(i,n)}(t,e))):[];if(e.update){e.update.name;const s=da(t,e.update.name),r=new ir({mapValue:{fields:e.update.fields}});if(e.updateMask){const t=function(t){const e=t.fieldPaths||[];return new Es(e.map((t=>Cs.fromServerFormat(t))))}(e.updateMask);return new _o(s,r,t,n,i)}return new wo(s,r,n,i)}if(e.delete){const i=da(t,e.delete);return new Co(i,n)}if(e.verify){const i=da(t,e.verify);return new Eo(i,n)}return Qi()}function Ia(t,e){return t&&t.length>0?(Yi(void 0!==e),t.map((t=>function(t,e){let n=t.updateTime?ca(t.updateTime):ca(e);return n.isEqual(ys.min())&&(n=ca(e)),new uo(n,t.transformResults||[])}(t,e)))):[]}function xa(t,e){return{documents:[fa(t,e.path)]}}function Ca(t,e){const n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=fa(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=fa(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(t){if(0===t.length)return;const e=t.map((t=>function(t){if("=="===t.op){if(tr(t.value))return{unaryFilter:{field:Oa(t.field),op:"IS_NAN"}};if(Js(t.value))return{unaryFilter:{field:Oa(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(tr(t.value))return{unaryFilter:{field:Oa(t.field),op:"IS_NOT_NAN"}};if(Js(t.value))return{unaryFilter:{field:Oa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oa(t.field),op:Da(t.op),value:t.value}}}(t)));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}(e.filters);s&&(n.structuredQuery.where=s);const r=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:Oa(t.field),direction:Aa(t.dir)}}(t)))}(e.orderBy);r&&(n.structuredQuery.orderBy=r);const o=function(t,e){return t.N||Rs(e)?e:{value:e}}(t,e.limit);var a;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),n}function Ea(t){let e=pa(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){Yi(1===i);const t=n.from[0];t.allDescendants?s=t.collectionId:e=e.child(t.collectionId)}let r=[];n.where&&(r=ka(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((t=>function(t){return new Er(Na(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t))));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,Rs(e)?null:e}(n.limit));let c=null;n.startAt&&(c=function(t){const e=!!t.before,n=t.values||[];return new Cr(n,e)}(n.startAt));let l=null;return n.endAt&&(l=function(t){const e=!t.before,n=t.values||[];return new Cr(n,e)}(n.endAt)),Or(e,s,o,r,a,"F",c,l)}function Ta(t,e){const n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Qi()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}function ka(t){return t?void 0!==t.unaryFilter?[$a(t)]:void 0!==t.fieldFilter?[La(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((t=>ka(t))).reduce(((t,e)=>t.concat(e))):Qi():[]}function Aa(t){return na[t]}function Da(t){return ia[t]}function Oa(t){return{fieldPath:t.canonicalString()}}function Na(t){return Cs.fromServerFormat(t.fieldPath)}function La(t){return gr.create(Na(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Qi()}}(t.fieldFilter.op),t.fieldFilter.value)}function $a(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Na(t.unaryFilter.field);return gr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Na(t.unaryFilter.field);return gr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Na(t.unaryFilter.field);return gr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Na(t.unaryFilter.field);return gr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Qi()}}function Ma(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Pa(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Va(e)),e=Ra(t.get(n),e);return Va(e)}function Ra(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const e=t.charAt(s);switch(e){case"\0":n+="";break;case"":n+="";break;default:n+=e}}return n}function Va(t){return t+""}function Ba(t){const e=t.length;if(Yi(e>=2),2===e)return Yi(""===t.charAt(0)&&""===t.charAt(1)),Is.emptyPath();const n=e-2,i=[];let s="";for(let r=0;r<e;){const e=t.indexOf("",r);switch((e<0||e>n)&&Qi(),t.charAt(e+1)){case"":const n=t.substring(r,e);let o;0===s.length?o=n:(s+=n,o=s,s=""),i.push(o);break;case"":s+=t.substring(r,e),s+="\0";break;case"":s+=t.substring(r,e+1);break;default:Qi()}r=e+2}return new Is(i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t,e){this.seconds=t,this.nanoseconds=e}}class Ua{constructor(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}}Ua.store="owner",Ua.key="owner";class qa{constructor(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}}qa.store="mutationQueues",qa.keyPath="userId";class za{constructor(t,e,n,i,s){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=s}}za.store="mutations",za.keyPath="batchId",za.userMutationsIndex="userMutationsIndex",za.userMutationsKeyPath=["userId","batchId"];class Ha{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,Fa(e)]}static key(t,e,n){return[t,Fa(e),n]}}Ha.store="documentMutations",Ha.PLACEHOLDER=new Ha;class Za{constructor(t,e){this.path=t,this.readTime=e}}class Wa{constructor(t,e){this.path=t,this.version=e}}class Ka{constructor(t,e,n,i,s,r){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=s,this.parentPath=r}}Ka.store="remoteDocuments",Ka.readTimeIndex="readTimeIndex",Ka.readTimeIndexPath="readTime",Ka.collectionReadTimeIndex="collectionReadTimeIndex",Ka.collectionReadTimeIndexPath=["parentPath","readTime"];class Ga{constructor(t){this.byteSize=t}}Ga.store="remoteDocumentGlobal",Ga.key="remoteDocumentGlobalKey";class Qa{constructor(t,e,n,i,s,r,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=r,this.query=o}}Qa.store="targets",Qa.keyPath="targetId",Qa.queryTargetsIndexName="queryTargetsIndex",Qa.queryTargetsKeyPath=["canonicalId","targetId"];class Ya{constructor(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n}}Ya.store="targetDocuments",Ya.keyPath=["targetId","path"],Ya.documentTargetsIndex="documentTargetsIndex",Ya.documentTargetsKeyPath=["path","targetId"];class Xa{constructor(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i}}Xa.key="targetGlobalKey",Xa.store="targetGlobal";class Ja{constructor(t,e){this.collectionId=t,this.parent=e}}Ja.store="collectionParents",Ja.keyPath=["collectionId","parent"];class tc{constructor(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i}}tc.store="clientMetadata",tc.keyPath="clientId";class ec{constructor(t,e,n){this.bundleId=t,this.createTime=e,this.version=n}}ec.store="bundles",ec.keyPath="bundleId";class nc{constructor(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n}}nc.store="namedQueries",nc.keyPath="name";class ic{constructor(t,e,n){this.indexId=t,this.collectionGroup=e,this.fields=n}}ic.store="indexConfiguration",ic.keyPath="indexId",ic.collectionGroupIndex="collectionGroupIndex",ic.collectionGroupIndexPath="collectionGroup";class sc{constructor(t,e,n,i,s,r){this.indexId=t,this.uid=e,this.sequenceNumber=n,this.readTime=i,this.documentKey=s,this.largestBatchId=r}}sc.store="indexState",sc.keyPath=["indexId","uid"],sc.sequenceNumberIndex="sequenceNumberIndex",sc.sequenceNumberIndexPath=["uid","sequenceNumber"];class rc{constructor(t,e,n,i,s){this.indexId=t,this.uid=e,this.arrayValue=n,this.directionalValue=i,this.documentKey=s}}rc.store="indexEntries",rc.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],rc.documentKeyIndex="documentKeyIndex",rc.documentKeyIndexPath=["indexId","uid","documentKey"];class oc{constructor(t,e,n,i,s,r){this.userId=t,this.collectionPath=e,this.documentId=n,this.collectionGroup=i,this.largestBatchId=s,this.overlayMutation=r}}oc.store="documentOverlays",oc.keyPath=["userId","collectionPath","documentId"],oc.collectionPathOverlayIndex="collectionPathOverlayIndex",oc.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],oc.collectionGroupOverlayIndex="collectionGroupOverlayIndex",oc.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];const ac=[qa.store,za.store,Ha.store,Ka.store,Qa.store,Ua.store,Xa.store,Ya.store,tc.store,Ga.store,Ja.store,ec.store,nc.store],cc=[...ac,oc.store],lc=[...cc,ic.store,sc.store,rc.store],uc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Qi(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new dc(((n,i)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,i)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,i)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof dc?e:dc.resolve(e)}catch(t){return dc.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):dc.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):dc.reject(e)}static resolve(t){return new dc(((e,n)=>{e(t)}))}static reject(t){return new dc(((e,n)=>{n(t)}))}static waitFor(t){return new dc(((e,n)=>{let i=0,s=0,r=!1;t.forEach((t=>{++i,t.next((()=>{++s,r&&s===i&&e()}),(t=>n(t)))})),r=!0,s===i&&e()}))}static or(t){let e=dc.resolve(!1);for(const n of t)e=e.next((t=>t?dc.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,i)=>{n.push(e.call(this,t,i))})),this.waitFor(n)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.At=new ns,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{e.error?this.At.reject(new gc(t,e.error)):this.At.resolve()},this.transaction.onerror=e=>{const n=_c(e.target.error);this.At.reject(new gc(t,n))}}static open(t,e,n,i){try{return new fc(e,t.transaction(i,n))}catch(t){throw new gc(e,t)}}get Rt(){return this.At.promise}abort(t){t&&this.At.reject(t),this.aborted||(Zi("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new yc(e)}}class pc{constructor(t,e,n){this.name=t,this.version=e,this.bt=n,12.2===pc.vt((0,c.z$)())&&Wi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Zi("SimpleDb","Removing database:",t),bc(window.indexedDB.deleteDatabase(t)).toPromise()}static Vt(){if(!(0,c.hl)())return!1;if(pc.St())return!0;const t=(0,c.z$)(),e=pc.vt(t),n=0<e&&e<10,i=pc.Dt(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||n||s)}static St(){var t;return"undefined"!=typeof process&&"YES"===(null===(t={NODE_ENV:"production",BASE_URL:"/"})||void 0===t?void 0:t.Ct)}static Nt(t,e){return t.store(e)}static vt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static Dt(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async xt(t){return this.db||(Zi("SimpleDb","Opening database:",this.name),this.db=await new Promise(((e,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=t=>{const n=t.target.result;e(n)},i.onblocked=()=>{n(new gc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=e=>{const i=e.target.error;"VersionError"===i.name?n(new es(ts.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===i.name?n(new es(ts.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+i)):n(new gc(t,i))},i.onupgradeneeded=t=>{Zi("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',t.oldVersion);const e=t.target.result;this.bt.kt(e,i.transaction,t.oldVersion,this.version).next((()=>{Zi("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.Ot&&(this.db.onversionchange=t=>this.Ot(t)),this.db}Mt(t){this.Ot=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,n,i){const s="readonly"===e;let r=0;for(;;){++r;try{this.db=await this.xt(t);const e=fc.open(this.db,t,s?"readonly":"readwrite",n),r=i(e).next((t=>(e.Pt(),t))).catch((t=>(e.abort(t),dc.reject(t)))).toPromise();return r.catch((()=>{})),await e.Rt,r}catch(t){const e="FirebaseError"!==t.name&&r<3;if(Zi("SimpleDb","Transaction failed with error:",t.message,"Retrying:",e),this.close(),!e)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class mc{constructor(t){this.$t=t,this.Ft=!1,this.Bt=null}get isDone(){return this.Ft}get Lt(){return this.Bt}set cursor(t){this.$t=t}done(){this.Ft=!0}Ut(t){this.Bt=t}delete(){return bc(this.$t.delete())}}class gc extends es{constructor(t,e){super(ts.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function vc(t){return"IndexedDbTransactionError"===t.name}class yc{constructor(t){this.store=t}put(t,e){let n;return void 0!==e?(Zi("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Zi("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),bc(n)}add(t){return Zi("SimpleDb","ADD",this.store.name,t,t),bc(this.store.add(t))}get(t){return bc(this.store.get(t)).next((e=>(void 0===e&&(e=null),Zi("SimpleDb","GET",this.store.name,t,e),e)))}delete(t){return Zi("SimpleDb","DELETE",this.store.name,t),bc(this.store.delete(t))}count(){return Zi("SimpleDb","COUNT",this.store.name),bc(this.store.count())}qt(t,e){const n=this.options(t,e);if(n.index||"function"!=typeof this.store.getAll){const t=this.cursor(n),e=[];return this.Kt(t,((t,n)=>{e.push(n)})).next((()=>e))}{const t=this.store.getAll(n.range);return new dc(((e,n)=>{t.onerror=t=>{n(t.target.error)},t.onsuccess=t=>{e(t.target.result)}}))}}Gt(t,e){Zi("SimpleDb","DELETE ALL",this.store.name);const n=this.options(t,e);n.jt=!1;const i=this.cursor(n);return this.Kt(i,((t,e,n)=>n.delete()))}Qt(t,e){let n;e?n=t:(n={},e=t);const i=this.cursor(n);return this.Kt(i,e)}Wt(t){const e=this.cursor({});return new dc(((n,i)=>{e.onerror=t=>{const e=_c(t.target.error);i(e)},e.onsuccess=e=>{const i=e.target.result;i?t(i.primaryKey,i.value).next((t=>{t?i.continue():n()})):n()}}))}Kt(t,e){const n=[];return new dc(((i,s)=>{t.onerror=t=>{s(t.target.error)},t.onsuccess=t=>{const s=t.target.result;if(!s)return void i();const r=new mc(s),o=e(s.primaryKey,s.value,r);if(o instanceof dc){const t=o.catch((t=>(r.done(),dc.reject(t))));n.push(t)}r.isDone?i():null===r.Lt?s.continue():s.continue(r.Lt)}})).next((()=>dc.waitFor(n)))}options(t,e){let n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const n=this.store.index(t.index);return t.jt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function bc(t){return new dc(((e,n)=>{t.onsuccess=t=>{const n=t.target.result;e(n)},t.onerror=t=>{const e=_c(t.target.error);n(e)}}))}let wc=!1;function _c(t){const e=pc.vt((0,c.z$)());if(e>=12.2&&e<13){const e="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(e)>=0){const t=new es("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return wc||(wc=!0,setTimeout((()=>{throw t}),0)),t}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends hc{constructor(t,e){super(),this.zt=t,this.currentSequenceNumber=e}}function Ic(t,e){const n=Ji(t);return pc.Nt(n.zt,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const e=this.mutations[i];e.key.isEqual(t.key)&&mo(e,t,n[i])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&go(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&go(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach((e=>{const n=t.get(e.key),i=n;this.applyToLocalView(i),n.isValidDocument()||i.convertToNoDocument(ys.min())}))}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),zo())}isEqual(t){return this.batchId===t.batchId&&ms(this.mutations,t.mutations,((t,e)=>yo(t,e)))&&ms(this.baseMutations,t.baseMutations,((t,e)=>yo(t,e)))}}class Cc{constructor(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}static from(t,e,n){Yi(t.mutations.length===n.length);let i=Uo;const s=t.mutations;for(let r=0;r<s.length;r++)i=i.insert(s[r].key,n[r].version);return new Cc(t,e,n,i)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t,e,n,i,s=ys.min(),r=ys.min(),o=ks.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=r,this.resumeToken=o}withSequenceNumber(t){return new Tc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Tc(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Tc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(t){this.Ht=t}}function Ac(t,e){let n;if(e.document)n=ya(t.Ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const t=js.fromSegments(e.noDocument.path),i=$c(e.noDocument.readTime);n=rr.newNoDocument(t,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Qi();{const t=js.fromSegments(e.unknownDocument.path),i=$c(e.unknownDocument.version);n=rr.newUnknownDocument(t,i)}}return e.readTime&&n.setReadTime(Nc(e.readTime)),n}function Dc(t,e){const n=Oc(e.readTime),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){const s=function(t,e){return{name:ha(t,e.key),fields:e.data.value.mapValue.fields,updateTime:ra(t,e.version.toTimestamp())}}(t.Ht,e),r=e.hasCommittedMutations;return new Ka(null,null,s,r,n,i)}if(e.isNoDocument()){const t=e.key.path.toArray(),s=Lc(e.version),r=e.hasCommittedMutations;return new Ka(null,new Za(t,s),null,r,n,i)}if(e.isUnknownDocument()){const t=e.key.path.toArray(),s=Lc(e.version);return new Ka(new Wa(t,s),null,null,!0,n,i)}return Qi()}function Oc(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Nc(t){const e=new vs(t[0],t[1]);return ys.fromTimestamp(e)}function Lc(t){const e=t.toTimestamp();return new ja(e.seconds,e.nanoseconds)}function $c(t){const e=new vs(t.seconds,t.nanoseconds);return ys.fromTimestamp(e)}function Mc(t,e){const n=(e.baseMutations||[]).map((e=>Sa(t.Ht,e)));for(let r=0;r<e.mutations.length-1;++r){const t=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){const n=e.mutations[r+1];t.updateTransforms=n.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}const i=e.mutations.map((e=>Sa(t.Ht,e))),s=vs.fromMillis(e.localWriteTimeMs);return new xc(e.batchId,s,n,i)}function Pc(t){const e=$c(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?$c(t.lastLimboFreeSnapshotVersion):ys.min();let i;var s;return void 0!==t.query.documents?(Yi(1===(s=t.query).documents.length),i=Vr(Nr(pa(s.documents[0])))):i=function(t){return Vr(Ea(t))}(t.query),new Tc(i,t.targetId,0,t.lastListenSequenceNumber,e,n,ks.fromBase64String(t.resumeToken))}function Fc(t,e){const n=Lc(e.snapshotVersion),i=Lc(e.lastLimboFreeSnapshotVersion);let s;s=mr(e.target)?xa(t.Ht,e.target):Ca(t.Ht,e.target);const r=e.resumeToken.toBase64();return new Qa(e.targetId,dr(e.target),n,r,e.sequenceNumber,i,s)}function Rc(t){const e=Ea({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Br(e,e.limit,"L"):e}function Vc(t,e){return new Ec(e.largestBatchId,Sa(t.Ht,e.overlayMutation))}function Bc(t,e){const n=e.path.lastSegment();return[t,Fa(e.path.popLast()),n]}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{getBundleMetadata(t,e){return Uc(t).get(e).next((t=>{if(t)return{id:(e=t).bundleId,createTime:$c(e.createTime),version:e.version};var e}))}saveBundleMetadata(t,e){return Uc(t).put({bundleId:(n=e).id,createTime:Lc(ca(n.createTime)),version:n.version});var n}getNamedQuery(t,e){return qc(t).get(e).next((t=>{if(t)return{name:(e=t).name,query:Rc(e.bundledQuery),readTime:$c(e.readTime)};var e}))}saveNamedQuery(t,e){return qc(t).put(function(t){return{name:t.name,readTime:Lc(ca(t.readTime)),bundledQuery:t.bundledQuery}}(e))}}function Uc(t){return Ic(t,ec.store)}function qc(t){return Ic(t,nc.store)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,e){this.O=t,this.userId=e}static Jt(t,e){const n=e.uid||"";return new zc(t,n)}getOverlay(t,e){return Hc(t).get(Bc(this.userId,e)).next((t=>t?Vc(this.O,t):null))}saveOverlays(t,e,n){const i=[];return n.forEach((n=>{const s=new Ec(e,n);i.push(this.Yt(t,s))})),dc.waitFor(i)}removeOverlaysForBatchId(t,e,n){const i=new Set;e.forEach((t=>i.add(Fa(t.getCollectionPath()))));const s=[];return i.forEach((e=>{const i=IDBKeyRange.bound([this.userId,e,n],[this.userId,e,n+1],!1,!0);s.push(Hc(t).Gt(oc.collectionPathOverlayIndex,i))})),dc.waitFor(s)}getOverlaysForCollection(t,e,n){const i=new Map,s=Fa(e),r=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Hc(t).qt(oc.collectionPathOverlayIndex,r).next((t=>{for(const e of t){const t=Vc(this.O,e);i.set(t.getKey(),t)}return i}))}getOverlaysForCollectionGroup(t,e,n,i){const s=new Map;let r;const o=IDBKeyRange.bound([this.userId,e,n],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Hc(t).Qt({index:oc.collectionGroupOverlayIndex,range:o},((t,e,n)=>{const o=Vc(this.O,e);s.size<i||o.largestBatchId===r?(s.set(o.getKey(),o),r=o.largestBatchId):n.done()})).next((()=>s))}Yt(t,e){return Hc(t).put(function(t,e,n){const[i,s,r]=Bc(e,n.mutation.key);return new oc(e,s,r,n.mutation.key.getCollectionGroup(),n.largestBatchId,_a(t.Ht,n.mutation))}(this.O,this.userId,e))}}function Hc(t){return Ic(t,oc.store)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(){}Xt(t,e){this.Zt(t,e),e.te()}Zt(t,e){if("nullValue"in t)this.ee(e,5);else if("booleanValue"in t)this.ee(e,10),e.ne(t.booleanValue?1:0);else if("integerValue"in t)this.ee(e,15),e.ne(Os(t.integerValue));else if("doubleValue"in t){const n=Os(t.doubleValue);isNaN(n)?this.ee(e,13):(this.ee(e,15),Vs(n)?e.ne(0):e.ne(n))}else if("timestampValue"in t){const n=t.timestampValue;this.ee(e,20),"string"==typeof n?e.se(n):(e.se(`${n.seconds||""}`),e.ne(n.nanos||0))}else if("stringValue"in t)this.ie(t.stringValue,e),this.re(e);else if("bytesValue"in t)this.ee(e,30),e.oe(Ns(t.bytesValue)),this.re(e);else if("referenceValue"in t)this.ce(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.ee(e,45),e.ne(n.latitude||0),e.ne(n.longitude||0)}else"mapValue"in t?zs(t,Us)?this.ee(e,Number.MAX_SAFE_INTEGER):(this.ue(t.mapValue,e),this.re(e)):"arrayValue"in t?(this.ae(t.arrayValue,e),this.re(e)):Qi()}ie(t,e){this.ee(e,25),this.he(t,e)}he(t,e){e.se(t)}ue(t,e){const n=t.fields||{};this.ee(e,55);for(const i of Object.keys(n))this.ie(i,e),this.Zt(n[i],e)}ae(t,e){const n=t.values||[];this.ee(e,50);for(const i of n)this.Zt(i,e)}ce(t,e){this.ee(e,37),js.fromName(t).path.forEach((t=>{this.ee(e,60),this.he(t,e)}))}ee(t,e){t.ne(e)}re(t){t.ne(2)}}function Wc(t){if(0===t)return 8;let e=0;return t>>4==0&&(e+=4,t<<=4),t>>6==0&&(e+=2,t<<=2),t>>7==0&&(e+=1),e}function Kc(t){const e=64-function(t){let e=0;for(let n=0;n<8;++n){const i=Wc(255&t[n]);if(e+=i,8!==i)break}return e}(t);return Math.ceil(e/8)}Zc.le=new Zc;class Gc{constructor(){this.buffer=new Uint8Array(1024),this.position=0}fe(t){const e=t[Symbol.iterator]();let n=e.next();for(;!n.done;)this.de(n.value),n=e.next();this._e()}we(t){const e=t[Symbol.iterator]();let n=e.next();for(;!n.done;)this.me(n.value),n=e.next();this.ge()}ye(t){for(const e of t){const t=e.charCodeAt(0);if(t<128)this.de(t);else if(t<2048)this.de(960|t>>>6),this.de(128|63&t);else if(e<"\ud800"||"\udbff"<e)this.de(480|t>>>12),this.de(128|63&t>>>6),this.de(128|63&t);else{const t=e.codePointAt(0);this.de(240|t>>>18),this.de(128|63&t>>>12),this.de(128|63&t>>>6),this.de(128|63&t)}}this._e()}pe(t){for(const e of t){const t=e.charCodeAt(0);if(t<128)this.me(t);else if(t<2048)this.me(960|t>>>6),this.me(128|63&t);else if(e<"\ud800"||"\udbff"<e)this.me(480|t>>>12),this.me(128|63&t>>>6),this.me(128|63&t);else{const t=e.codePointAt(0);this.me(240|t>>>18),this.me(128|63&t>>>12),this.me(128|63&t>>>6),this.me(128|63&t)}}this.ge()}Ie(t){const e=this.Ee(t),n=Kc(e);this.Te(1+n),this.buffer[this.position++]=255&n;for(let i=e.length-n;i<e.length;++i)this.buffer[this.position++]=255&e[i]}Ae(t){const e=this.Ee(t),n=Kc(e);this.Te(1+n),this.buffer[this.position++]=~(255&n);for(let i=e.length-n;i<e.length;++i)this.buffer[this.position++]=~(255&e[i])}Re(){this.Pe(255),this.Pe(255)}be(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(t){this.Te(t.length),this.buffer.set(t,this.position),this.position+=t.length}Ve(){return this.buffer.slice(0,this.position)}Ee(t){const e=function(t){const e=new DataView(new ArrayBuffer(8));return e.setFloat64(0,t,!1),new Uint8Array(e.buffer)}(t),n=0!=(128&e[0]);e[0]^=n?255:128;for(let i=1;i<e.length;++i)e[i]^=n?255:0;return e}de(t){const e=255&t;0===e?(this.Pe(0),this.Pe(255)):255===e?(this.Pe(255),this.Pe(0)):this.Pe(e)}me(t){const e=255&t;0===e?(this.ve(0),this.ve(255)):255===e?(this.ve(255),this.ve(0)):this.ve(t)}_e(){this.Pe(0),this.Pe(1)}ge(){this.ve(0),this.ve(1)}Pe(t){this.Te(1),this.buffer[this.position++]=t}ve(t){this.Te(1),this.buffer[this.position++]=~t}Te(t){const e=t+this.position;if(e<=this.buffer.length)return;let n=2*this.buffer.length;n<e&&(n=e);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class Qc{constructor(t){this.Se=t}oe(t){this.Se.fe(t)}se(t){this.Se.ye(t)}ne(t){this.Se.Ie(t)}te(){this.Se.Re()}}class Yc{constructor(t){this.Se=t}oe(t){this.Se.we(t)}se(t){this.Se.pe(t)}ne(t){this.Se.Ae(t)}te(){this.Se.be()}}class Xc{constructor(){this.Se=new Gc,this.De=new Qc(this.Se),this.Ce=new Yc(this.Se)}seed(t){this.Se.seed(t)}Ne(t){return 0===t?this.De:this.Ce}Ve(){return this.Se.Ve()}reset(){this.Se.reset()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t,e,n,i){this.indexId=t,this.documentKey=e,this.arrayValue=n,this.directionalValue=i}}function tl(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=js.comparator(t.documentKey,e.documentKey),0!==n?n:(n=el(t.arrayValue,e.arrayValue),0!==n?n:el(t.directionalValue,e.directionalValue)))}function el(t,e){for(let n=0;n<t.length&&n<e.length;++n){const i=t[n]-e[n];if(0!==i)return i}return t.length-e.length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(){this.xe=new il}addToCollectionParentIndex(t,e){return this.xe.add(e),dc.resolve()}getCollectionParents(t,e){return dc.resolve(this.xe.getEntries(e))}addFieldIndex(t,e){return dc.resolve()}deleteFieldIndex(t,e){return dc.resolve()}getDocumentsMatchingTarget(t,e,n){return dc.resolve(zo())}getFieldIndex(t,e){return dc.resolve(null)}getFieldIndexes(t,e){return dc.resolve([])}getNextCollectionGroupToUpdate(t){return dc.resolve(null)}updateCollectionGroup(t,e,n){return dc.resolve()}updateIndexEntries(t,e){return dc.resolve()}}class il{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new Mo(Is.comparator),s=!i.has(n);return this.index[e]=i.add(n),s}has(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)}getEntries(t){return(this.index[t]||new Mo(Is.comparator)).toArray()}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(t){this.user=t,this.ke=new il,this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.ke.has(e)){const n=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((()=>{this.ke.add(e)}));const s={collectionId:n,parent:Fa(i)};return rl(t).put(s)}return dc.resolve()}getCollectionParents(t,e){const n=[],i=IDBKeyRange.bound([e,""],[gs(e),""],!1,!0);return rl(t).qt(i).next((t=>{for(const i of t){if(i.collectionId!==e)break;n.push(Ba(i.parent))}return n}))}addFieldIndex(t,e){const n=al(t),i=function(t){return new ic(t.indexId,t.collectionGroup,t.fields.map((t=>[t.fieldPath.canonicalString(),t.kind])))}(e);return delete i.indexId,n.add(i).next()}deleteFieldIndex(t,e){const n=al(t),i=cl(t),s=ol(t);return n.delete(e.indexId).next((()=>i.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))))}getDocumentsMatchingTarget(t,e,n){return dc.resolve(zo())}getFieldIndex(t,e){return dc.resolve(null)}Oe(t,e){const n=new Xc;for(const i of function(t){return t.fields.filter((t=>2!==t.kind))}(t)){const t=e.data.field(i.fieldPath);if(null==t)return null;const s=n.Ne(i.kind);Zc.le.Xt(t,s)}return n.Ve()}Me(t){const e=new Xc;return Zc.le.Xt(t,e.Ne(0)),e.Ve()}getFieldIndexes(t,e){const n=al(t),i=cl(t);return(e?n.qt(ic.collectionGroupIndex,IDBKeyRange.bound(e,e)):n.qt()).next((t=>{const e=[];return dc.forEach(t,(t=>i.get([t.indexId,this.uid]).next((n=>{e.push(function(t,e){const n=e?new cr(e.sequenceNumber,new lr($c(e.readTime),new js(Ba(e.documentKey)),e.largestBatchId)):cr.empty(),i=t.fields.map((([t,e])=>new ar(Cs.fromServerFormat(t),e)));return new or(t.indexId,t.collectionGroup,i,n)}(t,n))})))).next((()=>e))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((t=>0===t.length?null:(t.sort(((t,e)=>t.indexState.sequenceNumber-e.indexState.sequenceNumber)),t[0].collectionGroup)))}updateCollectionGroup(t,e,n){const i=al(t),s=cl(t);return this.$e(t).next((t=>i.qt(ic.collectionGroupIndex,IDBKeyRange.bound(e,e)).next((e=>dc.forEach(e,(e=>s.put(function(t,e,n,i){return new sc(t,e.uid||"",n,Lc(i.readTime),Fa(i.documentKey.path),i.largestBatchId)}(e.indexId,this.user,t,n))))))))}updateIndexEntries(t,e){const n=new Map;return dc.forEach(e,((e,i)=>{const s=n.get(e.collectionGroup);return(s?dc.resolve(s):this.getFieldIndexes(t,e.collectionGroup)).next((s=>(n.set(e.collectionGroup,s),dc.forEach(s,(n=>this.Fe(t,e,n).next((e=>{const s=this.Be(i,n);return e.isEqual(s)?dc.resolve():this.Le(t,i,e,s)})))))))}))}Ue(t,e,n){return ol(t).put(new rc(n.indexId,this.uid,n.arrayValue,n.directionalValue,Fa(e.key.path)))}qe(t,e,n){return ol(t).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,Fa(e.key.path)])}Fe(t,e,n){const i=ol(t);let s=new Mo(tl);return i.Qt({index:rc.documentKeyIndex,range:IDBKeyRange.only([n.indexId,this.uid,Fa(e.path)])},((t,i)=>{s=s.add(new Jc(n.indexId,e,i.arrayValue,i.directionalValue))})).next((()=>s))}Be(t,e){let n=new Mo(tl);const i=this.Oe(e,t);if(null==i)return n;const s=function(t){return t.fields.find((t=>2===t.kind))}(e);if(null!=s){const r=t.data.field(s.fieldPath);if(Xs(r))for(const s of r.arrayValue.values||[])n=n.add(new Jc(e.indexId,t.key,this.Me(s),i))}else n=n.add(new Jc(e.indexId,t.key,new Uint8Array,i));return n}Le(t,e,n,i){Zi("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const s=[];return function(t,e,n,i,s){const r=t.getIterator(),o=e.getIterator();let a=Fo(r),c=Fo(o);for(;a||c;){let t=!1,e=!1;if(a&&c){const i=n(a,c);i<0?e=!0:i>0&&(t=!0)}else null!=a?e=!0:t=!0;t?(i(c),c=Fo(o)):e?(s(a),a=Fo(r)):(a=Fo(r),c=Fo(o))}}(n,i,tl,(n=>{s.push(this.Ue(t,e,n))}),(n=>{s.push(this.qe(t,e,n))})),dc.waitFor(s)}$e(t){let e=1;return cl(t).Qt({index:sc.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((t,n,i)=>{i.done(),e=n.sequenceNumber+1})).next((()=>e))}}function rl(t){return Ic(t,Ja.store)}function ol(t){return Ic(t,rc.store)}function al(t){return Ic(t,ic.store)}function cl(t){return Ic(t,sc.store)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ul{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new ul(t,ul.DEFAULT_COLLECTION_PERCENTILE,ul.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(t,e,n){const i=t.store(za.store),s=t.store(Ha.store),r=[],o=IDBKeyRange.only(n.batchId);let a=0;const c=i.Qt({range:o},((t,e,n)=>(a++,n.delete())));r.push(c.next((()=>{Yi(1===a)})));const l=[];for(const u of n.mutations){const t=Ha.key(e,u.key.path,n.batchId);r.push(s.delete(t)),l.push(u.key)}return dc.waitFor(r).next((()=>l))}function dl(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Qi();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ul.DEFAULT_COLLECTION_PERCENTILE=10,ul.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ul.DEFAULT=new ul(41943040,ul.DEFAULT_COLLECTION_PERCENTILE,ul.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ul.DISABLED=new ul(-1,0,0);class fl{constructor(t,e,n,i){this.userId=t,this.O=e,this.indexManager=n,this.referenceDelegate=i,this.Ke={}}static Jt(t,e,n,i){Yi(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new fl(s,e,n,i)}checkEmpty(t){let e=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ml(t).Qt({index:za.userMutationsIndex,range:n},((t,n,i)=>{e=!1,i.done()})).next((()=>e))}addMutationBatch(t,e,n,i){const s=gl(t),r=ml(t);return r.add({}).next((o=>{Yi("number"==typeof o);const a=new xc(o,e,n,i),c=function(t,e,n){const i=n.baseMutations.map((e=>_a(t.Ht,e))),s=n.mutations.map((e=>_a(t.Ht,e)));return new za(e,n.batchId,n.localWriteTime.toMillis(),i,s)}(this.O,this.userId,a),l=[];let u=new Mo(((t,e)=>ps(t.canonicalString(),e.canonicalString())));for(const t of i){const e=Ha.key(this.userId,t.key.path,o);u=u.add(t.key.path.popLast()),l.push(r.put(c)),l.push(s.put(e,Ha.PLACEHOLDER))}return u.forEach((e=>{l.push(this.indexManager.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((()=>{this.Ke[o]=a.keys()})),dc.waitFor(l).next((()=>a))}))}lookupMutationBatch(t,e){return ml(t).get(e).next((t=>t?(Yi(t.userId===this.userId),Mc(this.O,t)):null))}Ge(t,e){return this.Ke[e]?dc.resolve(this.Ke[e]):this.lookupMutationBatch(t,e).next((t=>{if(t){const n=t.keys();return this.Ke[e]=n,n}return null}))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,i=IDBKeyRange.lowerBound([this.userId,n]);let s=null;return ml(t).Qt({index:za.userMutationsIndex,range:i},((t,e,i)=>{e.userId===this.userId&&(Yi(e.batchId>=n),s=Mc(this.O,e)),i.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return ml(t).Qt({index:za.userMutationsIndex,range:e,reverse:!0},((t,e,i)=>{n=e.batchId,i.done()})).next((()=>n))}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ml(t).qt(za.userMutationsIndex,e).next((t=>t.map((t=>Mc(this.O,t)))))}getAllMutationBatchesAffectingDocumentKey(t,e){const n=Ha.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(n),s=[];return gl(t).Qt({range:i},((n,i,r)=>{const[o,a,c]=n,l=Ba(a);if(o===this.userId&&e.path.isEqual(l))return ml(t).get(c).next((t=>{if(!t)throw Qi();Yi(t.userId===this.userId),s.push(Mc(this.O,t))}));r.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Mo(ps);const i=[];return e.forEach((e=>{const s=Ha.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(s),o=gl(t).Qt({range:r},((t,i,s)=>{const[r,o,a]=t,c=Ba(o);r===this.userId&&e.path.isEqual(c)?n=n.add(a):s.done()}));i.push(o)})),dc.waitFor(i).next((()=>this.je(t,n)))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1,s=Ha.prefixForPath(this.userId,n),r=IDBKeyRange.lowerBound(s);let o=new Mo(ps);return gl(t).Qt({range:r},((t,e,s)=>{const[r,a,c]=t,l=Ba(a);r===this.userId&&n.isPrefixOf(l)?l.length===i&&(o=o.add(c)):s.done()})).next((()=>this.je(t,o)))}je(t,e){const n=[],i=[];return e.forEach((e=>{i.push(ml(t).get(e).next((t=>{if(null===t)throw Qi();Yi(t.userId===this.userId),n.push(Mc(this.O,t))})))})),dc.waitFor(i).next((()=>n))}removeMutationBatch(t,e){return hl(t.zt,this.userId,e).next((n=>(t.addOnCommittedListener((()=>{this.Qe(e.batchId)})),dc.forEach(n,(e=>this.referenceDelegate.markPotentiallyOrphaned(t,e))))))}Qe(t){delete this.Ke[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((e=>{if(!e)return dc.resolve();const n=IDBKeyRange.lowerBound(Ha.prefixForUser(this.userId)),i=[];return gl(t).Qt({range:n},((t,e,n)=>{if(t[0]===this.userId){const e=Ba(t[1]);i.push(e)}else n.done()})).next((()=>{Yi(0===i.length)}))}))}containsKey(t,e){return pl(t,this.userId,e)}We(t){return vl(t).get(this.userId).next((t=>t||new qa(this.userId,-1,"")))}}function pl(t,e,n){const i=Ha.prefixForPath(e,n.path),s=i[1],r=IDBKeyRange.lowerBound(i);let o=!1;return gl(t).Qt({range:r,jt:!0},((t,n,i)=>{const[r,a,c]=t;r===e&&a===s&&(o=!0),i.done()})).next((()=>o))}function ml(t){return Ic(t,za.store)}function gl(t){return Ic(t,Ha.store)}function vl(t){return Ic(t,qa.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(t){this.ze=t}next(){return this.ze+=2,this.ze}static He(){return new yl(0)}static Je(){return new yl(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(t,e){this.referenceDelegate=t,this.O=e}allocateTargetId(t){return this.Ye(t).next((e=>{const n=new yl(e.highestTargetId);return e.highestTargetId=n.next(),this.Xe(t,e).next((()=>e.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.Ye(t).next((t=>ys.fromTimestamp(new vs(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.Ye(t).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(t,e,n){return this.Ye(t).next((i=>(i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),this.Xe(t,i))))}addTargetData(t,e){return this.Ze(t,e).next((()=>this.Ye(t).next((n=>(n.targetCount+=1,this.tn(e,n),this.Xe(t,n))))))}updateTargetData(t,e){return this.Ze(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next((()=>wl(t).delete(e.targetId))).next((()=>this.Ye(t))).next((e=>(Yi(e.targetCount>0),e.targetCount-=1,this.Xe(t,e))))}removeTargets(t,e,n){let i=0;const s=[];return wl(t).Qt(((r,o)=>{const a=Pc(o);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,s.push(this.removeTargetData(t,a)))})).next((()=>dc.waitFor(s))).next((()=>i))}forEachTarget(t,e){return wl(t).Qt(((t,n)=>{const i=Pc(n);e(i)}))}Ye(t){return _l(t).get(Xa.key).next((t=>(Yi(null!==t),t)))}Xe(t,e){return _l(t).put(Xa.key,e)}Ze(t,e){return wl(t).put(Fc(this.O,e))}tn(t,e){let n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n}getTargetCount(t){return this.Ye(t).next((t=>t.targetCount))}getTargetData(t,e){const n=dr(e),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let s=null;return wl(t).Qt({range:i,index:Qa.queryTargetsIndexName},((t,n,i)=>{const r=Pc(n);pr(e,r.target)&&(s=r,i.done())})).next((()=>s))}addMatchingKeys(t,e,n){const i=[],s=Sl(t);return e.forEach((e=>{const r=Fa(e.path);i.push(s.put(new Ya(n,r))),i.push(this.referenceDelegate.addReference(t,n,e))})),dc.waitFor(i)}removeMatchingKeys(t,e,n){const i=Sl(t);return dc.forEach(e,(e=>{const s=Fa(e.path);return dc.waitFor([i.delete([n,s]),this.referenceDelegate.removeReference(t,n,e)])}))}removeMatchingKeysForTargetId(t,e){const n=Sl(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(t,e){const n=IDBKeyRange.bound([e],[e+1],!1,!0),i=Sl(t);let s=zo();return i.Qt({range:n,jt:!0},((t,e,n)=>{const i=Ba(t[1]),r=new js(i);s=s.add(r)})).next((()=>s))}containsKey(t,e){const n=Fa(e.path),i=IDBKeyRange.bound([n],[gs(n)],!1,!0);let s=0;return Sl(t).Qt({index:Ya.documentTargetsIndex,jt:!0,range:i},(([t,e],n,i)=>{0!==t&&(s++,i.done())})).next((()=>s>0))}Tt(t,e){return wl(t).get(e).next((t=>t?Pc(t):null))}}function wl(t){return Ic(t,Qa.store)}function _l(t){return Ic(t,Xa.store)}function Sl(t){return Ic(t,Ya.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(t){if(t.code!==ts.FAILED_PRECONDITION||t.message!==uc)throw t;Zi("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl([t,e],[n,i]){const s=ps(t,n);return 0===s?ps(e,i):s}class Cl{constructor(t){this.en=t,this.buffer=new Mo(xl),this.nn=0}sn(){return++this.nn}rn(t){const e=[t,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();xl(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class El{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.on=!1,this.cn=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(t)}stop(){this.cn&&(this.cn.cancel(),this.cn=null)}get started(){return null!==this.cn}un(t){const e=this.on?3e5:6e4;Zi("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.cn=null,this.on=!0;try{await t.collectGarbage(this.garbageCollector)}catch(t){vc(t)?Zi("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Il(t)}await this.un(t)}))}}class Tl{constructor(t,e){this.an=t,this.params=e}calculateTargetCount(t,e){return this.an.hn(t).next((t=>Math.floor(e/100*t)))}nthSequenceNumber(t,e){if(0===e)return dc.resolve(hs.A);const n=new Cl(e);return this.an.forEachTarget(t,(t=>n.rn(t.sequenceNumber))).next((()=>this.an.ln(t,(t=>n.rn(t))))).next((()=>n.maxValue))}removeTargets(t,e,n){return this.an.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.an.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Zi("LruGarbageCollector","Garbage collection skipped; disabled"),dc.resolve(ll)):this.getCacheSize(t).next((n=>n<this.params.cacheSizeCollectionThreshold?(Zi("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ll):this.fn(t,e)))}getCacheSize(t){return this.an.getCacheSize(t)}fn(t,e){let n,i,s,r,o,c,l;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((e=>(e>this.params.maximumSequenceNumbersToCollect?(Zi("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${e}`),i=this.params.maximumSequenceNumbersToCollect):i=e,r=Date.now(),this.nthSequenceNumber(t,i)))).next((i=>(n=i,o=Date.now(),this.removeTargets(t,n,e)))).next((e=>(s=e,c=Date.now(),this.removeOrphanedDocuments(t,n)))).next((t=>(l=Date.now(),zi()<=a["in"].DEBUG&&Zi("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${r-u}ms\n\tDetermined least recently used ${i} in `+(o-r)+"ms\n"+`\tRemoved ${s} targets in `+(c-o)+"ms\n"+`\tRemoved ${t} documents in `+(l-c)+"ms\n"+`Total Duration: ${l-u}ms`),dc.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:t}))))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(t,e){this.db=t,this.garbageCollector=function(t,e){return new Tl(t,e)}(this,e)}hn(t){const e=this.dn(t);return this.db.getTargetCache().getTargetCount(t).next((t=>e.next((e=>t+e))))}dn(t){let e=0;return this.ln(t,(t=>{e++})).next((()=>e))}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}ln(t,e){return this._n(t,((t,n)=>e(n)))}addReference(t,e,n){return Al(t,n)}removeReference(t,e,n){return Al(t,n)}removeTargets(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)}markPotentiallyOrphaned(t,e){return Al(t,e)}wn(t,e){return function(t,e){let n=!1;return vl(t).Wt((i=>pl(t,i,e).next((t=>(t&&(n=!0),dc.resolve(!t)))))).next((()=>n))}(t,e)}removeOrphanedDocuments(t,e){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this._n(t,((r,o)=>{if(o<=e){const e=this.wn(t,r).next((e=>{if(!e)return s++,n.getEntry(t,r).next((()=>(n.removeEntry(r,ys.min()),Sl(t).delete([0,Fa(r.path)]))))}));i.push(e)}})).next((()=>dc.waitFor(i))).next((()=>n.apply(t))).next((()=>s))}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)}updateLimboDocument(t,e){return Al(t,e)}_n(t,e){const n=Sl(t);let i,s=hs.A;return n.Qt({index:Ya.documentTargetsIndex},(([t,n],{path:r,sequenceNumber:o})=>{0===t?(s!==hs.A&&e(new js(Ba(i)),s),s=o,i=r):s=hs.A})).next((()=>{s!==hs.A&&e(new js(Ba(i)),s)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Al(t,e){return Sl(t).put(function(t,e){return new Ya(0,Fa(t.path),e)}(e,t.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[i,s]of n)if(this.equalsFn(i,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),i=this.inner[n];if(void 0!==i){for(let n=0;n<i.length;n++)if(this.equalsFn(i[n][0],t))return void(i[n]=[t,e]);i.push([t,e])}else this.inner[n]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),!0;return!1}forEach(t){ws(this.inner,((e,n)=>{for(const[i,s]of n)t(i,s)}))}isEmpty(){return _s(this.inner)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.changes=new Dl((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,rr.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?dc.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(t){this.O=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,n){return Ml(t).put(Pl(e),n)}removeEntry(t,e){const n=Ml(t),i=Pl(e);return n.delete(i)}updateMetadata(t,e){return this.getMetadata(t).next((n=>(n.byteSize+=e,this.mn(t,n))))}getEntry(t,e){return Ml(t).get(Pl(e)).next((t=>this.gn(e,t)))}yn(t,e){return Ml(t).get(Pl(e)).next((t=>({document:this.gn(e,t),size:dl(t)})))}getEntries(t,e){let n=Vo();return this.pn(t,e,((t,e)=>{const i=this.gn(t,e);n=n.insert(t,i)})).next((()=>n))}In(t,e){let n=Vo(),i=new No(js.comparator);return this.pn(t,e,((t,e)=>{const s=this.gn(t,e);n=n.insert(t,s),i=i.insert(t,dl(e))})).next((()=>({documents:n,En:i})))}pn(t,e,n){if(e.isEmpty())return dc.resolve();const i=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),s=e.getIterator();let r=s.getNext();return Ml(t).Qt({range:i},((t,e,i)=>{const o=js.fromSegments(t);for(;r&&js.comparator(r,o)<0;)n(r,null),r=s.getNext();r&&r.isEqual(o)&&(n(r,e),r=s.hasNext()?s.getNext():null),r?i.Ut(r.path.toArray()):i.done()})).next((()=>{for(;r;)n(r,null),r=s.hasNext()?s.getNext():null}))}getAll(t,e,n){let i=Vo();const s=e.length+1,r={};if(n.isEqual(ys.min())){const t=e.toArray();r.range=IDBKeyRange.lowerBound(t)}else{const t=e.toArray(),i=Oc(n);r.range=IDBKeyRange.lowerBound([t,i],!0),r.index=Ka.collectionReadTimeIndex}return Ml(t).Qt(r,((t,n,r)=>{if(t.length!==s)return;const o=this.gn(js.fromSegments(t),n);e.isPrefixOf(o.key.path)?i=i.insert(o.key,o):r.done()})).next((()=>i))}newChangeBuffer(t){return new Ll(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((t=>t.byteSize))}getMetadata(t){return $l(t).get(Ga.key).next((t=>(Yi(!!t),t)))}mn(t,e){return $l(t).put(Ga.key,e)}gn(t,e){if(e){const t=Ac(this.O,e);if(!t.isNoDocument()||!t.version.isEqual(ys.min()))return t}return rr.newInvalidDocument(t)}}class Ll extends Ol{constructor(t,e){super(),this.Tn=t,this.trackRemovals=e,this.An=new Dl((t=>t.toString()),((t,e)=>t.isEqual(e)))}applyChanges(t){const e=[];let n=0,i=new Mo(((t,e)=>ps(t.canonicalString(),e.canonicalString())));return this.changes.forEach(((s,r)=>{const o=this.An.get(s);if(r.isValidDocument()){const a=Dc(this.Tn.O,r);i=i.add(s.path.popLast());const c=dl(a);n+=c-o,e.push(this.Tn.addEntry(t,s,a))}else if(n-=o,this.trackRemovals){const n=Dc(this.Tn.O,r.convertToNoDocument(ys.min()));e.push(this.Tn.addEntry(t,s,n))}else e.push(this.Tn.removeEntry(t,s))})),i.forEach((n=>{e.push(this.Tn.indexManager.addToCollectionParentIndex(t,n))})),e.push(this.Tn.updateMetadata(t,n)),dc.waitFor(e)}getFromCache(t,e){return this.Tn.yn(t,e).next((t=>(this.An.set(e,t.size),t.document)))}getAllFromCache(t,e){return this.Tn.In(t,e).next((({documents:t,En:e})=>(e.forEach(((t,e)=>{this.An.set(t,e)})),t)))}}function $l(t){return Ic(t,Ga.store)}function Ml(t){return Ic(t,Ka.store)}function Pl(t){return t.path.toArray()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(t){this.O=t}kt(t,e,n,i){const s=new fc("createOrUpgrade",e);n<1&&i>=1&&(function(t){t.createObjectStore(Ua.store)}(t),function(t){t.createObjectStore(qa.store,{keyPath:qa.keyPath}),t.createObjectStore(za.store,{keyPath:za.keyPath,autoIncrement:!0}).createIndex(za.userMutationsIndex,za.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Ha.store)}(t),Rl(t),function(t){t.createObjectStore(Ka.store)}(t));let r=dc.resolve();return n<3&&i>=3&&(0!==n&&(function(t){t.deleteObjectStore(Ya.store),t.deleteObjectStore(Qa.store),t.deleteObjectStore(Xa.store)}(t),Rl(t)),r=r.next((()=>function(t){const e=t.store(Xa.store),n=new Xa(0,0,ys.min().toTimestamp(),0);return e.put(Xa.key,n)}(s)))),n<4&&i>=4&&(0!==n&&(r=r.next((()=>function(t,e){return e.store(za.store).qt().next((n=>{t.deleteObjectStore(za.store),t.createObjectStore(za.store,{keyPath:za.keyPath,autoIncrement:!0}).createIndex(za.userMutationsIndex,za.userMutationsKeyPath,{unique:!0});const i=e.store(za.store),s=n.map((t=>i.put(t)));return dc.waitFor(s)}))}(t,s)))),r=r.next((()=>{!function(t){t.createObjectStore(tc.store,{keyPath:tc.keyPath})}(t)}))),n<5&&i>=5&&(r=r.next((()=>this.Rn(s)))),n<6&&i>=6&&(r=r.next((()=>(function(t){t.createObjectStore(Ga.store)}(t),this.Pn(s))))),n<7&&i>=7&&(r=r.next((()=>this.bn(s)))),n<8&&i>=8&&(r=r.next((()=>this.vn(t,s)))),n<9&&i>=9&&(r=r.next((()=>{!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){const e=t.objectStore(Ka.store);e.createIndex(Ka.readTimeIndex,Ka.readTimeIndexPath,{unique:!1}),e.createIndex(Ka.collectionReadTimeIndex,Ka.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&i>=10&&(r=r.next((()=>this.Vn(s)))),n<11&&i>=11&&(r=r.next((()=>{!function(t){t.createObjectStore(ec.store,{keyPath:ec.keyPath})}(t),function(t){t.createObjectStore(nc.store,{keyPath:nc.keyPath})}(t)}))),n<12&&i>=12&&(r=r.next((()=>{!function(t){const e=t.createObjectStore(oc.store,{keyPath:oc.keyPath});e.createIndex(oc.collectionPathOverlayIndex,oc.collectionPathOverlayIndexPath,{unique:!1}),e.createIndex(oc.collectionGroupOverlayIndex,oc.collectionGroupOverlayIndexPath,{unique:!1})}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)}))),n<13&&i>=13&&(r=r.next((()=>{!function(t){t.createObjectStore(ic.store,{keyPath:ic.keyPath,autoIncrement:!0}).createIndex(ic.collectionGroupIndex,ic.collectionGroupIndexPath,{unique:!1}),t.createObjectStore(sc.store,{keyPath:sc.keyPath}).createIndex(sc.sequenceNumberIndex,sc.sequenceNumberIndexPath,{unique:!1}),t.createObjectStore(rc.store,{keyPath:rc.keyPath}).createIndex(rc.documentKeyIndex,rc.documentKeyIndexPath,{unique:!1})}(t)}))),r}Pn(t){let e=0;return t.store(Ka.store).Qt(((t,n)=>{e+=dl(n)})).next((()=>{const n=new Ga(e);return t.store(Ga.store).put(Ga.key,n)}))}Rn(t){const e=t.store(qa.store),n=t.store(za.store);return e.qt().next((e=>dc.forEach(e,(e=>{const i=IDBKeyRange.bound([e.userId,-1],[e.userId,e.lastAcknowledgedBatchId]);return n.qt(za.userMutationsIndex,i).next((n=>dc.forEach(n,(n=>{Yi(n.userId===e.userId);const i=Mc(this.O,n);return hl(t,e.userId,i).next((()=>{}))}))))}))))}bn(t){const e=t.store(Ya.store),n=t.store(Ka.store);return t.store(Xa.store).get(Xa.key).next((t=>{const i=[];return n.Qt(((n,s)=>{const r=new Is(n),o=function(t){return[0,Fa(t)]}(r);i.push(e.get(o).next((n=>n?dc.resolve():(n=>e.put(new Ya(0,Fa(n),t.highestListenSequenceNumber)))(r))))})).next((()=>dc.waitFor(i)))}))}vn(t,e){t.createObjectStore(Ja.store,{keyPath:Ja.keyPath});const n=e.store(Ja.store),i=new il,s=t=>{if(i.add(t)){const e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Fa(i)})}};return e.store(Ka.store).Qt({jt:!0},((t,e)=>{const n=new Is(t);return s(n.popLast())})).next((()=>e.store(Ha.store).Qt({jt:!0},(([t,e,n],i)=>{const r=Ba(e);return s(r.popLast())}))))}Vn(t){const e=t.store(Qa.store);return e.Qt(((t,n)=>{const i=Pc(n),s=Fc(this.O,i);return e.put(s)}))}}function Rl(t){t.createObjectStore(Ya.store,{keyPath:Ya.keyPath}).createIndex(Ya.documentTargetsIndex,Ya.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Qa.store,{keyPath:Qa.keyPath}).createIndex(Qa.queryTargetsIndexName,Qa.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Xa.store)}const Vl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Bl{constructor(t,e,n,i,s,r,o,a,c,l,u=12){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.Sn=s,this.window=r,this.document=o,this.Dn=c,this.Cn=l,this.schemaVersion=u,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=t=>Promise.resolve(),!Bl.Vt())throw new es(ts.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kl(this,i),this.Bn=e+"main",this.O=new kc(a),this.Ln=new pc(this.Bn,this.schemaVersion,new Fl(this.O)),this.Un=new bl(this.referenceDelegate,this.O),this.qn=function(t){return new Nl(t)}(this.O),this.Kn=new jc,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===l&&Wi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.jn().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new es(ts.FAILED_PRECONDITION,Vl);return this.Qn(),this.Wn(),this.zn(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.Un.getHighestSequenceNumber(t)))})).then((t=>{this.Nn=new hs(t,this.Dn)})).then((()=>{this.xn=!0})).catch((t=>(this.Ln&&this.Ln.close(),Promise.reject(t))))}Hn(t){return this.Fn=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ln.Mt((async e=>{null===e.newVersion&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Sn.enqueueAndForget((async()=>{this.started&&await this.jn()})))}jn(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>Ul(t).put(new tc(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next((()=>{if(this.isPrimary)return this.Jn(t).next((t=>{t||(this.isPrimary=!1,this.Sn.enqueueRetryable((()=>this.Fn(!1))))}))})).next((()=>this.Yn(t))).next((e=>this.isPrimary&&!e?this.Xn(t).next((()=>!1)):!!e&&this.Zn(t).next((()=>!0)))))).catch((t=>{if(vc(t))return Zi("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Zi("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.Sn.enqueueRetryable((()=>this.Fn(t))),this.isPrimary=t}))}Jn(t){return jl(t).get(Ua.key).next((t=>dc.resolve(this.ts(t))))}es(t){return Ul(t).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.ss(this.$n,18e5)){this.$n=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const e=Ic(t,tc.store);return e.qt().next((t=>{const n=this.rs(t,18e5),i=t.filter((t=>-1===n.indexOf(t)));return dc.forEach(i,(t=>e.delete(t.clientId))).next((()=>i))}))})).catch((()=>[]));if(this.Gn)for(const e of t)this.Gn.removeItem(this.os(e.clientId))}}zn(){this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.jn().then((()=>this.ns())).then((()=>this.zn()))))}ts(t){return!!t&&t.ownerId===this.clientId}Yn(t){return this.Cn?dc.resolve(!0):jl(t).get(Ua.key).next((e=>{if(null!==e&&this.ss(e.leaseTimestampMs,5e3)&&!this.cs(e.ownerId)){if(this.ts(e)&&this.networkEnabled)return!0;if(!this.ts(e)){if(!e.allowTabSynchronization)throw new es(ts.FAILED_PRECONDITION,Vl);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ul(t).qt().next((t=>void 0===this.rs(t,5e3).find((t=>{if(this.clientId!==t.clientId){const e=!this.networkEnabled&&t.networkEnabled,n=!this.inForeground&&t.inForeground,i=this.networkEnabled===t.networkEnabled;if(e||n&&i)return!0}return!1}))))})).next((t=>(this.isPrimary!==t&&Zi("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.xn=!1,this.us(),this.Mn&&(this.Mn.cancel(),this.Mn=null),this.hs(),this.ls(),await this.Ln.runTransaction("shutdown","readwrite",[Ua.store,tc.store],(t=>{const e=new Sc(t,hs.A);return this.Xn(e).next((()=>this.es(e)))})),this.Ln.close(),this.fs()}rs(t,e){return t.filter((t=>this.ss(t.updateTimeMs,e)&&!this.cs(t.clientId)))}ds(){return this.runTransaction("getActiveClients","readonly",(t=>Ul(t).qt().next((t=>this.rs(t,18e5).map((t=>t.clientId))))))}get started(){return this.xn}getMutationQueue(t,e){return fl.Jt(t,this.O,e,this.referenceDelegate)}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getIndexManager(t){return new sl(t)}getDocumentOverlayCache(t){return zc.Jt(this.O,t)}getBundleCache(){return this.Kn}runTransaction(t,e,n){Zi("IndexedDbPersistence","Starting transaction:",t);const i="readonly"===e?"readonly":"readwrite",s=13===(r=this.schemaVersion)?lc:12===r?cc:11===r?ac:void Qi();var r;let o;return this.Ln.runTransaction(t,i,s,(i=>(o=new Sc(i,this.Nn?this.Nn.next():hs.A),"readwrite-primary"===e?this.Jn(o).next((t=>!!t||this.Yn(o))).next((e=>{if(!e)throw Wi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Sn.enqueueRetryable((()=>this.Fn(!1))),new es(ts.FAILED_PRECONDITION,uc);return n(o)})).next((t=>this.Zn(o).next((()=>t)))):this._s(o).next((()=>n(o)))))).then((t=>(o.raiseOnCommittedEvent(),t)))}_s(t){return jl(t).get(Ua.key).next((t=>{if(null!==t&&this.ss(t.leaseTimestampMs,5e3)&&!this.cs(t.ownerId)&&!this.ts(t)&&!(this.Cn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new es(ts.FAILED_PRECONDITION,Vl)}))}Zn(t){const e=new Ua(this.clientId,this.allowTabSynchronization,Date.now());return jl(t).put(Ua.key,e)}static Vt(){return pc.Vt()}Xn(t){const e=jl(t);return e.get(Ua.key).next((t=>this.ts(t)?(Zi("IndexedDbPersistence","Releasing primary lease."),e.delete(Ua.key)):dc.resolve()))}ss(t,e){const n=Date.now();return!(t<n-e)&&(!(t>n)||(Wi(`Detected an update time that is in the future: ${t} > ${n}`),!1))}Qn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=()=>{this.Sn.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.jn())))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}hs(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}Wn(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.kn=()=>{this.us(),(0,c.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Sn.enterRestrictedMode(!0),this.Sn.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.kn))}ls(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}cs(t){var e;try{const n=null!==(null===(e=this.Gn)||void 0===e?void 0:e.getItem(this.os(t)));return Zi("IndexedDbPersistence",`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(t){return Wi("IndexedDbPersistence","Failed to get zombied client id.",t),!1}}us(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(I){Wi("Failed to set zombie client id.",I)}}fs(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(I){}}os(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function jl(t){return Ic(t,Ua.store)}function Ul(t){return Ic(t,tc.store)}function ql(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class zl{constructor(t,e){this.progress=t,this.ws=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(t,e,n){this.qn=t,this.gs=e,this.indexManager=n}ys(t,e){return this.gs.getAllMutationBatchesAffectingDocumentKey(t,e).next((n=>this.ps(t,e,n)))}ps(t,e,n){return this.qn.getEntry(t,e).next((t=>{for(const e of n)e.applyToLocalView(t);return t}))}Is(t,e){t.forEach(((t,n)=>{for(const i of e)i.applyToLocalView(n)}))}Es(t,e){return this.qn.getEntries(t,e).next((e=>this.Ts(t,e).next((()=>e))))}Ts(t,e){return this.gs.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>this.Is(e,t)))}As(t,e,n){return function(t){return js.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Rs(t,e.path):Fr(e)?this.Ps(t,e,n):this.bs(t,e,n)}Rs(t,e){return this.ys(t,new js(e)).next((t=>{let e=jo();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}Ps(t,e,n){const i=e.collectionGroup;let s=jo();return this.indexManager.getCollectionParents(t,i).next((r=>dc.forEach(r,(r=>{const o=function(t,e){return new Dr(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,r.child(i));return this.bs(t,o,n).next((t=>{t.forEach(((t,e)=>{s=s.insert(t,e)}))}))})).next((()=>s))))}bs(t,e,n){let i;return this.qn.getAll(t,e.path,n).next((n=>(i=n,this.gs.getAllMutationBatchesAffectingQuery(t,e)))).next((t=>{for(const e of t)for(const t of e.mutations){const n=t.key;let s=i.get(n);null==s&&(s=rr.newInvalidDocument(n),i=i.insert(n,s)),go(t,s,e.localWriteTime),s.isFoundDocument()||(i=i.remove(n))}})).next((()=>(i.forEach(((t,n)=>{zr(e,n)||(i=i.remove(t))})),i)))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(t,e,n,i){this.targetId=t,this.fromCache=e,this.vs=n,this.Vs=i}static Ss(t,e){let n=zo(),i=zo();for(const s of e.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Zl(t,e.fromCache,n,i)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{Ds(t){this.Cs=t}As(t,e,n,i){return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(ys.min())?this.Ns(t,e):this.Cs.Es(t,i).next((s=>{const r=this.xs(e,s);return(Lr(e)||$r(e))&&this.ks(e.limitType,r,i,n)?this.Ns(t,e):(zi()<=a["in"].DEBUG&&Zi("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),qr(e)),this.Cs.As(t,e,n).next((t=>(r.forEach((e=>{t=t.insert(e.key,e)})),t))))}))}xs(t,e){let n=new Mo(Hr(t));return e.forEach(((e,i)=>{zr(t,i)&&(n=n.add(i))})),n}ks(t,e,n,i){if(n.size!==e.size)return!0;const s="F"===t?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ns(t,e){return zi()<=a["in"].DEBUG&&Zi("QueryEngine","Using full collection scan to execute query:",qr(e)),this.Cs.As(t,e,ys.min())}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(t,e,n,i){this.persistence=t,this.Os=e,this.O=i,this.Ms=new No(ps),this.$s=new Dl((t=>dr(t)),pr),this.Fs=ys.min(),this.Bs=t.getRemoteDocumentCache(),this.Un=t.getTargetCache(),this.Kn=t.getBundleCache(),this.Ls(n)}Ls(t){this.indexManager=this.persistence.getIndexManager(t),this.gs=this.persistence.getMutationQueue(t,this.indexManager),this.Us=new Hl(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function Gl(t,e,n,i){return new Kl(t,e,n,i)}async function Ql(t,e){const n=Ji(t);return await n.persistence.runTransaction("Handle user change","readonly",(t=>{let i;return n.gs.getAllMutationBatches(t).next((s=>(i=s,n.Ls(e),n.gs.getAllMutationBatches(t)))).next((e=>{const s=[],r=[];let o=zo();for(const t of i){s.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){r.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return n.Us.Es(t,o).next((t=>({qs:t,removedBatchIds:s,addedBatchIds:r})))}))}))}function Yl(t,e){const n=Ji(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const i=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(t,e,n,i){const s=n.batch,r=s.keys();let o=dc.resolve();return r.forEach((t=>{o=o.next((()=>i.getEntry(e,t))).next((e=>{const r=n.docVersions.get(t);Yi(null!==r),e.version.compareTo(r)<0&&(s.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),i.addEntry(e)))}))})),o.next((()=>t.gs.removeMutationBatch(e,s)))}(n,t,e,s).next((()=>s.apply(t))).next((()=>n.gs.performConsistencyCheck(t))).next((()=>n.Us.Es(t,i)))}))}function Xl(t){const e=Ji(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Un.getLastRemoteSnapshotVersion(t)))}function Jl(t,e){const n=Ji(t),i=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const r=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.Ms;const o=[];e.targetChanges.forEach(((r,a)=>{const c=s.get(a);if(!c)return;o.push(n.Un.removeMatchingKeys(t,r.removedDocuments,a).next((()=>n.Un.addMatchingKeys(t,r.addedDocuments,a))));let l=c.withSequenceNumber(t.currentSequenceNumber);e.targetMismatches.has(a)?l=l.withResumeToken(ks.EMPTY_BYTE_STRING,ys.min()).withLastLimboFreeSnapshotVersion(ys.min()):r.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(r.resumeToken,i)),s=s.insert(a,l),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||(e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(c,l,r)&&o.push(n.Un.updateTargetData(t,l))}));let a=Vo();if(e.documentUpdates.forEach((i=>{e.resolvedLimboDocuments.has(i)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))})),o.push(tu(t,r,e.documentUpdates).next((t=>{a=t}))),!i.isEqual(ys.min())){const e=n.Un.getLastRemoteSnapshotVersion(t).next((e=>n.Un.setTargetsMetadata(t,t.currentSequenceNumber,i)));o.push(e)}return dc.waitFor(o).next((()=>r.apply(t))).next((()=>n.Us.Ts(t,a))).next((()=>a))})).then((t=>(n.Ms=s,t)))}function tu(t,e,n){let i=zo();return n.forEach((t=>i=i.add(t))),e.getEntries(t,i).next((t=>{let i=Vo();return n.forEach(((n,s)=>{const r=t.get(n);s.isNoDocument()&&s.version.isEqual(ys.min())?(e.removeEntry(n,s.readTime),i=i.insert(n,s)):!r.isValidDocument()||s.version.compareTo(r.version)>0||0===s.version.compareTo(r.version)&&r.hasPendingWrites?(e.addEntry(s),i=i.insert(n,s)):Zi("LocalStore","Ignoring outdated watch update for ",n,". Current version:",r.version," Watch version:",s.version)})),i}))}function eu(t,e){const n=Ji(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),n.gs.getNextMutationBatchAfterBatchId(t,e))))}function nu(t,e){const n=Ji(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let i;return n.Un.getTargetData(t,e).next((s=>s?(i=s,dc.resolve(i)):n.Un.allocateTargetId(t).next((s=>(i=new Tc(e,s,0,t.currentSequenceNumber),n.Un.addTargetData(t,i).next((()=>i)))))))})).then((t=>{const i=n.Ms.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(t.targetId,t),n.$s.set(e,t.targetId)),t}))}async function iu(t,e,n){const i=Ji(t),s=i.Ms.get(e),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,(t=>i.persistence.referenceDelegate.removeTarget(t,s)))}catch(t){if(!vc(t))throw t;Zi("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}i.Ms=i.Ms.remove(e),i.$s.delete(s.target)}function su(t,e,n){const i=Ji(t);let s=ys.min(),r=zo();return i.persistence.runTransaction("Execute query","readonly",(t=>function(t,e,n){const i=Ji(t),s=i.$s.get(n);return void 0!==s?dc.resolve(i.Ms.get(s)):i.Un.getTargetData(e,n)}(i,t,Vr(e)).next((e=>{if(e)return s=e.lastLimboFreeSnapshotVersion,i.Un.getMatchingKeysForTargetId(t,e.targetId).next((t=>{r=t}))})).next((()=>i.Os.As(t,e,n?s:ys.min(),n?r:zo()))).next((t=>({documents:t,Ks:r})))))}function ru(t,e){const n=Ji(t),i=Ji(n.Un),s=n.Ms.get(e);return s?Promise.resolve(s.target):n.persistence.runTransaction("Get target data","readonly",(t=>i.Tt(t,e).next((t=>t?t.target:null))))}function ou(t){const e=Ji(t);return e.persistence.runTransaction("Get new document changes","readonly",(t=>function(t,e,n){const i=Ji(t);let s=Vo(),r=Oc(n);const o=Ml(e),a=IDBKeyRange.lowerBound(r,!0);return o.Qt({index:Ka.readTimeIndex,range:a},((t,e)=>{const n=Ac(i.O,e);s=s.insert(n.key,n),r=e.readTime})).next((()=>({ws:s,readTime:Nc(r)})))}(e.Bs,t,e.Fs))).then((({ws:t,readTime:n})=>(e.Fs=n,t)))}async function au(t){const e=Ji(t);return e.persistence.runTransaction("Synchronize last document change read time","readonly",(t=>function(t){const e=Ml(t);let n=ys.min();return e.Qt({index:Ka.readTimeIndex,reverse:!0},((t,e,i)=>{e.readTime&&(n=Nc(e.readTime)),i.done()})).next((()=>n))}(t))).then((t=>{e.Fs=t}))}async function cu(t,e,n,i){const s=Ji(t);let r=zo(),o=Vo();for(const l of n){const t=e.Gs(l.metadata.name);l.document&&(r=r.add(t));const n=e.js(l);n.setReadTime(e.Qs(l.metadata.readTime)),o=o.insert(t,n)}const a=s.Bs.newChangeBuffer({trackRemovals:!0}),c=await nu(s,function(t){return Vr(Nr(Is.fromString(`__bundle__/docs/${t}`)))}(i));return s.persistence.runTransaction("Apply bundle documents","readwrite",(t=>tu(t,a,o).next((e=>(a.apply(t),e))).next((e=>s.Un.removeMatchingKeysForTargetId(t,c.targetId).next((()=>s.Un.addMatchingKeys(t,r,c.targetId))).next((()=>s.Us.Ts(t,e))).next((()=>e))))))}async function lu(t,e,n=zo()){const i=await nu(t,Vr(Rc(e.bundledQuery))),s=Ji(t);return s.persistence.runTransaction("Save named query","readwrite",(t=>{const r=ca(e.readTime);if(i.snapshotVersion.compareTo(r)>=0)return s.Kn.saveNamedQuery(t,e);const o=i.withResumeToken(ks.EMPTY_BYTE_STRING,r);return s.Ms=s.Ms.insert(o.targetId,o),s.Un.updateTargetData(t,o).next((()=>s.Un.removeMatchingKeysForTargetId(t,i.targetId))).next((()=>s.Un.addMatchingKeys(t,n,i.targetId))).next((()=>s.Kn.saveNamedQuery(t,e)))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(t){this.O=t,this.Ws=new Map,this.zs=new Map}getBundleMetadata(t,e){return dc.resolve(this.Ws.get(e))}saveBundleMetadata(t,e){var n;return this.Ws.set(e.id,{id:(n=e).id,version:n.version,createTime:ca(n.createTime)}),dc.resolve()}getNamedQuery(t,e){return dc.resolve(this.zs.get(e))}saveNamedQuery(t,e){return this.zs.set(e.name,function(t){return{name:t.name,query:Rc(t.bundledQuery),readTime:ca(t.readTime)}}(e)),dc.resolve()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(){this.overlays=new No(js.comparator),this.Hs=new Map}getOverlay(t,e){return dc.resolve(this.overlays.get(e))}saveOverlays(t,e,n){return n.forEach((n=>{this.Yt(t,e,n)})),dc.resolve()}removeOverlaysForBatchId(t,e,n){const i=this.Hs.get(n);return void 0!==i&&(i.forEach((t=>this.overlays=this.overlays.remove(t))),this.Hs.delete(n)),dc.resolve()}getOverlaysForCollection(t,e,n){const i=new Map,s=e.length+1,r=new js(e.child("")),o=this.overlays.getIteratorFrom(r);for(;o.hasNext();){const t=o.getNext().value,r=t.getKey();if(!e.isPrefixOf(r.path))break;r.path.length===s&&t.largestBatchId>n&&i.set(t.getKey(),t)}return dc.resolve(i)}getOverlaysForCollectionGroup(t,e,n,i){let s=new No(((t,e)=>t-e));const r=this.overlays.getIterator();for(;r.hasNext();){const t=r.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=s.get(t.largestBatchId);null===e&&(e=new Map,s=s.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const o=new Map,a=s.getIterator();for(;a.hasNext();)if(a.getNext().value.forEach(((t,e)=>o.set(e,t))),o.size>=i)break;return dc.resolve(o)}Yt(t,e,n){if(null===n)return;const i=this.overlays.get(n.key);null!==i&&this.Hs.get(i.largestBatchId).delete(n.key),this.overlays=this.overlays.insert(n.key,new Ec(e,n));let s=this.Hs.get(e);void 0===s&&(s=new Set,this.Hs.set(e,s)),s.add(n.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(){this.Js=new Mo(fu.Ys),this.Xs=new Mo(fu.Zs)}isEmpty(){return this.Js.isEmpty()}addReference(t,e){const n=new fu(t,e);this.Js=this.Js.add(n),this.Xs=this.Xs.add(n)}ti(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.ei(new fu(t,e))}ni(t,e){t.forEach((t=>this.removeReference(t,e)))}si(t){const e=new js(new Is([])),n=new fu(e,t),i=new fu(e,t+1),s=[];return this.Xs.forEachInRange([n,i],(t=>{this.ei(t),s.push(t.key)})),s}ii(){this.Js.forEach((t=>this.ei(t)))}ei(t){this.Js=this.Js.delete(t),this.Xs=this.Xs.delete(t)}ri(t){const e=new js(new Is([])),n=new fu(e,t),i=new fu(e,t+1);let s=zo();return this.Xs.forEachInRange([n,i],(t=>{s=s.add(t.key)})),s}containsKey(t){const e=new fu(t,0),n=this.Js.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class fu{constructor(t,e){this.key=t,this.oi=e}static Ys(t,e){return js.comparator(t.key,e.key)||ps(t.oi,e.oi)}static Zs(t,e){return ps(t.oi,e.oi)||js.comparator(t.key,e.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.gs=[],this.ci=1,this.ui=new Mo(fu.Ys)}checkEmpty(t){return dc.resolve(0===this.gs.length)}addMutationBatch(t,e,n,i){const s=this.ci;this.ci++,this.gs.length>0&&this.gs[this.gs.length-1];const r=new xc(s,e,n,i);this.gs.push(r);for(const o of i)this.ui=this.ui.add(new fu(o.key,s)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return dc.resolve(r)}lookupMutationBatch(t,e){return dc.resolve(this.ai(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,i=this.hi(n),s=i<0?0:i;return dc.resolve(this.gs.length>s?this.gs[s]:null)}getHighestUnacknowledgedBatchId(){return dc.resolve(0===this.gs.length?-1:this.ci-1)}getAllMutationBatches(t){return dc.resolve(this.gs.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new fu(e,0),i=new fu(e,Number.POSITIVE_INFINITY),s=[];return this.ui.forEachInRange([n,i],(t=>{const e=this.ai(t.oi);s.push(e)})),dc.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Mo(ps);return e.forEach((t=>{const e=new fu(t,0),i=new fu(t,Number.POSITIVE_INFINITY);this.ui.forEachInRange([e,i],(t=>{n=n.add(t.oi)}))})),dc.resolve(this.li(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1;let s=n;js.isDocumentKey(s)||(s=s.child(""));const r=new fu(new js(s),0);let o=new Mo(ps);return this.ui.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(o=o.add(t.oi)),!0)}),r),dc.resolve(this.li(o))}li(t){const e=[];return t.forEach((t=>{const n=this.ai(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){Yi(0===this.fi(e.batchId,"removed")),this.gs.shift();let n=this.ui;return dc.forEach(e.mutations,(i=>{const s=new fu(i.key,e.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((()=>{this.ui=n}))}Qe(t){}containsKey(t,e){const n=new fu(e,0),i=this.ui.firstAfterOrEqual(n);return dc.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return this.gs.length,dc.resolve()}fi(t,e){return this.hi(t)}hi(t){return 0===this.gs.length?0:t-this.gs[0].batchId}ai(t){const e=this.hi(t);return e<0||e>=this.gs.length?null:this.gs[e]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(t){this.di=t,this.docs=new No(js.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,i=this.docs.get(n),s=i?i.size:0,r=this.di(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:r}),this.size+=r-s,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return dc.resolve(n?n.document.mutableCopy():rr.newInvalidDocument(e))}getEntries(t,e){let n=Vo();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():rr.newInvalidDocument(t))})),dc.resolve(n)}getAll(t,e,n){let i=Vo();const s=new js(e.child("")),r=this.docs.getIteratorFrom(s);for(;r.hasNext();){const{key:t,value:{document:s}}=r.getNext();if(!e.isPrefixOf(t.path))break;t.path.length>e.length+1||s.readTime.compareTo(n)<=0||(i=i.insert(s.key,s.mutableCopy()))}return dc.resolve(i)}_i(t,e){return dc.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new gu(this)}getSize(t){return dc.resolve(this.size)}}class gu extends Ol{constructor(t){super(),this.Tn=t}applyChanges(t){const e=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?e.push(this.Tn.addEntry(t,i)):this.Tn.removeEntry(n)})),dc.waitFor(e)}getFromCache(t,e){return this.Tn.getEntry(t,e)}getAllFromCache(t,e){return this.Tn.getEntries(t,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(t){this.persistence=t,this.wi=new Dl((t=>dr(t)),pr),this.lastRemoteSnapshotVersion=ys.min(),this.highestTargetId=0,this.mi=0,this.gi=new du,this.targetCount=0,this.yi=yl.He()}forEachTarget(t,e){return this.wi.forEach(((t,n)=>e(n))),dc.resolve()}getLastRemoteSnapshotVersion(t){return dc.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return dc.resolve(this.mi)}allocateTargetId(t){return this.highestTargetId=this.yi.next(),dc.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.mi&&(this.mi=e),dc.resolve()}Ze(t){this.wi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.yi=new yl(e),this.highestTargetId=e),t.sequenceNumber>this.mi&&(this.mi=t.sequenceNumber)}addTargetData(t,e){return this.Ze(e),this.targetCount+=1,dc.resolve()}updateTargetData(t,e){return this.Ze(e),dc.resolve()}removeTargetData(t,e){return this.wi.delete(e.target),this.gi.si(e.targetId),this.targetCount-=1,dc.resolve()}removeTargets(t,e,n){let i=0;const s=[];return this.wi.forEach(((r,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.wi.delete(r),s.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)})),dc.waitFor(s).next((()=>i))}getTargetCount(t){return dc.resolve(this.targetCount)}getTargetData(t,e){const n=this.wi.get(e)||null;return dc.resolve(n)}addMatchingKeys(t,e,n){return this.gi.ti(e,n),dc.resolve()}removeMatchingKeys(t,e,n){this.gi.ni(e,n);const i=this.persistence.referenceDelegate,s=[];return i&&e.forEach((e=>{s.push(i.markPotentiallyOrphaned(t,e))})),dc.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.gi.si(e),dc.resolve()}getMatchingKeysForTargetId(t,e){const n=this.gi.ri(e);return dc.resolve(n)}containsKey(t,e){return dc.resolve(this.gi.containsKey(e))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(t,e){this.pi={},this.overlays={},this.Nn=new hs(0),this.xn=!1,this.xn=!0,this.referenceDelegate=t(this),this.Un=new vu(this),this.indexManager=new nl,this.qn=function(t){return new mu(t)}((t=>this.referenceDelegate.Ii(t))),this.O=new kc(e),this.Kn=new uu(this.O)}start(){return Promise.resolve()}shutdown(){return this.xn=!1,Promise.resolve()}get started(){return this.xn}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new hu,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.pi[t.toKey()];return n||(n=new pu(e,this.referenceDelegate),this.pi[t.toKey()]=n),n}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getBundleCache(){return this.Kn}runTransaction(t,e,n){Zi("MemoryPersistence","Starting transaction:",t);const i=new bu(this.Nn.next());return this.referenceDelegate.Ei(),n(i).next((t=>this.referenceDelegate.Ti(i).next((()=>t)))).toPromise().then((t=>(i.raiseOnCommittedEvent(),t)))}Ai(t,e){return dc.or(Object.values(this.pi).map((n=>()=>n.containsKey(t,e))))}}class bu extends hc{constructor(t){super(),this.currentSequenceNumber=t}}class wu{constructor(t){this.persistence=t,this.Ri=new du,this.Pi=null}static bi(t){return new wu(t)}get vi(){if(this.Pi)return this.Pi;throw Qi()}addReference(t,e,n){return this.Ri.addReference(n,e),this.vi.delete(n.toString()),dc.resolve()}removeReference(t,e,n){return this.Ri.removeReference(n,e),this.vi.add(n.toString()),dc.resolve()}markPotentiallyOrphaned(t,e){return this.vi.add(e.toString()),dc.resolve()}removeTarget(t,e){this.Ri.si(e.targetId).forEach((t=>this.vi.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.vi.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}Ei(){this.Pi=new Set}Ti(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return dc.forEach(this.vi,(n=>{const i=js.fromPath(n);return this.Vi(t,i).next((t=>{t||e.removeEntry(i,ys.min())}))})).next((()=>(this.Pi=null,e.apply(t))))}updateLimboDocument(t,e){return this.Vi(t,e).next((t=>{t?this.vi.delete(e.toString()):this.vi.add(e.toString())}))}Ii(t){return 0}Vi(t,e){return dc.or([()=>dc.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t,e){return`firestore_clients_${t}_${e}`}function Su(t,e,n){let i=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function Iu(t,e){return`firestore_targets_${t}_${e}`}class xu{constructor(t,e,n,i){this.user=t,this.batchId=e,this.state=n,this.error=i}static Si(t,e,n){const i=JSON.parse(n);let s,r="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return r&&i.error&&(r="string"==typeof i.error.message&&"string"==typeof i.error.code,r&&(s=new es(i.error.code,i.error.message))),r?new xu(t,e,i.state,s):(Wi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${n}`),null)}Di(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Cu{constructor(t,e,n){this.targetId=t,this.state=e,this.error=n}static Si(t,e){const n=JSON.parse(e);let i,s="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return s&&n.error&&(s="string"==typeof n.error.message&&"string"==typeof n.error.code,s&&(i=new es(n.error.code,n.error.message))),s?new Cu(t,n.state,i):(Wi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Di(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Eu{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Si(t,e){const n=JSON.parse(e);let i="object"==typeof n&&n.activeTargetIds instanceof Array,s=Zo();for(let r=0;i&&r<n.activeTargetIds.length;++r)i=Bs(n.activeTargetIds[r]),s=s.add(n.activeTargetIds[r]);return i?new Eu(t,s):(Wi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class Tu{constructor(t,e){this.clientId=t,this.onlineState=e}static Si(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new Tu(e.clientId,e.onlineState):(Wi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class ku{constructor(){this.activeTargetIds=Zo()}Ci(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ni(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Di(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Au{constructor(t,e,n,i,s){this.window=t,this.Sn=e,this.persistenceKey=n,this.xi=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new No(ps),this.started=!1,this.$i=[];const r=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Fi=_u(this.persistenceKey,this.xi),this.Bi=function(t){return`firestore_sequence_number_${t}`}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.persistenceKey),this.Mi=this.Mi.insert(this.xi,new ku),this.Li=new RegExp(`^firestore_clients_${r}_([^_]*)$`),this.Ui=new RegExp(`^firestore_mutations_${r}_(\\d+)(?:_(.*))?$`),this.qi=new RegExp(`^firestore_targets_${r}_(\\d+)$`),this.Ki=function(t){return`firestore_online_state_${t}`}(this.persistenceKey),this.Gi=function(t){return`firestore_bundle_loaded_${t}`}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}static Vt(t){return!(!t||!t.localStorage)}async start(){const t=await this.syncEngine.ds();for(const n of t){if(n===this.xi)continue;const t=this.getItem(_u(this.persistenceKey,n));if(t){const e=Eu.Si(n,t);e&&(this.Mi=this.Mi.insert(e.clientId,e))}}this.ji();const e=this.storage.getItem(this.Ki);if(e){const t=this.Qi(e);t&&this.Wi(t)}for(const n of this.$i)this.Oi(n);this.$i=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(t){this.setItem(this.Bi,JSON.stringify(t))}getAllActiveQueryTargets(){return this.zi(this.Mi)}isActiveQueryTarget(t){let e=!1;return this.Mi.forEach(((n,i)=>{i.activeTargetIds.has(t)&&(e=!0)})),e}addPendingMutation(t){this.Hi(t,"pending")}updateMutationState(t,e,n){this.Hi(t,e,n),this.Ji(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const n=this.storage.getItem(Iu(this.persistenceKey,t));if(n){const i=Cu.Si(t,n);i&&(e=i.state)}}return this.Yi.Ci(t),this.ji(),e}removeLocalQueryTarget(t){this.Yi.Ni(t),this.ji()}isLocalQueryTarget(t){return this.Yi.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Iu(this.persistenceKey,t))}updateQueryState(t,e,n){this.Xi(t,e,n)}handleUserChange(t,e,n){e.forEach((t=>{this.Ji(t)})),this.currentUser=t,n.forEach((t=>{this.addPendingMutation(t)}))}setOnlineState(t){this.Zi(t)}notifyBundleLoaded(){this.tr()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Zi("SharedClientState","READ",t,e),e}setItem(t,e){Zi("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Zi("SharedClientState","REMOVE",t),this.storage.removeItem(t)}Oi(t){const e=t;if(e.storageArea===this.storage){if(Zi("SharedClientState","EVENT",e.key,e.newValue),e.key===this.Fi)return void Wi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable((async()=>{if(this.started){if(null!==e.key)if(this.Li.test(e.key)){if(null==e.newValue){const t=this.er(e.key);return this.nr(t,null)}{const t=this.sr(e.key,e.newValue);if(t)return this.nr(t.clientId,t)}}else if(this.Ui.test(e.key)){if(null!==e.newValue){const t=this.ir(e.key,e.newValue);if(t)return this.rr(t)}}else if(this.qi.test(e.key)){if(null!==e.newValue){const t=this.cr(e.key,e.newValue);if(t)return this.ur(t)}}else if(e.key===this.Ki){if(null!==e.newValue){const t=this.Qi(e.newValue);if(t)return this.Wi(t)}}else if(e.key===this.Bi){const t=function(t){let e=hs.A;if(null!=t)try{const n=JSON.parse(t);Yi("number"==typeof n),e=n}catch(t){Wi("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(e.newValue);t!==hs.A&&this.sequenceNumberHandler(t)}else if(e.key===this.Gi)return this.syncEngine.ar()}else this.$i.push(e)}))}}get Yi(){return this.Mi.get(this.xi)}ji(){this.setItem(this.Fi,this.Yi.Di())}Hi(t,e,n){const i=new xu(this.currentUser,t,e,n),s=Su(this.persistenceKey,this.currentUser,t);this.setItem(s,i.Di())}Ji(t){const e=Su(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Zi(t){const e={clientId:this.xi,onlineState:t};this.storage.setItem(this.Ki,JSON.stringify(e))}Xi(t,e,n){const i=Iu(this.persistenceKey,t),s=new Cu(t,e,n);this.setItem(i,s.Di())}tr(){this.setItem(this.Gi,"value-not-used")}er(t){const e=this.Li.exec(t);return e?e[1]:null}sr(t,e){const n=this.er(t);return Eu.Si(n,e)}ir(t,e){const n=this.Ui.exec(t),i=Number(n[1]),s=void 0!==n[2]?n[2]:null;return xu.Si(new ji(s),i,e)}cr(t,e){const n=this.qi.exec(t),i=Number(n[1]);return Cu.Si(i,e)}Qi(t){return Tu.Si(t)}async rr(t){if(t.user.uid===this.currentUser.uid)return this.syncEngine.hr(t.batchId,t.state,t.error);Zi("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)}ur(t){return this.syncEngine.lr(t.targetId,t.state,t.error)}nr(t,e){const n=e?this.Mi.insert(t,e):this.Mi.remove(t),i=this.zi(this.Mi),s=this.zi(n),r=[],o=[];return s.forEach((t=>{i.has(t)||r.push(t)})),i.forEach((t=>{s.has(t)||o.push(t)})),this.syncEngine.dr(r,o).then((()=>{this.Mi=n}))}Wi(t){this.Mi.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}zi(t){let e=Zo();return t.forEach(((t,n)=>{e=e.unionWith(n.activeTargetIds)})),e}}class Du{constructor(){this._r=new ku,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this._r.Ci(t),this.wr[t]||"not-current"}updateQueryState(t,e,n){this.wr[t]=e}removeLocalQueryTarget(t){this._r.Ni(t)}isLocalQueryTarget(t){return this._r.activeTargetIds.has(t)}clearQueryState(t){delete this.wr[t]}getAllActiveQueryTargets(){return this._r.activeTargetIds}isActiveQueryTarget(t){return this._r.activeTargetIds.has(t)}start(){return this._r=new ku,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{mr(t){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(){this.gr=()=>this.yr(),this.pr=()=>this.Ir(),this.Er=[],this.Tr()}mr(t){this.Er.push(t)}shutdown(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}Tr(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}yr(){Zi("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Er)t(0)}Ir(){Zi("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Er)t(1)}static Vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(t){this.Ar=t.Ar,this.Rr=t.Rr}Pr(t){this.br=t}vr(t){this.Vr=t}onMessage(t){this.Sr=t}close(){this.Rr()}send(t){this.Ar(t)}Dr(){this.br()}Cr(t){this.Vr(t)}Nr(t){this.Sr(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http";this.kr=e+"://"+t.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Mr(t,e,n,i,s){const r=this.$r(t,e);Zi("RestConnection","Sending: ",r,n);const o={};return this.Fr(o,i,s),this.Br(t,r,o,n).then((t=>(Zi("RestConnection","Received: ",t),t)),(e=>{throw Ki("RestConnection",`${t} failed with error: `,e,"url: ",r,"request:",n),e}))}Lr(t,e,n,i,s){return this.Mr(t,e,n,i,s)}Fr(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ui,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}$r(t,e){const n=Lu[t];return`${this.kr}/v1/${e}:${n}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}Br(t,e,n,i){return new Promise(((s,r)=>{const o=new Vi;o.listenOnce($i.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Li.NO_ERROR:const e=o.getResponseJson();Zi("Connection","XHR received:",JSON.stringify(e)),s(e);break;case Li.TIMEOUT:Zi("Connection",'RPC "'+t+'" timed out'),r(new es(ts.DEADLINE_EXCEEDED,"Request time out"));break;case Li.HTTP_ERROR:const n=o.getStatus();if(Zi("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const t=o.getResponseJson().error;if(t&&t.status&&t.message){const e=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(ts).indexOf(e)>=0?e:ts.UNKNOWN}(t.status);r(new es(e,t.message))}else r(new es(ts.UNKNOWN,"Server responded with status "+o.getStatus()))}else r(new es(ts.UNAVAILABLE,"Connection failed."));break;default:Qi()}}finally{Zi("Connection",'RPC "'+t+'" completed.')}}));const a=JSON.stringify(i);o.send(e,"POST",a,n,15)}))}Ur(t,e,n){const i=[this.kr,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=Oi(),r=Ni(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Fi({})),this.Fr(o.initMessageHeaders,e,n),(0,c.uI)()||(0,c.b$)()||(0,c.d)()||(0,c.w1)()||(0,c.Mn)()||(0,c.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");const a=i.join("");Zi("Connection","Creating WebChannel: "+a,o);const l=s.createWebChannel(a,o);let u=!1,h=!1;const d=new $u({Ar:t=>{h?Zi("Connection","Not sending because WebChannel is closed:",t):(u||(Zi("Connection","Opening WebChannel transport."),l.open(),u=!0),Zi("Connection","WebChannel sending:",t),l.send(t))},Rr:()=>l.close()}),f=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return f(l,Ri.EventType.OPEN,(()=>{h||Zi("Connection","WebChannel transport opened.")})),f(l,Ri.EventType.CLOSE,(()=>{h||(h=!0,Zi("Connection","WebChannel transport closed"),d.Cr())})),f(l,Ri.EventType.ERROR,(t=>{h||(h=!0,Ki("Connection","WebChannel transport errored:",t),d.Cr(new es(ts.UNAVAILABLE,"The operation could not be completed")))})),f(l,Ri.EventType.MESSAGE,(t=>{var e;if(!h){const n=t.data[0];Yi(!!n);const i=n,s=i.error||(null===(e=i[0])||void 0===e?void 0:e.error);if(s){Zi("Connection","WebChannel received error:",s);const t=s.status;let e=function(t){const e=ko[t];if(void 0!==e)return Oo(e)}(t),n=s.message;void 0===e&&(e=ts.INTERNAL,n="Unknown error status: "+t+" with message "+s.message),h=!0,d.Cr(new es(e,n)),l.close()}else Zi("Connection","WebChannel received:",n),d.Nr(n)}})),f(r,Mi.STAT_EVENT,(t=>{t.stat===Pi.PROXY?Zi("Connection","Detected buffering proxy"):t.stat===Pi.NOPROXY&&Zi("Connection","Detected no buffering proxy")})),setTimeout((()=>{d.Dr()}),0),d}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(){return"undefined"!=typeof window?window:null}function Fu(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(t){return new sa(t,!0)}class Vu{constructor(t,e,n=1e3,i=1.5,s=6e4){this.Sn=t,this.timerId=e,this.qr=n,this.Kr=i,this.Gr=s,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}reset(){this.jr=0}zr(){this.jr=this.Gr}Hr(t){this.cancel();const e=Math.floor(this.jr+this.Jr()),n=Math.max(0,Date.now()-this.Wr),i=Math.max(0,e-n);i>0&&Zi("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.jr} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,i,(()=>(this.Wr=Date.now(),t()))),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}Yr(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}cancel(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}Jr(){return(Math.random()-.5)*this.jr}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(t,e,n,i,s,r,o,a){this.Sn=t,this.Xr=n,this.Zr=i,this.eo=s,this.authCredentialsProvider=r,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new Vu(t,e)}oo(){return 1===this.state||5===this.state||this.co()}co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.uo()}async stop(){this.oo()&&await this.close(0)}ao(){this.state=0,this.ro.reset()}ho(){this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,(()=>this.lo())))}fo(t){this._o(),this.stream.send(t)}async lo(){if(this.co())return this.close(0)}_o(){this.so&&(this.so.cancel(),this.so=null)}wo(){this.io&&(this.io.cancel(),this.io=null)}async close(t,e){this._o(),this.wo(),this.ro.cancel(),this.no++,4!==t?this.ro.reset():e&&e.code===ts.RESOURCE_EXHAUSTED?(Wi(e.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.ro.zr()):e&&e.code===ts.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.mo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.vr(e)}mo(){}auth(){this.state=1;const t=this.yo(this.no),e=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([t,n])=>{this.no===e&&this.po(t,n)}),(e=>{t((()=>{const t=new es(ts.UNKNOWN,"Fetching auth token failed: "+e.message);return this.Io(t)}))}))}po(t,e){const n=this.yo(this.no);this.stream=this.Eo(t,e),this.stream.Pr((()=>{n((()=>(this.state=2,this.io=this.Sn.enqueueAfterDelay(this.Zr,1e4,(()=>(this.co()&&(this.state=3),Promise.resolve()))),this.listener.Pr())))})),this.stream.vr((t=>{n((()=>this.Io(t)))})),this.stream.onMessage((t=>{n((()=>this.onMessage(t)))}))}uo(){this.state=5,this.ro.Hr((async()=>{this.state=0,this.start()}))}Io(t){return Zi("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}yo(t){return e=>{this.Sn.enqueueAndForget((()=>this.no===t?e():(Zi("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ju extends Bu{constructor(t,e,n,i,s,r){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,i,r),this.O=s}Eo(t,e){return this.eo.Ur("Listen",t,e)}onMessage(t){this.ro.reset();const e=wa(this.O,t),n=function(t){if(!("targetChange"in t))return ys.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?ys.min():e.readTime?ca(e.readTime):ys.min()}(t);return this.listener.To(e,n)}Ao(t){const e={};e.database=ma(this.O),e.addTarget=function(t,e){let n;const i=e.target;return n=mr(i)?{documents:xa(t,i)}:{query:Ca(t,i)},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=oa(t,e.resumeToken):e.snapshotVersion.compareTo(ys.min())>0&&(n.readTime=ra(t,e.snapshotVersion.toTimestamp())),n}(this.O,t);const n=Ta(this.O,t);n&&(e.labels=n),this.fo(e)}Ro(t){const e={};e.database=ma(this.O),e.removeTarget=t,this.fo(e)}}class Uu extends Bu{constructor(t,e,n,i,s,r){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,i,r),this.O=s,this.Po=!1}get bo(){return this.Po}start(){this.Po=!1,this.lastStreamToken=void 0,super.start()}mo(){this.Po&&this.vo([])}Eo(t,e){return this.eo.Ur("Write",t,e)}onMessage(t){if(Yi(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Po){this.ro.reset();const e=Ia(t.writeResults,t.commitTime),n=ca(t.commitTime);return this.listener.Vo(n,e)}return Yi(!t.writeResults||0===t.writeResults.length),this.Po=!0,this.listener.So()}Do(){const t={};t.database=ma(this.O),this.fo(t)}vo(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>_a(this.O,t)))};this.fo(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends class{}{constructor(t,e,n,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.eo=n,this.O=i,this.Co=!1}No(){if(this.Co)throw new es(ts.FAILED_PRECONDITION,"The client has already been terminated.")}Mr(t,e,n){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.eo.Mr(t,e,n,i,s))).catch((t=>{throw"FirebaseError"===t.name?(t.code===ts.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new es(ts.UNKNOWN,t.toString())}))}Lr(t,e,n){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.eo.Lr(t,e,n,i,s))).catch((t=>{throw"FirebaseError"===t.name?(t.code===ts.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new es(ts.UNKNOWN,t.toString())}))}terminate(){this.Co=!0}}class zu{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}Mo(){0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.ko=null,this.Fo("Backend didn't respond within 10 seconds."),this.$o("Offline"),Promise.resolve()))))}Bo(t){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.$o("Offline")))}set(t){this.Lo(),this.xo=0,"Online"===t&&(this.Oo=!1),this.$o(t)}$o(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}Fo(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Oo?(Wi(e),this.Oo=!1):Zi("OnlineStateTracker",e)}Lo(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(t,e,n,i,s){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=s,this.jo.mr((t=>{n.enqueueAndForget((async()=>{th(this)&&(Zi("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=Ji(t);e.Ko.add(4),await Wu(e),e.Qo.set("Unknown"),e.Ko.delete(4),await Zu(e)}(this))}))})),this.Qo=new zu(n,i)}}async function Zu(t){if(th(t))for(const e of t.Go)await e(!0)}async function Wu(t){for(const e of t.Go)await e(!1)}function Ku(t,e){const n=Ji(t);n.qo.has(e.targetId)||(n.qo.set(e.targetId,e),Ju(n)?Xu(n):yh(n).co()&&Qu(n,e))}function Gu(t,e){const n=Ji(t),i=yh(n);n.qo.delete(e),i.co()&&Yu(n,e),0===n.qo.size&&(i.co()?i.ho():th(n)&&n.Qo.set("Unknown"))}function Qu(t,e){t.Wo.Z(e.targetId),yh(t).Ao(e)}function Yu(t,e){t.Wo.Z(e),yh(t).Ro(e)}function Xu(t){t.Wo=new Jo({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>t.qo.get(e)||null}),yh(t).start(),t.Qo.Mo()}function Ju(t){return th(t)&&!yh(t).oo()&&t.qo.size>0}function th(t){return 0===Ji(t).Ko.size}function eh(t){t.Wo=void 0}async function nh(t){t.qo.forEach(((e,n)=>{Qu(t,e)}))}async function ih(t,e){eh(t),Ju(t)?(t.Qo.Bo(e),Xu(t)):t.Qo.set("Unknown")}async function sh(t,e,n){if(t.Qo.set("Online"),e instanceof Yo&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const i of e.targetIds)t.qo.has(i)&&(await t.remoteSyncer.rejectListen(i,n),t.qo.delete(i),t.Wo.removeTarget(i))}(t,e)}catch(n){Zi("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await rh(t,n)}else if(e instanceof Go?t.Wo.ct(e):e instanceof Qo?t.Wo._t(e):t.Wo.ht(e),!n.isEqual(ys.min()))try{const e=await Xl(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.Wo.yt(e);return n.targetChanges.forEach(((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const s=t.qo.get(i);s&&t.qo.set(i,s.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((e=>{const n=t.qo.get(e);if(!n)return;t.qo.set(e,n.withResumeToken(ks.EMPTY_BYTE_STRING,n.snapshotVersion)),Yu(t,e);const i=new Tc(n.target,e,1,n.sequenceNumber);Qu(t,i)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){Zi("RemoteStore","Failed to raise snapshot:",e),await rh(t,e)}}async function rh(t,e,n){if(!vc(e))throw e;t.Ko.add(1),await Wu(t),t.Qo.set("Offline"),n||(n=()=>Xl(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Zi("RemoteStore","Retrying IndexedDB access"),await n(),t.Ko.delete(1),await Zu(t)}))}function oh(t,e){return e().catch((n=>rh(t,n,e)))}async function ah(t){const e=Ji(t),n=bh(e);let i=e.Uo.length>0?e.Uo[e.Uo.length-1].batchId:-1;for(;ch(e);)try{const t=await eu(e.localStore,i);if(null===t){0===e.Uo.length&&n.ho();break}i=t.batchId,lh(e,t)}catch(t){await rh(e,t)}uh(e)&&hh(e)}function ch(t){return th(t)&&t.Uo.length<10}function lh(t,e){t.Uo.push(e);const n=bh(t);n.co()&&n.bo&&n.vo(e.mutations)}function uh(t){return th(t)&&!bh(t).oo()&&t.Uo.length>0}function hh(t){bh(t).start()}async function dh(t){bh(t).Do()}async function fh(t){const e=bh(t);for(const n of t.Uo)e.vo(n.mutations)}async function ph(t,e,n){const i=t.Uo.shift(),s=Cc.from(i,e,n);await oh(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await ah(t)}async function mh(t,e){e&&bh(t).bo&&await async function(t,e){if(n=e.code,Do(n)&&n!==ts.ABORTED){const n=t.Uo.shift();bh(t).ao(),await oh(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await ah(t)}var n}(t,e),uh(t)&&hh(t)}async function gh(t,e){const n=Ji(t);n.asyncQueue.verifyOperationInProgress(),Zi("RemoteStore","RemoteStore received new credentials");const i=th(n);n.Ko.add(3),await Wu(n),i&&n.Qo.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ko.delete(3),await Zu(n)}async function vh(t,e){const n=Ji(t);e?(n.Ko.delete(2),await Zu(n)):e||(n.Ko.add(2),await Wu(n),n.Qo.set("Unknown"))}function yh(t){return t.zo||(t.zo=function(t,e,n){const i=Ji(t);return i.No(),new ju(e,i.eo,i.authCredentials,i.appCheckCredentials,i.O,n)
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(t.datastore,t.asyncQueue,{Pr:nh.bind(null,t),vr:ih.bind(null,t),To:sh.bind(null,t)}),t.Go.push((async e=>{e?(t.zo.ao(),Ju(t)?Xu(t):t.Qo.set("Unknown")):(await t.zo.stop(),eh(t))}))),t.zo}function bh(t){return t.Ho||(t.Ho=function(t,e,n){const i=Ji(t);return i.No(),new Uu(e,i.eo,i.authCredentials,i.appCheckCredentials,i.O,n)}(t.datastore,t.asyncQueue,{Pr:dh.bind(null,t),vr:mh.bind(null,t),So:fh.bind(null,t),Vo:ph.bind(null,t)}),t.Go.push((async e=>{e?(t.Ho.ao(),await ah(t)):(await t.Ho.stop(),t.Uo.length>0&&(Zi("RemoteStore",`Stopping write stream with ${t.Uo.length} pending writes`),t.Uo=[]))}))),t.Ho
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class wh{constructor(t,e,n,i,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}static createAndSchedule(t,e,n,i,s){const r=Date.now()+n,o=new wh(t,e,r,i,s);return o.start(n),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new es(ts.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _h(t,e){if(Wi("AsyncQueue",`${e}: ${t}`),vc(t))return new es(ts.UNAVAILABLE,`${e}: ${t}`);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(t){this.comparator=t?(e,n)=>t(e,n)||js.comparator(e.key,n.key):(t,e)=>js.comparator(t.key,e.key),this.keyedMap=jo(),this.sortedSet=new No(this.comparator)}static emptySet(t){return new Sh(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Sh))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(!t.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new Sh;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(){this.Jo=new No(js.comparator)}track(t){const e=t.doc.key,n=this.Jo.get(e);n?0!==t.type&&3===n.type?this.Jo=this.Jo.insert(e,t):3===t.type&&1!==n.type?this.Jo=this.Jo.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Jo=this.Jo.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Jo=this.Jo.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Jo=this.Jo.remove(e):1===t.type&&2===n.type?this.Jo=this.Jo.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Jo=this.Jo.insert(e,{type:2,doc:t.doc}):Qi():this.Jo=this.Jo.insert(e,t)}Yo(){const t=[];return this.Jo.inorderTraversal(((e,n)=>{t.push(n)})),t}}class xh{constructor(t,e,n,i,s,r,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=r,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(t,e,n,i){const s=[];return e.forEach((t=>{s.push({type:0,doc:t})})),new xh(t,e,Sh.emptySet(e),s,n,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&jr(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(){this.Xo=void 0,this.listeners=[]}}class Eh{constructor(){this.queries=new Dl((t=>Ur(t)),jr),this.onlineState="Unknown",this.Zo=new Set}}async function Th(t,e){const n=Ji(t),i=e.query;let s=!1,r=n.queries.get(i);if(r||(s=!0,r=new Ch),s)try{r.Xo=await n.onListen(i)}catch(t){const n=_h(t,`Initialization of query '${qr(e.query)}' failed`);return void e.onError(n)}n.queries.set(i,r),r.listeners.push(e),e.tc(n.onlineState),r.Xo&&e.ec(r.Xo)&&Oh(n)}async function kh(t,e){const n=Ji(t),i=e.query;let s=!1;const r=n.queries.get(i);if(r){const t=r.listeners.indexOf(e);t>=0&&(r.listeners.splice(t,1),s=0===r.listeners.length)}if(s)return n.queries.delete(i),n.onUnlisten(i)}function Ah(t,e){const n=Ji(t);let i=!1;for(const s of e){const t=s.query,e=n.queries.get(t);if(e){for(const t of e.listeners)t.ec(s)&&(i=!0);e.Xo=s}}i&&Oh(n)}function Dh(t,e,n){const i=Ji(t),s=i.queries.get(e);if(s)for(const r of s.listeners)r.onError(n);i.queries.delete(e)}function Oh(t){t.Zo.forEach((t=>{t.next()}))}class Nh{constructor(t,e,n){this.query=t,this.nc=e,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=n||{}}ec(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new xh(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.sc?this.rc(t)&&(this.nc.next(t),e=!0):this.oc(t,this.onlineState)&&(this.cc(t),e=!0),this.ic=t,e}onError(t){this.nc.error(t)}tc(t){this.onlineState=t;let e=!1;return this.ic&&!this.sc&&this.oc(this.ic,t)&&(this.cc(this.ic),e=!0),e}oc(t,e){if(!t.fromCache)return!0;const n="Offline"!==e;return(!this.options.uc||!n)&&(!t.docs.isEmpty()||"Offline"===e)}rc(t){if(t.docChanges.length>0)return!0;const e=this.ic&&this.ic.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}cc(t){t=xh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.sc=!0,this.nc.next(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,e){this.payload=t,this.byteLength=e}ac(){return"metadata"in this.payload}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(t){this.O=t}Gs(t){return da(this.O,t)}js(t){return t.metadata.exists?ya(this.O,t.document,!1):rr.newNoDocument(this.Gs(t.metadata.name),this.Qs(t.metadata.readTime))}Qs(t){return ca(t)}}class Mh{constructor(t,e,n){this.hc=t,this.localStore=e,this.O=n,this.queries=[],this.documents=[],this.progress=Ph(t)}lc(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}fc(t){const e=new Map,n=new $h(this.O);for(const i of t)if(i.metadata.queries){const t=n.Gs(i.metadata.name);for(const n of i.metadata.queries){const i=(e.get(n)||zo()).add(t);e.set(n,i)}}return e}async complete(){const t=await cu(this.localStore,new $h(this.O),this.documents,this.hc.id),e=this.fc(this.documents);for(const n of this.queries)await lu(this.localStore,n,e.get(n.name));return this.progress.taskState="Success",new zl(Object.assign({},this.progress),t)}}function Ph(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(t){this.key=t}}class Rh{constructor(t){this.key=t}}class Vh{constructor(t,e){this.query=t,this.dc=e,this._c=null,this.current=!1,this.wc=zo(),this.mutatedKeys=zo(),this.mc=Hr(t),this.gc=new Sh(this.mc)}get yc(){return this.dc}Ic(t,e){const n=e?e.Ec:new Ih,i=e?e.gc:this.gc;let s=e?e.mutatedKeys:this.mutatedKeys,r=i,o=!1;const a=Lr(this.query)&&i.size===this.query.limit?i.last():null,c=$r(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(((t,e)=>{const l=i.get(t),u=zr(this.query,e)?e:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Tc(l,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.mc(u,a)>0||c&&this.mc(u,c)<0)&&(o=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(a||c)&&(o=!0)),f&&(u?(r=r.add(u),s=d?s.add(t):s.delete(t)):(r=r.delete(t),s=s.delete(t)))})),Lr(this.query)||$r(this.query))for(;r.size>this.query.limit;){const t=Lr(this.query)?r.last():r.first();r=r.delete(t.key),s=s.delete(t.key),n.track({type:1,doc:t})}return{gc:r,Ec:n,ks:o,mutatedKeys:s}}Tc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const i=this.gc;this.gc=t.gc,this.mutatedKeys=t.mutatedKeys;const s=t.Ec.Yo();s.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qi()}};return n(t)-n(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t.type,e.type)||this.mc(t.doc,e.doc))),this.Ac(n);const r=e?this.Rc():[],o=0===this.wc.size&&this.current?1:0,a=o!==this._c;return this._c=o,0!==s.length||a?{snapshot:new xh(this.query,t.gc,i,s,t.mutatedKeys,0===o,a,!1),Pc:r}:{Pc:r}}tc(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new Ih,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}bc(t){return!this.dc.has(t)&&!!this.gc.has(t)&&!this.gc.get(t).hasLocalMutations}Ac(t){t&&(t.addedDocuments.forEach((t=>this.dc=this.dc.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.dc=this.dc.delete(t))),this.current=t.current)}Rc(){if(!this.current)return[];const t=this.wc;this.wc=zo(),this.gc.forEach((t=>{this.bc(t.key)&&(this.wc=this.wc.add(t.key))}));const e=[];return t.forEach((t=>{this.wc.has(t)||e.push(new Rh(t))})),this.wc.forEach((n=>{t.has(n)||e.push(new Fh(n))})),e}vc(t){this.dc=t.Ks,this.wc=zo();const e=this.Ic(t.documents);return this.applyChanges(e,!0)}Vc(){return xh.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}class Bh{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class jh{constructor(t){this.key=t,this.Sc=!1}}class Uh{constructor(t,e,n,i,s,r){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=r,this.Dc={},this.Cc=new Dl((t=>Ur(t)),jr),this.Nc=new Map,this.xc=new Set,this.kc=new No(js.comparator),this.Oc=new Map,this.Mc=new du,this.$c={},this.Fc=new Map,this.Bc=yl.Je(),this.onlineState="Unknown",this.Lc=void 0}get isPrimaryClient(){return!0===this.Lc}}async function qh(t,e){const n=yd(t);let i,s;const r=n.Cc.get(e);if(r)i=r.targetId,n.sharedClientState.addLocalQueryTarget(i),s=r.view.Vc();else{const t=await nu(n.localStore,Vr(e));n.isPrimaryClient&&Ku(n.remoteStore,t);const r=n.sharedClientState.addLocalQueryTarget(t.targetId);i=t.targetId,s=await zh(n,e,i,"current"===r)}return s}async function zh(t,e,n,i){t.Uc=(e,n,i)=>async function(t,e,n,i){let s=e.view.Ic(n);s.ks&&(s=await su(t.localStore,e.query,!1).then((({documents:t})=>e.view.Ic(t,s))));const r=i&&i.targetChanges.get(e.targetId),o=e.view.applyChanges(s,t.isPrimaryClient,r);return id(t,e.targetId,o.Pc),o.snapshot}(t,e,n,i);const s=await su(t.localStore,e,!0),r=new Vh(e,s.Ks),o=r.Ic(s.documents),a=Ko.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState),c=r.applyChanges(o,t.isPrimaryClient,a);id(t,n,c.Pc);const l=new Bh(e,n,r);return t.Cc.set(e,l),t.Nc.has(n)?t.Nc.get(n).push(e):t.Nc.set(n,[e]),c.snapshot}async function Hh(t,e){const n=Ji(t),i=n.Cc.get(e),s=n.Nc.get(i.targetId);if(s.length>1)return n.Nc.set(i.targetId,s.filter((t=>!jr(t,e)))),void n.Cc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await iu(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),Gu(n.remoteStore,i.targetId),ed(n,i.targetId)})).catch(Il)):(ed(n,i.targetId),await iu(n.localStore,i.targetId,!0))}async function Zh(t,e,n){const i=bd(t);try{const t=await function(t,e){const n=Ji(t),i=vs.now(),s=e.reduce(((t,e)=>t.add(e.key)),zo());let r;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>n.Us.Es(t,s).next((s=>{r=s;const o=[];for(const t of e){const e=vo(t,r.get(t.key));null!=e&&o.push(new _o(t.key,e,sr(e.value.mapValue),ho.exists(!0)))}return n.gs.addMutationBatch(t,i,o,e)})))).then((t=>(t.applyToLocalDocumentSet(r),{batchId:t.batchId,changes:r})))}(i.localStore,e);i.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let i=t.$c[t.currentUser.toKey()];i||(i=new No(ps)),i=i.insert(e,n),t.$c[t.currentUser.toKey()]=i}(i,t.batchId,n),await od(i,t.changes),await ah(i.remoteStore)}catch(t){const e=_h(t,"Failed to persist write");n.reject(e)}}async function Wh(t,e){const n=Ji(t);try{const t=await Jl(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const i=n.Oc.get(e);i&&(Yi(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?i.Sc=!0:t.modifiedDocuments.size>0?Yi(i.Sc):t.removedDocuments.size>0&&(Yi(i.Sc),i.Sc=!1))})),await od(n,t,e)}catch(t){await Il(t)}}function Kh(t,e,n){const i=Ji(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const t=[];i.Cc.forEach(((n,i)=>{const s=i.view.tc(e);s.snapshot&&t.push(s.snapshot)})),function(t,e){const n=Ji(t);n.onlineState=e;let i=!1;n.queries.forEach(((t,n)=>{for(const s of n.listeners)s.tc(e)&&(i=!0)})),i&&Oh(n)}(i.eventManager,e),t.length&&i.Dc.To(t),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Gh(t,e,n){const i=Ji(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Oc.get(e),r=s&&s.key;if(r){let t=new No(js.comparator);t=t.insert(r,rr.newNoDocument(r,ys.min()));const n=zo().add(r),s=new Wo(ys.min(),new Map,new Mo(ps),t,n);await Wh(i,s),i.kc=i.kc.remove(r),i.Oc.delete(e),rd(i)}else await iu(i.localStore,e,!1).then((()=>ed(i,e,n))).catch(Il)}async function Qh(t,e){const n=Ji(t),i=e.batch.batchId;try{const t=await Yl(n.localStore,e);td(n,i,null),Jh(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await od(n,t)}catch(t){await Il(t)}}async function Yh(t,e,n){const i=Ji(t);try{const t=await function(t,e){const n=Ji(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let i;return n.gs.lookupMutationBatch(t,e).next((e=>(Yi(null!==e),i=e.keys(),n.gs.removeMutationBatch(t,e)))).next((()=>n.gs.performConsistencyCheck(t))).next((()=>n.Us.Es(t,i)))}))}(i.localStore,e);td(i,e,n),Jh(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await od(i,t)}catch(n){await Il(n)}}async function Xh(t,e){const n=Ji(t);th(n.remoteStore)||Zi("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const t=await function(t){const e=Ji(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(t=>e.gs.getHighestUnacknowledgedBatchId(t)))}(n.localStore);if(-1===t)return void e.resolve();const i=n.Fc.get(t)||[];i.push(e),n.Fc.set(t,i)}catch(t){const n=_h(t,"Initialization of waitForPendingWrites() operation failed");e.reject(n)}}function Jh(t,e){(t.Fc.get(e)||[]).forEach((t=>{t.resolve()})),t.Fc.delete(e)}function td(t,e,n){const i=Ji(t);let s=i.$c[i.currentUser.toKey()];if(s){const t=s.get(e);t&&(n?t.reject(n):t.resolve(),s=s.remove(e)),i.$c[i.currentUser.toKey()]=s}}function ed(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Nc.get(e))t.Cc.delete(i),n&&t.Dc.qc(i,n);t.Nc.delete(e),t.isPrimaryClient&&t.Mc.si(e).forEach((e=>{t.Mc.containsKey(e)||nd(t,e)}))}function nd(t,e){t.xc.delete(e.path.canonicalString());const n=t.kc.get(e);null!==n&&(Gu(t.remoteStore,n),t.kc=t.kc.remove(e),t.Oc.delete(n),rd(t))}function id(t,e,n){for(const i of n)i instanceof Fh?(t.Mc.addReference(i.key,e),sd(t,i)):i instanceof Rh?(Zi("SyncEngine","Document no longer in limbo: "+i.key),t.Mc.removeReference(i.key,e),t.Mc.containsKey(i.key)||nd(t,i.key)):Qi()}function sd(t,e){const n=e.key,i=n.path.canonicalString();t.kc.get(n)||t.xc.has(i)||(Zi("SyncEngine","New document in limbo: "+n),t.xc.add(i),rd(t))}function rd(t){for(;t.xc.size>0&&t.kc.size<t.maxConcurrentLimboResolutions;){const e=t.xc.values().next().value;t.xc.delete(e);const n=new js(Is.fromString(e)),i=t.Bc.next();t.Oc.set(i,new jh(n)),t.kc=t.kc.insert(n,i),Ku(t.remoteStore,new Tc(Vr(Nr(n.path)),i,2,hs.A))}}async function od(t,e,n){const i=Ji(t),s=[],r=[],o=[];i.Cc.isEmpty()||(i.Cc.forEach(((t,a)=>{o.push(i.Uc(a,e,n).then((t=>{if(t){i.isPrimaryClient&&i.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),s.push(t);const e=Zl.Ss(a.targetId,t);r.push(e)}})))})),await Promise.all(o),i.Dc.To(s),await async function(t,e){const n=Ji(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>dc.forEach(e,(e=>dc.forEach(e.vs,(i=>n.persistence.referenceDelegate.addReference(t,e.targetId,i))).next((()=>dc.forEach(e.Vs,(i=>n.persistence.referenceDelegate.removeReference(t,e.targetId,i)))))))))}catch(t){if(!vc(t))throw t;Zi("LocalStore","Failed to update sequence numbers: "+t)}for(const i of e){const t=i.targetId;if(!i.fromCache){const e=n.Ms.get(t),i=e.snapshotVersion,s=e.withLastLimboFreeSnapshotVersion(i);n.Ms=n.Ms.insert(t,s)}}}(i.localStore,r))}async function ad(t,e){const n=Ji(t);if(!n.currentUser.isEqual(e)){Zi("SyncEngine","User change. New user:",e.toKey());const t=await Ql(n.localStore,e);n.currentUser=e,function(t,e){t.Fc.forEach((t=>{t.forEach((t=>{t.reject(new es(ts.CANCELLED,e))}))})),t.Fc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await od(n,t.qs)}}function cd(t,e){const n=Ji(t),i=n.Oc.get(e);if(i&&i.Sc)return zo().add(i.key);{let t=zo();const i=n.Nc.get(e);if(!i)return t;for(const e of i){const i=n.Cc.get(e);t=t.unionWith(i.view.yc)}return t}}async function ld(t,e){const n=Ji(t),i=await su(n.localStore,e.query,!0),s=e.view.vc(i);return n.isPrimaryClient&&id(n,e.targetId,s.Pc),s}async function ud(t){const e=Ji(t);return ou(e.localStore).then((t=>od(e,t)))}async function hd(t,e,n,i){const s=Ji(t),r=await function(t,e){const n=Ji(t),i=Ji(n.gs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(t=>i.Ge(t,e).next((e=>e?n.Us.Es(t,e):dc.resolve(null)))))}(s.localStore,e);null!==r?("pending"===n?await ah(s.remoteStore):"acknowledged"===n||"rejected"===n?(td(s,e,i||null),Jh(s,e),function(t,e){Ji(Ji(t).gs).Qe(e)}(s.localStore,e)):Qi(),await od(s,r)):Zi("SyncEngine","Cannot apply mutation batch with id: "+e)}async function dd(t,e){const n=Ji(t);if(yd(n),bd(n),!0===e&&!0!==n.Lc){const t=n.sharedClientState.getAllActiveQueryTargets(),e=await fd(n,t.toArray());n.Lc=!0,await vh(n.remoteStore,!0);for(const i of e)Ku(n.remoteStore,i)}else if(!1===e&&!1!==n.Lc){const t=[];let e=Promise.resolve();n.Nc.forEach(((i,s)=>{n.sharedClientState.isLocalQueryTarget(s)?t.push(s):e=e.then((()=>(ed(n,s),iu(n.localStore,s,!0)))),Gu(n.remoteStore,s)})),await e,await fd(n,t),function(t){const e=Ji(t);e.Oc.forEach(((t,n)=>{Gu(e.remoteStore,n)})),e.Mc.ii(),e.Oc=new Map,e.kc=new No(js.comparator)}(n),n.Lc=!1,await vh(n.remoteStore,!1)}}async function fd(t,e,n){const i=Ji(t),s=[],r=[];for(const o of e){let t;const e=i.Nc.get(o);if(e&&0!==e.length){t=await nu(i.localStore,Vr(e[0]));for(const t of e){const e=i.Cc.get(t),n=await ld(i,e);n.snapshot&&r.push(n.snapshot)}}else{const e=await ru(i.localStore,o);t=await nu(i.localStore,e),await zh(i,pd(e),o,!1)}s.push(t)}return i.Dc.To(r),s}function pd(t){return Or(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function md(t){const e=Ji(t);return Ji(Ji(e.localStore).persistence).ds()}async function gd(t,e,n,i){const s=Ji(t);if(s.Lc)Zi("SyncEngine","Ignoring unexpected query state notification.");else if(s.Nc.has(e))switch(n){case"current":case"not-current":{const t=await ou(s.localStore),i=Wo.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);await od(s,t,i);break}case"rejected":await iu(s.localStore,e,!0),ed(s,e,i);break;default:Qi()}}async function vd(t,e,n){const i=yd(t);if(i.Lc){for(const t of e){if(i.Nc.has(t)){Zi("SyncEngine","Adding an already active target "+t);continue}const e=await ru(i.localStore,t),n=await nu(i.localStore,e);await zh(i,pd(e),n.targetId,!1),Ku(i.remoteStore,n)}for(const t of n)i.Nc.has(t)&&await iu(i.localStore,t,!1).then((()=>{Gu(i.remoteStore,t),ed(i,t)})).catch(Il)}}function yd(t){const e=Ji(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cd.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Gh.bind(null,e),e.Dc.To=Ah.bind(null,e.eventManager),e.Dc.qc=Dh.bind(null,e.eventManager),e}function bd(t){const e=Ji(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Yh.bind(null,e),e}function wd(t,e,n){const i=Ji(t);(async function(t,e,n){try{const i=await e.getMetadata();if(await function(t,e){const n=Ji(t),i=ca(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(t=>n.Kn.getBundleMetadata(t,e.id))).then((t=>!!t&&t.createTime.compareTo(i)>=0))}(t.localStore,i))return await e.close(),void n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(i));n._updateProgress(Ph(i));const s=new Mh(i,t.localStore,e.O);let r=await e.Kc();for(;r;){const t=await s.lc(r);t&&n._updateProgress(t),r=await e.Kc()}const o=await s.complete();await od(t,o.ws,void 0),await function(t,e){const n=Ji(t);return n.persistence.runTransaction("Save bundle","readwrite",(t=>n.Kn.saveBundleMetadata(t,e)))}(t.localStore,i),n._completeWith(o.progress)}catch(t){Ki("SyncEngine",`Loading bundle failed with ${t}`),n._failWith(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)(i,e,n).then((()=>{i.sharedClientState.notifyBundleLoaded()}))}class _d{constructor(){this.synchronizeTabs=!1}async initialize(t){this.O=Ru(t.databaseInfo.databaseId),this.sharedClientState=this.Gc(t),this.persistence=this.jc(t),await this.persistence.start(),this.gcScheduler=this.Qc(t),this.localStore=this.Wc(t)}Qc(t){return null}Wc(t){return Gl(this.persistence,new Wl,t.initialUser,this.O)}jc(t){return new yu(wu.bi,this.O)}Gc(t){return new Du}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Sd extends _d{constructor(t,e,n){super(),this.zc=t,this.cacheSizeBytes=e,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await au(this.localStore),await this.zc.initialize(this,t),await bd(this.zc.syncEngine),await ah(this.zc.remoteStore),await this.persistence.Hn((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve())))}Wc(t){return Gl(this.persistence,new Wl,t.initialUser,this.O)}Qc(t){const e=this.persistence.referenceDelegate.garbageCollector;return new El(e,t.asyncQueue)}jc(t){const e=ql(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ul.withCacheSize(this.cacheSizeBytes):ul.DEFAULT;return new Bl(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Pu(),Fu(),this.O,this.sharedClientState,!!this.forceOwnership)}Gc(t){return new Du}}class Id extends Sd{constructor(t,e){super(t,e,!1),this.zc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}async initialize(t){await super.initialize(t);const e=this.zc.syncEngine;this.sharedClientState instanceof Au&&(this.sharedClientState.syncEngine={hr:hd.bind(null,e),lr:gd.bind(null,e),dr:vd.bind(null,e),ds:md.bind(null,e),ar:ud.bind(null,e)},await this.sharedClientState.start()),await this.persistence.Hn((async t=>{await dd(this.zc.syncEngine,t),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop())}))}Gc(t){const e=Pu();if(!Au.Vt(e))throw new es(ts.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=ql(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Au(e,t.asyncQueue,n,t.clientId,t.initialUser)}}class xd{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>Kh(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=ad.bind(null,this.syncEngine),await vh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Eh}createDatastore(t){const e=Ru(t.databaseInfo.databaseId),n=(i=t.databaseInfo,new Mu(i));var i;return function(t,e,n,i){return new qu(t,e,n,i)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return e=this.localStore,n=this.datastore,i=t.asyncQueue,s=t=>Kh(this.syncEngine,t,0),r=Nu.Vt()?new Nu:new Ou,new Hu(e,n,i,s,r);var e,n,i,s,r}createSyncEngine(t,e){return function(t,e,n,i,s,r,o){const a=new Uh(t,e,n,i,s,r);return o&&(a.Lc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return async function(t){const e=Ji(t);Zi("RemoteStore","RemoteStore shutting down."),e.Ko.add(5),await Wu(e),e.jo.shutdown(),e.Qo.set("Unknown")}(this.remoteStore)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const i={value:t.slice(n,n+e),done:!1};return n+=e,i}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Hc(this.observer.next,t)}error(t){this.observer.error?this.Hc(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Jc(){this.muted=!0}Hc(t,e){this.muted||setTimeout((()=>{this.muted||t(e)}),0)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(t,e){this.Yc=t,this.O=e,this.metadata=new ns,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then((t=>{t&&t.ac()?this.metadata.resolve(t.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==t?void 0:t.payload)}`))}),(t=>this.metadata.reject(t)))}close(){return this.Yc.cancel()}async getMetadata(){return this.metadata.promise}async Kc(){return await this.getMetadata(),this.Zc()}async Zc(){const t=await this.tu();if(null===t)return null;const e=this.Xc.decode(t),n=Number(e);isNaN(n)&&this.eu(`length string (${e}) is not valid number`);const i=await this.nu(n);return new Lh(JSON.parse(i),t.length+n)}su(){return this.buffer.findIndex((t=>t==="{".charCodeAt(0)))}async tu(){for(;this.su()<0;)if(await this.iu())break;if(0===this.buffer.length)return null;const t=this.su();t<0&&this.eu("Reached the end of bundle when a length string is expected.");const e=this.buffer.slice(0,t);return this.buffer=this.buffer.slice(t),e}async nu(t){for(;this.buffer.length<t;)await this.iu()&&this.eu("Reached the end of bundle when more is expected.");const e=this.Xc.decode(this.buffer.slice(0,t));return this.buffer=this.buffer.slice(t),e}eu(t){throw this.Yc.cancel(),new Error(`Invalid bundle format: ${t}`)}async iu(){const t=await this.Yc.read();if(!t.done){const e=new Uint8Array(this.buffer.length+t.value.length);e.set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e}return t.done}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new es(ts.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const e=await async function(t,e){const n=Ji(t),i=ma(n.O)+"/documents",s={documents:e.map((t=>ha(n.O,t)))},r=await n.Lr("BatchGetDocuments",i,s),o=new Map;r.forEach((t=>{const e=ba(n.O,t);o.set(e.key.toString(),e)}));const a=[];return e.forEach((t=>{const e=o.get(t.toString());Yi(!!e),a.push(e)})),a}(this.datastore,t);return e.forEach((t=>this.recordVersion(t))),e}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())}delete(t){this.write(new Co(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const t=this.readVersions;this.mutations.forEach((e=>{t.delete(e.key.toString())})),t.forEach(((t,e)=>{const n=js.fromPath(e);this.mutations.push(new Eo(n,this.precondition(n)))})),await async function(t,e){const n=Ji(t),i=ma(n.O)+"/documents",s={writes:e.map((t=>_a(n.O,t)))};await n.Mr("Commit",i,s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Qi();e=ys.min()}const n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new es(ts.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?ho.updateTime(e):ho.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(ys.min()))throw new es(ts.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ho.updateTime(e)}return ho.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(t,e,n,i){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=i,this.ru=5,this.ro=new Vu(this.asyncQueue,"transaction_retry")}run(){this.ru-=1,this.ou()}ou(){this.ro.Hr((async()=>{const t=new kd(this.datastore),e=this.cu(t);e&&e.then((e=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(e)})).catch((t=>{this.uu(t)}))))})).catch((t=>{this.uu(t)}))}))}cu(t){try{const e=this.updateFunction(t);return!Rs(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}uu(t){this.ru>0&&this.au(t)?(this.ru-=1,this.asyncQueue.enqueueAndForget((()=>(this.ou(),Promise.resolve())))):this.deferred.reject(t)}au(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!Do(e)}return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(t,e,n,i){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=ji.UNAUTHENTICATED,this.clientId=fs.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async t=>{Zi("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(Zi("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new es(ts.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=_h(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function Od(t,e){t.asyncQueue.verifyOperationInProgress(),Zi("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async t=>{i.isEqual(t)||(await Ql(e.localStore,t),i=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t.offlineComponents=e}async function Nd(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Ld(t);Zi("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener((t=>gh(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,n)=>gh(e.remoteStore,n))),t.onlineComponents=e}async function Ld(t){return t.offlineComponents||(Zi("FirestoreClient","Using default OfflineComponentProvider"),await Od(t,new _d)),t.offlineComponents}async function $d(t){return t.onlineComponents||(Zi("FirestoreClient","Using default OnlineComponentProvider"),await Nd(t,new xd)),t.onlineComponents}function Md(t){return Ld(t).then((t=>t.persistence))}function Pd(t){return Ld(t).then((t=>t.localStore))}function Fd(t){return $d(t).then((t=>t.remoteStore))}function Rd(t){return $d(t).then((t=>t.syncEngine))}async function Vd(t){const e=await $d(t),n=e.eventManager;return n.onListen=qh.bind(null,e.syncEngine),n.onUnlisten=Hh.bind(null,e.syncEngine),n}function Bd(t){return t.asyncQueue.enqueue((async()=>{const e=await Md(t),n=await Fd(t);return e.setNetworkEnabled(!0),function(t){const e=Ji(t);return e.Ko.delete(0),Zu(e)}(n)}))}function jd(t){return t.asyncQueue.enqueue((async()=>{const e=await Md(t),n=await Fd(t);return e.setNetworkEnabled(!1),async function(t){const e=Ji(t);e.Ko.add(0),await Wu(e),e.Qo.set("Offline")}(n)}))}function Ud(t,e){const n=new ns;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){try{const i=await function(t,e){const n=Ji(t);return n.persistence.runTransaction("read document","readonly",(t=>n.Us.ys(t,e)))}(t,e);i.isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new es(ts.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(t){const i=_h(t,`Failed to get document '${e} from cache`);n.reject(i)}}(await Pd(t),e,n))),n.promise}function qd(t,e,n={}){const i=new ns;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,i,s){const r=new Ed({next:r=>{e.enqueueAndForget((()=>kh(t,o)));const a=r.docs.has(n);!a&&r.fromCache?s.reject(new es(ts.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&r.fromCache&&i&&"server"===i.source?s.reject(new es(ts.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(r)},error:t=>s.reject(t)}),o=new Nh(Nr(n.path),r,{includeMetadataChanges:!0,uc:!0});return Th(t,o)}(await Vd(t),t.asyncQueue,e,n,i))),i.promise}function zd(t,e){const n=new ns;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){try{const i=await su(t,e,!0),s=new Vh(e,i.Ks),r=s.Ic(i.documents),o=s.applyChanges(r,!1);n.resolve(o.snapshot)}catch(t){const i=_h(t,`Failed to execute query '${e} against cache`);n.reject(i)}}(await Pd(t),e,n))),n.promise}function Hd(t,e,n={}){const i=new ns;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,i,s){const r=new Ed({next:n=>{e.enqueueAndForget((()=>kh(t,o))),n.fromCache&&"server"===i.source?s.reject(new es(ts.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:t=>s.reject(t)}),o=new Nh(n,r,{includeMetadataChanges:!0,uc:!0});return Th(t,o)}(await Vd(t),t.asyncQueue,e,n,i))),i.promise}function Zd(t,e){const n=new Ed(e);return t.asyncQueue.enqueueAndForget((async()=>function(t,e){Ji(t).Zo.add(e),e.next()}(await Vd(t),n))),()=>{n.Jc(),t.asyncQueue.enqueueAndForget((async()=>function(t,e){Ji(t).Zo.delete(e)}(await Vd(t),n)))}}function Wd(t,e){const n=new ns;return t.asyncQueue.enqueueAndForget((async()=>{const i=await function(t){return $d(t).then((t=>t.datastore))}(t);new Ad(t.asyncQueue,i,e,n).run()})),n.promise}function Kd(t,e,n,i){const s=function(t,e){let n;return n="string"==typeof t?(new TextEncoder).encode(t):t,function(t,e){return new Td(t,e)}(function(t,e){if(t instanceof Uint8Array)return Cd(t,e);if(t instanceof ArrayBuffer)return Cd(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,Ru(e));t.asyncQueue.enqueueAndForget((async()=>{wd(await Rd(t),s,i)}))}function Gd(t,e){return t.asyncQueue.enqueue((async()=>function(t,e){const n=Ji(t);return n.persistence.runTransaction("Get named query","readonly",(t=>n.Kn.getNamedQuery(t,e)))}(await Pd(t),e)))}const Qd=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(t,e,n){if(!n)throw new es(ts.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Xd(t,e,n,i){if(!0===e&&!0===i)throw new es(ts.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Jd(t){if(!js.isDocumentKey(t))throw new es(ts.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tf(t){if(js.isDocumentKey(t))throw new es(ts.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ef(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":Qi()}function nf(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new es(ts.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ef(t);throw new es(ts.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function sf(t,e){if(e<=0)throw new es(ts.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new es(ts.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new es(ts.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Xd("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(t,e,n){this._authCredentials=e,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rf({}),this._settingsFrozen=!1,t instanceof Fs?this._databaseId=t:(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new es(ts.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fs(t.options.projectId)}(t))}get app(){if(!this._app)throw new es(ts.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new es(ts.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rf(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new ss;switch(t.type){case"gapi":const e=t.client;return Yi(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new cs(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new es(ts.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Qd.get(t);e&&(Zi("ComponentProvider","Removing Datastore"),Qd.delete(t),e.terminate())}(this),Promise.resolve()}}function af(t,e,n,i={}){var s;const r=(t=nf(t,of))._getSettings();if("firestore.googleapis.com"!==r.host&&r.host!==e&&Ki("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:`${e}:${n}`,ssl:!1})),i.mockUserToken){let e,n;if("string"==typeof i.mockUserToken)e=i.mockUserToken,n=ji.MOCK_USER;else{e=(0,c.Sg)(i.mockUserToken,null===(s=t._app)||void 0===s?void 0:s.options.projectId);const r=i.mockUserToken.sub||i.mockUserToken.user_id;if(!r)throw new es(ts.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ji(r)}t._authCredentials=new rs(new is(e,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new cf(this.firestore,t,this._key)}}class lf{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new lf(this.firestore,t,this._query)}}class uf extends lf{constructor(t,e,n){super(t,e,Nr(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new cf(this.firestore,null,new js(t))}withConverter(t){return new uf(this.firestore,t,this._path)}}function hf(t,e,...n){if(t=(0,c.m9)(t),Yd("collection","path",e),t instanceof of){const i=Is.fromString(e,...n);return tf(i),new uf(t,null,i)}{if(!(t instanceof cf||t instanceof uf))throw new es(ts.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Is.fromString(e,...n));return tf(i),new uf(t.firestore,null,i)}}function df(t,e){if(t=nf(t,of),Yd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new es(ts.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new lf(t,null,function(t){return new Dr(Is.emptyPath(),t)}(e))}function ff(t,e,...n){if(t=(0,c.m9)(t),1===arguments.length&&(e=fs.R()),Yd("doc","path",e),t instanceof of){const i=Is.fromString(e,...n);return Jd(i),new cf(t,null,new js(i))}{if(!(t instanceof cf||t instanceof uf))throw new es(ts.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Is.fromString(e,...n));return Jd(i),new cf(t.firestore,t instanceof uf?t.converter:null,new js(i))}}function pf(t,e){return t=(0,c.m9)(t),e=(0,c.m9)(e),(t instanceof cf||t instanceof uf)&&(e instanceof cf||e instanceof uf)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function mf(t,e){return t=(0,c.m9)(t),e=(0,c.m9)(e),t instanceof lf&&e instanceof lf&&t.firestore===e.firestore&&jr(t._query,e._query)&&t.converter===e.converter
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class gf{constructor(){this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new Vu(this,"async_queue_retry"),this.yu=()=>{const t=Fu();t&&Zi("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ro.Yr()};const t=Fu();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.yu)}get isShuttingDown(){return this.fu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.fu){this.fu=!0,this.mu=t||!1;const e=Fu();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.yu)}}enqueue(t){if(this.pu(),this.fu)return new Promise((()=>{}));const e=new ns;return this.Iu((()=>this.fu&&this.mu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.lu.push(t),this.Eu())))}async Eu(){if(0!==this.lu.length){try{await this.lu[0](),this.lu.shift(),this.ro.reset()}catch(I){if(!vc(I))throw I;Zi("AsyncQueue","Operation failed with retryable error: "+I)}this.lu.length>0&&this.ro.Hr((()=>this.Eu()))}}Iu(t){const e=this.hu.then((()=>(this.wu=!0,t().catch((t=>{this._u=t,this.wu=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);throw Wi("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.wu=!1,t))))));return this.hu=e,e}enqueueAfterDelay(t,e,n){this.pu(),this.gu.indexOf(t)>-1&&(e=0);const i=wh.createAndSchedule(this,t,e,n,(t=>this.Tu(t)));return this.du.push(i),i}pu(){this._u&&Qi()}verifyOperationInProgress(){}async Au(){let t;do{t=this.hu,await t}while(t!==this.hu)}Ru(t){for(const e of this.du)if(e.timerId===t)return!0;return!1}Pu(t){return this.Au().then((()=>{this.du.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.du)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Au()}))}bu(t){this.gu.push(t)}Tu(t){const e=this.du.indexOf(t);this.du.splice(e,1)}}function vf(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const i of e)if(i in n&&"function"==typeof n[i])return!0;return!1}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,["next","error","complete"])}class yf{constructor(){this._progressObserver={},this._taskCompletionResolver=new ns,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,n){this._progressObserver={next:t,error:e,complete:n}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf=-1;class wf extends of{constructor(t,e,n){super(t,e,n),this.type="firestore",this._queue=new gf,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Sf(this),this._firestoreClient.terminate()}}function _f(t){return t._firestoreClient||Sf(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Sf(t){var e;const n=t._freezeSettings(),i=function(t,e,n,i){return new Ps(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Dd(t._authCredentials,t._appCheckCredentials,t._queue,i)}function If(t,e){Nf(t=nf(t,wf));const n=_f(t),i=t._freezeSettings(),s=new xd;return Cf(n,s,new Sd(s,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function xf(t){Nf(t=nf(t,wf));const e=_f(t),n=t._freezeSettings(),i=new xd;return Cf(e,i,new Id(i,n.cacheSizeBytes))}function Cf(t,e,n){const i=new ns;return t.asyncQueue.enqueue((async()=>{try{await Od(t,n),await Nd(t,e),i.resolve()}catch(t){if(!function(t){return"FirebaseError"===t.name?t.code===ts.FAILED_PRECONDITION||t.code===ts.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||(22===t.code||20===t.code||11===t.code)}(t))throw t;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+t),i.reject(t)}})).then((()=>i.promise))}function Ef(t){if(t._initialized&&!t._terminated)throw new es(ts.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ns;return t._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(t){if(!pc.Vt())return Promise.resolve();const e=t+"main";await pc.delete(e)}(ql(t._databaseId,t._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function Tf(t){return function(t){const e=new ns;return t.asyncQueue.enqueueAndForget((async()=>Xh(await Rd(t),e))),e.promise}(_f(t=nf(t,wf)))}function kf(t){return Bd(_f(t=nf(t,wf)))}function Af(t){return jd(_f(t=nf(t,wf)))}function Df(t,e){const n=_f(t=nf(t,wf)),i=new yf;return Kd(n,t._databaseId,e,i),i}function Of(t,e){return Gd(_f(t=nf(t,wf)),e).then((e=>e?new lf(t,null,e.query):null))}function Nf(t){if(t._initialized||t._terminated)throw new es(ts.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new es(ts.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cs(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class $f{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $f(ks.fromBase64String(t))}catch(t){throw new es(ts.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new $f(ks.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(t){this._methodName=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new es(ts.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new es(ts.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ps(this._lat,t._lat)||ps(this._long,t._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff=/^__.*__$/;class Rf{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new _o(t,this.data,this.fieldMask,e,this.fieldTransforms):new wo(t,this.data,e,this.fieldTransforms)}}class Vf{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new _o(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Bf(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qi()}}class jf{constructor(t,e,n,i,s,r){this.settings=t,this.databaseId=e,this.O=n,this.ignoreUndefinedProperties=i,void 0===s&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=r||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}Su(t){return new jf(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Du(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Su({path:n,Cu:!1});return i.Nu(t),i}xu(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Su({path:n,Cu:!1});return i.vu(),i}ku(t){return this.Su({path:void 0,Cu:!0})}Ou(t){return ap(t,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Nu(this.path.get(t))}Nu(t){if(0===t.length)throw this.Ou("Document fields must not be empty");if(Bf(this.Vu)&&Ff.test(t))throw this.Ou('Document fields cannot begin and end with "__"')}}class Uf{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.O=n||Ru(t)}Fu(t,e,n,i=!1){return new jf({Vu:t,methodName:e,$u:n,path:Cs.emptyPath(),Cu:!1,Mu:i},this.databaseId,this.O,this.ignoreUndefinedProperties)}}function qf(t){const e=t._freezeSettings(),n=Ru(t._databaseId);return new Uf(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zf(t,e,n,i,s,r={}){const o=t.Fu(r.merge||r.mergeFields?2:0,e,n,s);ip("Data must be an object, but it was:",o,i);const a=ep(i,o);let c,l;if(r.merge)c=new Es(o.fieldMask),l=o.fieldTransforms;else if(r.mergeFields){const t=[];for(const i of r.mergeFields){const s=sp(e,i,n);if(!o.contains(s))throw new es(ts.INVALID_ARGUMENT,`Field '${s}' is specified in your field mask but missing from your input data.`);cp(t,s)||t.push(s)}c=new Es(t),l=o.fieldTransforms.filter((t=>c.covers(t.field)))}else c=null,l=o.fieldTransforms;return new Rf(new ir(a),c,l)}class Hf extends Mf{_toFieldTransform(t){if(2!==t.Vu)throw 1===t.Vu?t.Ou(`${this._methodName}() can only appear at the top level of your update data`):t.Ou(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Hf}}function Zf(t,e,n){return new jf({Vu:3,$u:e.settings.$u,methodName:t._methodName,Cu:n},e.databaseId,e.O,e.ignoreUndefinedProperties)}class Wf extends Mf{_toFieldTransform(t){return new co(t.path,new to)}isEqual(t){return t instanceof Wf}}class Kf extends Mf{constructor(t,e){super(t),this.Bu=e}_toFieldTransform(t){const e=Zf(this,t,!0),n=this.Bu.map((t=>tp(t,e))),i=new eo(n);return new co(t.path,i)}isEqual(t){return this===t}}class Gf extends Mf{constructor(t,e){super(t),this.Bu=e}_toFieldTransform(t){const e=Zf(this,t,!0),n=this.Bu.map((t=>tp(t,e))),i=new io(n);return new co(t.path,i)}isEqual(t){return this===t}}class Qf extends Mf{constructor(t,e){super(t),this.Lu=e}_toFieldTransform(t){const e=new ro(t.O,Gr(t.O,this.Lu));return new co(t.path,e)}isEqual(t){return this===t}}function Yf(t,e,n,i){const s=t.Fu(1,e,n);ip("Data must be an object, but it was:",s,i);const r=[],o=ir.empty();ws(i,((t,i)=>{const a=op(e,t,n);i=(0,c.m9)(i);const l=s.xu(a);if(i instanceof Hf)r.push(a);else{const t=tp(i,l);null!=t&&(r.push(a),o.set(a,t))}}));const a=new Es(r);return new Vf(o,a,s.fieldTransforms)}function Xf(t,e,n,i,s,r){const o=t.Fu(1,e,n),a=[sp(e,i,n)],l=[s];if(r.length%2!=0)throw new es(ts.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let c=0;c<r.length;c+=2)a.push(sp(e,r[c])),l.push(r[c+1]);const u=[],h=ir.empty();for(let f=a.length-1;f>=0;--f)if(!cp(u,a[f])){const t=a[f];let e=l[f];e=(0,c.m9)(e);const n=o.xu(t);if(e instanceof Hf)u.push(t);else{const i=tp(e,n);null!=i&&(u.push(t),h.set(t,i))}}const d=new Es(u);return new Vf(h,d,o.fieldTransforms)}function Jf(t,e,n,i=!1){return tp(n,t.Fu(i?4:3,e))}function tp(t,e){if(np(t=(0,c.m9)(t)))return ip("Unsupported field value:",e,t),ep(t,e);if(t instanceof Mf)return function(t,e){if(!Bf(e.Vu))throw e.Ou(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.Ou(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Cu&&4!==e.Vu)throw e.Ou("Nested arrays are not supported");return function(t,e){const n=[];let i=0;for(const s of t){let t=tp(s,e.ku(i));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,c.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Gr(e.O,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=vs.fromDate(t);return{timestampValue:ra(e.O,n)}}if(t instanceof vs){const n=new vs(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ra(e.O,n)}}if(t instanceof Pf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof $f)return{bytesValue:oa(e.O,t._byteString)};if(t instanceof cf){const n=e.databaseId,i=t.firestore._databaseId;if(!i.isEqual(n))throw e.Ou(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:la(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Ou(`Unsupported field value: ${ef(t)}`)}(t,e)}function ep(t,e){const n={};return _s(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(t,((t,i)=>{const s=tp(i,e.Du(t));null!=s&&(n[t]=s)})),{mapValue:{fields:n}}}function np(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof vs||t instanceof Pf||t instanceof $f||t instanceof cf||t instanceof Mf)}function ip(t,e,n){if(!np(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const i=ef(n);throw"an object"===i?e.Ou(t+" a custom object"):e.Ou(t+" "+i)}}function sp(t,e,n){if((e=(0,c.m9)(e))instanceof Lf)return e._internalPath;if("string"==typeof e)return op(t,e);throw ap("Field path arguments must be of type string or ",t,!1,void 0,n)}const rp=new RegExp("[~\\*/\\[\\]]");function op(t,e,n){if(e.search(rp)>=0)throw ap(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Lf(...e.split("."))._internalPath}catch(i){throw ap(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ap(t,e,n,i,s){const r=i&&!i.isEmpty(),o=void 0!==s;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(r||o)&&(c+=" (found",r&&(c+=` in field ${i}`),o&&(c+=` in document ${s}`),c+=")"),new es(ts.INVALID_ARGUMENT,a+t+c)}function cp(t,e){return t.some((t=>t.isEqual(e)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(t,e,n,i,s){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new cf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new up(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(hp("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class up extends lp{data(){return super.data()}}function hp(t,e){return"string"==typeof e?op(t,e):e instanceof Lf?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class fp extends lp{constructor(t,e,n,i,s,r){super(t,e,n,i,r),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new pp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(hp("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class pp extends fp{data(t={}){return super.data(t)}}class mp{constructor(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new dp(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new pp(this._firestore,this._userDataWriter,n.key,n,new dp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new es(ts.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>({type:"added",doc:new pp(t._firestore,t._userDataWriter,n.doc.key,n.doc,new dp(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:e++})))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const i=new pp(t._firestore,t._userDataWriter,e.doc.key,e.doc,new dp(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let s=-1,r=-1;return 0!==e.type&&(s=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),r=n.indexOf(e.doc.key)),{type:gp(e.type),doc:i,oldIndex:s,newIndex:r}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function gp(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qi()}}function vp(t,e){return t instanceof fp&&e instanceof fp?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof mp&&e instanceof mp&&t._firestore===e._firestore&&mf(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(t){if($r(t)&&0===t.explicitOrderBy.length)throw new es(ts.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bp{}function wp(t,...e){for(const n of e)t=n._apply(t);return t}class _p extends bp{constructor(t,e,n){super(),this.Uu=t,this.qu=e,this.Ku=n,this.type="where"}_apply(t){const e=qf(t.firestore),n=function(t,e,n,i,s,r,o){let a;if(s.isKeyField()){if("array-contains"===r||"array-contains-any"===r)throw new es(ts.INVALID_ARGUMENT,`Invalid Query. You can't perform '${r}' queries on documentId().`);if("in"===r||"not-in"===r){Pp(o,r);const e=[];for(const n of o)e.push(Mp(i,t,n));a={arrayValue:{values:e}}}else a=Mp(i,t,o)}else"in"!==r&&"not-in"!==r&&"array-contains-any"!==r||Pp(o,r),a=Jf(n,e,o,"in"===r||"not-in"===r);const c=gr.create(s,r,a);return function(t,e){if(e.S()){const n=Pr(t);if(null!==n&&!n.isEqual(e.field))throw new es(ts.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${e.field.toString()}'`);const i=Mr(t);null!==i&&Fp(t,e.field,i)}const n=function(t,e){for(const n of t.filters)if(e.indexOf(n.op)>=0)return n.op;return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new es(ts.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new es(ts.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}(t,c),c}(t._query,"where",e,t.firestore._databaseId,this.Uu,this.qu,this.Ku);return new lf(t.firestore,t.converter,function(t,e){const n=t.filters.concat([e]);return new Dr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))}}function Sp(t,e,n){const i=e,s=hp("where",t);return new _p(s,i,n)}class Ip extends bp{constructor(t,e){super(),this.Uu=t,this.Gu=e,this.type="orderBy"}_apply(t){const e=function(t,e,n){if(null!==t.startAt)throw new es(ts.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new es(ts.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const i=new Er(e,n);return function(t,e){if(null===Mr(t)){const n=Pr(t);null!==n&&Fp(t,n,e.field)}}(t,i),i}(t._query,this.Uu,this.Gu);return new lf(t.firestore,t.converter,function(t,e){const n=t.explicitOrderBy.concat([e]);return new Dr(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}function xp(t,e="asc"){const n=e,i=hp("orderBy",t);return new Ip(i,n)}class Cp extends bp{constructor(t,e,n){super(),this.type=t,this.ju=e,this.Qu=n}_apply(t){return new lf(t.firestore,t.converter,Br(t._query,this.ju,this.Qu))}}function Ep(t){return sf("limit",t),new Cp("limit",t,"F")}function Tp(t){return sf("limitToLast",t),new Cp("limitToLast",t,"L")}class kp extends bp{constructor(t,e,n){super(),this.type=t,this.Wu=e,this.zu=n}_apply(t){const e=$p(t,this.type,this.Wu,this.zu);return new lf(t.firestore,t.converter,function(t,e){return new Dr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))}}function Ap(...t){return new kp("startAt",t,!0)}function Dp(...t){return new kp("startAfter",t,!1)}class Op extends bp{constructor(t,e,n){super(),this.type=t,this.Wu=e,this.zu=n}_apply(t){const e=$p(t,this.type,this.Wu,this.zu);return new lf(t.firestore,t.converter,function(t,e){return new Dr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))}}function Np(...t){return new Op("endBefore",t,!1)}function Lp(...t){return new Op("endAt",t,!0)}function $p(t,e,n,i){if(n[0]=(0,c.m9)(n[0]),n[0]instanceof lp)return function(t,e,n,i,s){if(!i)throw new es(ts.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const r=[];for(const o of Rr(t))if(o.field.isKeyField())r.push(Qs(e,i.key));else{const t=i.data.field(o.field);if(Ls(t))throw new es(ts.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===t){const t=o.field.canonicalString();throw new es(ts.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${t}' (used as the orderBy) does not exist.`)}r.push(t)}return new Cr(r,s)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{const s=qf(t.firestore);return function(t,e,n,i,s,r){const o=t.explicitOrderBy;if(s.length>o.length)throw new es(ts.INVALID_ARGUMENT,`Too many arguments provided to ${i}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let c=0;c<s.length;c++){const r=s[c];if(o[c].field.isKeyField()){if("string"!=typeof r)throw new es(ts.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${i}(), but got a ${typeof r}`);if(!Fr(t)&&-1!==r.indexOf("/"))throw new es(ts.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${i}() must be a plain document ID, but '${r}' contains a slash.`);const n=t.path.child(Is.fromString(r));if(!js.isDocumentKey(n))throw new es(ts.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${i}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const s=new js(n);a.push(Qs(e,s))}else{const t=Jf(n,i,r);a.push(t)}}return new Cr(a,r)}(t._query,t.firestore._databaseId,s,e,n,i)}}function Mp(t,e,n){if("string"==typeof(n=(0,c.m9)(n))){if(""===n)throw new es(ts.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fr(e)&&-1!==n.indexOf("/"))throw new es(ts.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Is.fromString(n));if(!js.isDocumentKey(i))throw new es(ts.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Qs(t,new js(i))}if(n instanceof cf)return Qs(t,n._key);throw new es(ts.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ef(n)}.`)}function Pp(t,e){if(!Array.isArray(t)||0===t.length)throw new es(ts.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new es(ts.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Fp(t,e,n){if(!n.isEqual(e))throw new es(ts.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{convertValue(t,e="none"){switch(qs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Os(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ns(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Qi()}}convertObject(t,e){const n={};return ws(t.fields,((t,i)=>{n[t]=this.convertValue(i,e)})),n}convertGeoPoint(t){return new Pf(Os(t.latitude),Os(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=$s(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Ms(t));default:return null}}convertTimestamp(t){const e=Ds(t);return new vs(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Is.fromString(t);Yi(Pa(n));const i=new Fs(n.get(1),n.get(3)),s=new js(n.popFirst(5));return i.isEqual(e)||Wi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class Bp extends Rp{constructor(t){super(),this.firestore=t}convertBytes(t){return new $f(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new cf(this.firestore,null,e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=qf(t)}set(t,e,n){this._verifyNotCommitted();const i=Up(t,this._firestore),s=Vp(i.converter,e,n),r=zf(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,n);return this._mutations.push(r.toMutation(i._key,ho.none())),this}update(t,e,n,...i){this._verifyNotCommitted();const s=Up(t,this._firestore);let r;return r="string"==typeof(e=(0,c.m9)(e))||e instanceof Lf?Xf(this._dataReader,"WriteBatch.update",s._key,e,n,i):Yf(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(r.toMutation(s._key,ho.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Up(t,this._firestore);return this._mutations=this._mutations.concat(new Co(e._key,ho.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new es(ts.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Up(t,e){if((t=(0,c.m9)(t)).firestore!==e)throw new es(ts.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t){t=nf(t,cf);const e=nf(t.firestore,wf);return qd(_f(e),t._key).then((n=>im(e,t,n)))}class zp extends Rp{constructor(t){super(),this.firestore=t}convertBytes(t){return new $f(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new cf(this.firestore,null,e)}}function Hp(t){t=nf(t,cf);const e=nf(t.firestore,wf),n=_f(e),i=new zp(e);return Ud(n,t._key).then((n=>new fp(e,i,t._key,n,new dp(null!==n&&n.hasLocalMutations,!0),t.converter)))}function Zp(t){t=nf(t,cf);const e=nf(t.firestore,wf);return qd(_f(e),t._key,{source:"server"}).then((n=>im(e,t,n)))}function Wp(t){t=nf(t,lf);const e=nf(t.firestore,wf),n=_f(e),i=new zp(e);return yp(t._query),Hd(n,t._query).then((n=>new mp(e,i,t,n)))}function Kp(t){t=nf(t,lf);const e=nf(t.firestore,wf),n=_f(e),i=new zp(e);return zd(n,t._query).then((n=>new mp(e,i,t,n)))}function Gp(t){t=nf(t,lf);const e=nf(t.firestore,wf),n=_f(e),i=new zp(e);return Hd(n,t._query,{source:"server"}).then((n=>new mp(e,i,t,n)))}function Qp(t,e,n){t=nf(t,cf);const i=nf(t.firestore,wf),s=Vp(t.converter,e,n);return nm(i,[zf(qf(i),"setDoc",t._key,s,null!==t.converter,n).toMutation(t._key,ho.none())])}function Yp(t,e,n,...i){t=nf(t,cf);const s=nf(t.firestore,wf),r=qf(s);let o;return o="string"==typeof(e=(0,c.m9)(e))||e instanceof Lf?Xf(r,"updateDoc",t._key,e,n,i):Yf(r,"updateDoc",t._key,e),nm(s,[o.toMutation(t._key,ho.exists(!0))])}function Xp(t){return nm(nf(t.firestore,wf),[new Co(t._key,ho.none())])}function Jp(t,e){const n=nf(t.firestore,wf),i=ff(t),s=Vp(t.converter,e);return nm(n,[zf(qf(t.firestore),"addDoc",i._key,s,null!==t.converter,{}).toMutation(i._key,ho.exists(!1))]).then((()=>i))}function tm(t,...e){var n,i,s;t=(0,c.m9)(t);let r={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||vf(e[o])||(r=e[o],o++);const a={includeMetadataChanges:r.includeMetadataChanges};if(vf(e[o])){const t=e[o];e[o]=null===(n=t.next)||void 0===n?void 0:n.bind(t),e[o+1]=null===(i=t.error)||void 0===i?void 0:i.bind(t),e[o+2]=null===(s=t.complete)||void 0===s?void 0:s.bind(t)}let l,u,h;if(t instanceof cf)u=nf(t.firestore,wf),h=Nr(t._key.path),l={next:n=>{e[o]&&e[o](im(u,t,n))},error:e[o+1],complete:e[o+2]};else{const n=nf(t,lf);u=nf(n.firestore,wf),h=n._query;const i=new zp(u);l={next:t=>{e[o]&&e[o](new mp(u,i,n,t))},error:e[o+1],complete:e[o+2]},yp(t._query)}return function(t,e,n,i){const s=new Ed(i),r=new Nh(e,s,n);return t.asyncQueue.enqueueAndForget((async()=>Th(await Vd(t),r))),()=>{s.Jc(),t.asyncQueue.enqueueAndForget((async()=>kh(await Vd(t),r)))}}(_f(u),h,a,l)}function em(t,e){return Zd(_f(t=nf(t,wf)),vf(e)?e:{next:e})}function nm(t,e){return function(t,e){const n=new ns;return t.asyncQueue.enqueueAndForget((async()=>Zh(await Rd(t),e,n))),n.promise}(_f(t),e)}function im(t,e,n){const i=n.docs.get(e._key),s=new zp(t);return new fp(t,s,e._key,i,new dp(n.hasPendingWrites,n.fromCache),e.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=qf(t)}get(t){const e=Up(t,this._firestore),n=new Bp(this._firestore);return this._transaction.lookup([e._key]).then((t=>{if(!t||1!==t.length)return Qi();const i=t[0];if(i.isFoundDocument())return new lp(this._firestore,n,i.key,i,e.converter);if(i.isNoDocument())return new lp(this._firestore,n,e._key,null,e.converter);throw Qi()}))}set(t,e,n){const i=Up(t,this._firestore),s=Vp(i.converter,e,n),r=zf(this._dataReader,"Transaction.set",i._key,s,null!==i.converter,n);return this._transaction.set(i._key,r),this}update(t,e,n,...i){const s=Up(t,this._firestore);let r;return r="string"==typeof(e=(0,c.m9)(e))||e instanceof Lf?Xf(this._dataReader,"Transaction.update",s._key,e,n,i):Yf(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,r),this}delete(t){const e=Up(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Up(t,this._firestore),n=new zp(this._firestore);return super.get(t).then((t=>new fp(this._firestore,n,e._key,t._document,new dp(!1,!1),e.converter)))}}function rm(t,e){return Wd(_f(t=nf(t,wf)),(n=>e(new sm(t,n))))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(){return new Hf("deleteField")}function am(){return new Wf("serverTimestamp")}function cm(...t){return new Kf("arrayUnion",t)}function lm(...t){return new Gf("arrayRemove",t)}function um(t){return new Qf("increment",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t,e=!0){!function(t){Ui=t}(r.SDK_VERSION),(0,r._registerComponent)(new o.wA("firestore",((t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=new wf(i,new os(t.getProvider("auth-internal")),new us(t.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:e},n),s._setSettings(n),s}),"PUBLIC")),(0,r.registerVersion)(Bi,"3.4.5",t),(0,r.registerVersion)(Bi,"3.4.5","esm2017")}();const hm="@firebase/firestore-compat",dm="0.1.14";
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function fm(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new es("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(){if("undefined"===typeof Uint8Array)throw new es("unimplemented","Uint8Arrays are not available in this environment.")}function mm(){if(!Ts())throw new es("unimplemented","Blobs are unavailable in Firestore in this environment.")}class gm{constructor(t){this._delegate=t}static fromBase64String(t){return mm(),new gm($f.fromBase64String(t))}static fromUint8Array(t){return pm(),new gm($f.fromUint8Array(t))}toBase64(){return mm(),this._delegate.toBase64()}toUint8Array(){return pm(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(t){return ym(t,["next","error","complete"])}function ym(t,e){if("object"!==typeof t||null===t)return!1;const n=t;for(const i of e)if(i in n&&"function"===typeof n[i])return!0;return!1}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{enableIndexedDbPersistence(t,e){return If(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return xf(t._delegate)}clearIndexedDbPersistence(t){return Ef(t._delegate)}}class wm{constructor(t,e,n){this._delegate=e,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},t instanceof Fs||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();t.merge||e.host===t.host||Ki("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&(t=Object.assign(Object.assign({},e),t),delete t.merge),this._delegate._setSettings(t)}useEmulator(t,e,n={}){af(this._delegate,t,e,n)}enableNetwork(){return kf(this._delegate)}disableNetwork(){return Af(this._delegate)}enablePersistence(t){let e=!1,n=!1;return t&&(e=!!t.synchronizeTabs,n=!!t.experimentalForceOwningTab,Xd("synchronizeTabs",e,"experimentalForceOwningTab",n)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Tf(this._delegate)}onSnapshotsInSync(t){return em(this._delegate,t)}get app(){if(!this._appCompat)throw new es("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Mm(this,hf(this._delegate,t))}catch(e){throw Tm(e,"collection()","Firestore.collection()")}}doc(t){try{return new Em(this,ff(this._delegate,t))}catch(e){throw Tm(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Nm(this,df(this._delegate,t))}catch(e){throw Tm(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return rm(this._delegate,(e=>t(new Im(this,e))))}batch(){return _f(this._delegate),new xm(new jp(this._delegate,(t=>nm(this._delegate,t))))}loadBundle(t){return Df(this._delegate,t)}namedQuery(t){return Of(this._delegate,t).then((t=>t?new Nm(this,t):null))}}class _m extends Rp{constructor(t){super(),this.firestore=t}convertBytes(t){return new gm(new $f(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Em.forKey(e,this.firestore,null)}}function Sm(t){Hi(t)}class Im{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new _m(t)}get(t){const e=Pm(t);return this._delegate.get(e).then((t=>new Dm(this._firestore,new fp(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,e.converter))))}set(t,e,n){const i=Pm(t);return n?(fm("Transaction.set",n),this._delegate.set(i,e,n)):this._delegate.set(i,e),this}update(t,e,n,...i){const s=Pm(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,n,...i),this}delete(t){const e=Pm(t);return this._delegate.delete(e),this}}class xm{constructor(t){this._delegate=t}set(t,e,n){const i=Pm(t);return n?(fm("WriteBatch.set",n),this._delegate.set(i,e,n)):this._delegate.set(i,e),this}update(t,e,n,...i){const s=Pm(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,n,...i),this}delete(t){const e=Pm(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Cm{constructor(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}fromFirestore(t,e){const n=new pp(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Om(this._firestore,n),null!==e&&void 0!==e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const n=Cm.INSTANCES;let i=n.get(t);i||(i=new WeakMap,n.set(t,i));let s=i.get(e);return s||(s=new Cm(t,new _m(t),e),i.set(e,s)),s}}Cm.INSTANCES=new WeakMap;class Em{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new _m(t)}static forPath(t,e,n){if(t.length%2!==0)throw new es("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Em(e,new cf(e._delegate,n,new js(t)))}static forKey(t,e,n){return new Em(e,new cf(e._delegate,n,t))}get id(){return this._delegate.id}get parent(){return new Mm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Mm(this.firestore,hf(this._delegate,t))}catch(e){throw Tm(e,"collection()","DocumentReference.collection()")}}isEqual(t){return t=(0,c.m9)(t),t instanceof cf&&pf(this._delegate,t)}set(t,e){e=fm("DocumentReference.set",e);try{return e?Qp(this._delegate,t,e):Qp(this._delegate,t)}catch(n){throw Tm(n,"setDoc()","DocumentReference.set()")}}update(t,e,...n){try{return 1===arguments.length?Yp(this._delegate,t):Yp(this._delegate,t,e,...n)}catch(i){throw Tm(i,"updateDoc()","DocumentReference.update()")}}delete(){return Xp(this._delegate)}onSnapshot(...t){const e=km(t),n=Am(t,(t=>new Dm(this.firestore,new fp(this.firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,this._delegate.converter))));return tm(this._delegate,e,n)}get(t){let e;return e="cache"===(null===t||void 0===t?void 0:t.source)?Hp(this._delegate):"server"===(null===t||void 0===t?void 0:t.source)?Zp(this._delegate):qp(this._delegate),e.then((t=>new Dm(this.firestore,new fp(this.firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,this._delegate.converter))))}withConverter(t){return new Em(this.firestore,t?this._delegate.withConverter(Cm.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}function Tm(t,e,n){return t.message=t.message.replace(e,n),t}function km(t){for(const e of t)if("object"===typeof e&&!vm(e))return e;return{}}function Am(t,e){var n,i;let s;return s=vm(t[0])?t[0]:vm(t[1])?t[1]:"function"===typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:t=>{s.next&&s.next(e(t))},error:null===(n=s.error)||void 0===n?void 0:n.bind(s),complete:null===(i=s.complete)||void 0===i?void 0:i.bind(s)}}class Dm{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Em(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return vp(this._delegate,t._delegate)}}class Om extends Dm{data(t){const e=this._delegate.data(t);return Xi(void 0!==e,"Document in a QueryDocumentSnapshot should exist"),e}}class Nm{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new _m(t)}where(t,e,n){try{return new Nm(this.firestore,wp(this._delegate,Sp(t,e,n)))}catch(i){throw Tm(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Nm(this.firestore,wp(this._delegate,xp(t,e)))}catch(n){throw Tm(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Nm(this.firestore,wp(this._delegate,Ep(t)))}catch(e){throw Tm(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Nm(this.firestore,wp(this._delegate,Tp(t)))}catch(e){throw Tm(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Nm(this.firestore,wp(this._delegate,Ap(...t)))}catch(e){throw Tm(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Nm(this.firestore,wp(this._delegate,Dp(...t)))}catch(e){throw Tm(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Nm(this.firestore,wp(this._delegate,Np(...t)))}catch(e){throw Tm(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Nm(this.firestore,wp(this._delegate,Lp(...t)))}catch(e){throw Tm(e,"endAt()","Query.endAt()")}}isEqual(t){return mf(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null===t||void 0===t?void 0:t.source)?Kp(this._delegate):"server"===(null===t||void 0===t?void 0:t.source)?Gp(this._delegate):Wp(this._delegate),e.then((t=>new $m(this.firestore,new mp(this.firestore._delegate,this._userDataWriter,this._delegate,t._snapshot))))}onSnapshot(...t){const e=km(t),n=Am(t,(t=>new $m(this.firestore,new mp(this.firestore._delegate,this._userDataWriter,this._delegate,t._snapshot))));return tm(this._delegate,e,n)}withConverter(t){return new Nm(this.firestore,t?this._delegate.withConverter(Cm.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}class Lm{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Om(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class $m{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Nm(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((t=>new Om(this._firestore,t)))}docChanges(t){return this._delegate.docChanges(t).map((t=>new Lm(this._firestore,t)))}forEach(t,e){this._delegate.forEach((n=>{t.call(e,new Om(this._firestore,n))}))}isEqual(t){return vp(this._delegate,t._delegate)}}class Mm extends Nm{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Em(this.firestore,t):null}doc(t){try{return new Em(this.firestore,void 0===t?ff(this._delegate):ff(this._delegate,t))}catch(e){throw Tm(e,"doc()","CollectionReference.doc()")}}add(t){return Jp(this._delegate,t).then((t=>new Em(this.firestore,t)))}isEqual(t){return pf(this._delegate,t._delegate)}withConverter(t){return new Mm(this.firestore,t?this._delegate.withConverter(Cm.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}function Pm(t){return nf(t,cf)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(...t){this._delegate=new Lf(...t)}static documentId(){return new Fm(Cs.keyField().canonicalString())}isEqual(t){return t=(0,c.m9)(t),t instanceof Lf&&this._delegate._internalPath.isEqual(t._internalPath)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(t){this._delegate=t}static serverTimestamp(){const t=am();return t._methodName="FieldValue.serverTimestamp",new Rm(t)}static delete(){const t=om();return t._methodName="FieldValue.delete",new Rm(t)}static arrayUnion(...t){const e=cm(...t);return e._methodName="FieldValue.arrayUnion",new Rm(e)}static arrayRemove(...t){const e=lm(...t);return e._methodName="FieldValue.arrayRemove",new Rm(e)}static increment(t){const e=um(t);return e._methodName="FieldValue.increment",new Rm(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm={Firestore:wm,GeoPoint:Pf,Timestamp:vs,Blob:gm,Transaction:Im,WriteBatch:xm,DocumentReference:Em,DocumentSnapshot:Dm,Query:Nm,QueryDocumentSnapshot:Om,QuerySnapshot:$m,CollectionReference:Mm,FieldPath:Fm,FieldValue:Rm,setLogLevel:Sm,CACHE_SIZE_UNLIMITED:bf};function Bm(t,e){t.INTERNAL.registerComponent(new o.wA("firestore-compat",(t=>{const n=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(n,i)}),"PUBLIC").setServiceProps(Object.assign({},Vm)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(t){Bm(t,((t,e)=>new wm(t,e,new bm))),t.registerVersion(hm,dm)}jm(s.Z)},7273:function(){},7524:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});n(1703);var i=n(8085),s=n(3325),r=(0,s.Z)(i.Z).extend({name:"v-app",props:{dark:{type:Boolean,default:void 0},id:{type:String,default:"app"},light:{type:Boolean,default:void 0}},computed:{isDark(){return this.$vuetify.theme.dark}},beforeCreate(){if(!this.$vuetify||this.$vuetify===this.$root)throw new Error("Vuetify is not properly initialized, see https://vuetifyjs.com/getting-started/quick-start#bootstrapping-the-vuetify-object")},render(t){const e=t("div",{staticClass:"v-application--wrap"},this.$slots.default);return t("div",{staticClass:"v-application",class:{"v-application--is-rtl":this.$vuetify.rtl,"v-application--is-ltr":!this.$vuetify.rtl,...this.themeClasses},attrs:{"data-app":!0},domProps:{id:this.id}},[e])}})},8630:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var i=n(4622),s=i.y.extend({name:"button-group",provide(){return{btnToggle:this}},computed:{classes(){return i.y.options.computed.classes.call(this)}},methods:{genData:i.y.options.methods.genData}}),r=n(6952),o=n(3325),a=(0,o.Z)(s,r.Z).extend({name:"v-btn-toggle",props:{backgroundColor:String,borderless:Boolean,dense:Boolean,group:Boolean,rounded:Boolean,shaped:Boolean,tile:Boolean},computed:{classes(){return{...s.options.computed.classes.call(this),"v-btn-toggle":!0,"v-btn-toggle--borderless":this.borderless,"v-btn-toggle--dense":this.dense,"v-btn-toggle--group":this.group,"v-btn-toggle--rounded":this.rounded,"v-btn-toggle--shaped":this.shaped,"v-btn-toggle--tile":this.tile,...this.themeClasses}}},methods:{genData(){const t=this.setTextColor(this.color,{...s.options.methods.genData.call(this)});return this.group?t:this.setBackgroundColor(this.backgroundColor,t)}}})},680:function(t,e,n){"use strict";n.d(e,{Z:function(){return y}});var i=n(5648),s=n(8083),r=n(6952),o=n(4589),a=r.Z.extend({name:"v-progress-circular",directives:{intersect:s.Z},props:{button:Boolean,indeterminate:Boolean,rotate:{type:[Number,String],default:0},size:{type:[Number,String],default:32},width:{type:[Number,String],default:4},value:{type:[Number,String],default:0}},data:()=>({radius:20,isVisible:!0}),computed:{calculatedSize(){return Number(this.size)+(this.button?8:0)},circumference(){return 2*Math.PI*this.radius},classes(){return{"v-progress-circular--visible":this.isVisible,"v-progress-circular--indeterminate":this.indeterminate,"v-progress-circular--button":this.button}},normalizedValue(){return this.value<0?0:this.value>100?100:parseFloat(this.value)},strokeDashArray(){return Math.round(1e3*this.circumference)/1e3},strokeDashOffset(){return(100-this.normalizedValue)/100*this.circumference+"px"},strokeWidth(){return Number(this.width)/+this.size*this.viewBoxSize*2},styles(){return{height:(0,o.kb)(this.calculatedSize),width:(0,o.kb)(this.calculatedSize)}},svgStyles(){return{transform:`rotate(${Number(this.rotate)}deg)`}},viewBoxSize(){return this.radius/(1-Number(this.width)/+this.size)}},methods:{genCircle(t,e){return this.$createElement("circle",{class:`v-progress-circular__${t}`,attrs:{fill:"transparent",cx:2*this.viewBoxSize,cy:2*this.viewBoxSize,r:this.radius,"stroke-width":this.strokeWidth,"stroke-dasharray":this.strokeDashArray,"stroke-dashoffset":e}})},genSvg(){const t=[this.indeterminate||this.genCircle("underlay",0),this.genCircle("overlay",this.strokeDashOffset)];return this.$createElement("svg",{style:this.svgStyles,attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:`${this.viewBoxSize} ${this.viewBoxSize} ${2*this.viewBoxSize} ${2*this.viewBoxSize}`}},t)},genInfo(){return this.$createElement("div",{staticClass:"v-progress-circular__info"},this.$slots.default)},onObserve(t,e,n){this.isVisible=n}},render(t){return t("div",this.setTextColor(this.color,{staticClass:"v-progress-circular",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,directives:[{name:"intersect",value:this.onObserve}],style:this.styles,on:this.$listeners}),[this.genSvg(),this.genInfo()])}}),c=a,l=n(7352),u=n(2936),h=n(3377),d=n(3536),f=n(6505),p=n(9131),m=n(3325),g=n(1824);const v=(0,m.Z)(i.Z,f.Z,d.Z,p.Z,(0,l.d)("btnToggle"),(0,u.d)("inputValue"));var y=v.extend().extend({name:"v-btn",props:{activeClass:{type:String,default(){return this.btnToggle?this.btnToggle.activeClass:""}},block:Boolean,depressed:Boolean,fab:Boolean,icon:Boolean,loading:Boolean,outlined:Boolean,plain:Boolean,retainFocusOnClick:Boolean,rounded:Boolean,tag:{type:String,default:"button"},text:Boolean,tile:Boolean,type:{type:String,default:"button"},value:null},data:()=>({proxyClass:"v-btn--active"}),computed:{classes(){return{"v-btn":!0,...f.Z.options.computed.classes.call(this),"v-btn--absolute":this.absolute,"v-btn--block":this.block,"v-btn--bottom":this.bottom,"v-btn--disabled":this.disabled,"v-btn--is-elevated":this.isElevated,"v-btn--fab":this.fab,"v-btn--fixed":this.fixed,"v-btn--has-bg":this.hasBg,"v-btn--icon":this.icon,"v-btn--left":this.left,"v-btn--loading":this.loading,"v-btn--outlined":this.outlined,"v-btn--plain":this.plain,"v-btn--right":this.right,"v-btn--round":this.isRound,"v-btn--rounded":this.rounded,"v-btn--router":this.to,"v-btn--text":this.text,"v-btn--tile":this.tile,"v-btn--top":this.top,...this.themeClasses,...this.groupClasses,...this.elevationClasses,...this.sizeableClasses}},computedElevation(){if(!this.disabled)return h.Z.options.computed.computedElevation.call(this)},computedRipple(){var t;const e=!this.icon&&!this.fab||{circle:!0};return!this.disabled&&(null!=(t=this.ripple)?t:e)},hasBg(){return!this.text&&!this.plain&&!this.outlined&&!this.icon},isElevated(){return Boolean(!this.icon&&!this.text&&!this.outlined&&!this.depressed&&!this.disabled&&!this.plain&&(null==this.elevation||Number(this.elevation)>0))},isRound(){return Boolean(this.icon||this.fab)},styles(){return{...this.measurableStyles}}},created(){const t=[["flat","text"],["outline","outlined"],["round","rounded"]];t.forEach((([t,e])=>{this.$attrs.hasOwnProperty(t)&&(0,g.fK)(t,e,this)}))},methods:{click(t){!this.retainFocusOnClick&&!this.fab&&t.detail&&this.$el.blur(),this.$emit("click",t),this.btnToggle&&this.toggle()},genContent(){return this.$createElement("span",{staticClass:"v-btn__content"},this.$slots.default)},genLoader(){return this.$createElement("span",{class:"v-btn__loader"},this.$slots.loader||[this.$createElement(c,{props:{indeterminate:!0,size:23,width:2}})])}},render(t){const e=[this.genContent(),this.loading&&this.genLoader()],{tag:n,data:i}=this.generateRouteLink(),s=this.hasBg?this.setBackgroundColor:this.setTextColor;return"button"===n&&(i.attrs.type=this.type,i.attrs.disabled=this.disabled),i.attrs.value=["string","number"].includes(typeof this.value)?this.value:JSON.stringify(this.value),t(n,this.disabled?i:s(this.color,i),e)}})},8538:function(t,e,n){"use strict";n.d(e,{Z:function(){return de}});n(1703);var i=n(6286),s=n(3325),r=n(6952),o=n(144),a=o.Z.extend({name:"localable",props:{locale:String},computed:{currentLocale(){return this.locale||this.$vuetify.lang.current}}}),c=o.Z.extend({name:"mouse",methods:{getDefaultMouseEventHandlers(t,e){return this.getMouseEventHandlers({["click"+t]:{event:"click"},["contextmenu"+t]:{event:"contextmenu",prevent:!0,result:!1},["mousedown"+t]:{event:"mousedown"},["mousemove"+t]:{event:"mousemove"},["mouseup"+t]:{event:"mouseup"},["mouseenter"+t]:{event:"mouseenter"},["mouseleave"+t]:{event:"mouseleave"},["touchstart"+t]:{event:"touchstart"},["touchmove"+t]:{event:"touchmove"},["touchend"+t]:{event:"touchend"}},e)},getMouseEventHandlers(t,e){const n={};for(const i in t){const s=t[i];if(!this.$listeners[i])continue;const r=s.passive?"&":(s.once?"~":"")+(s.capture?"!":""),o=r+s.event,a=t=>{const n=t;if(void 0===s.button||n.buttons>0&&n.button===s.button){if(s.prevent&&t.preventDefault(),s.stop&&t.stopPropagation(),t&&"touches"in t){var r,o;const e=" ",n=null==(r=t.currentTarget)?void 0:r.className.split(e),i=document.elementsFromPoint(t.changedTouches[0].clientX,t.changedTouches[0].clientY),s=i.find((t=>t.className.split(e).some((t=>n.includes(t)))));if(s&&(null==(o=t.target)||!o.isSameNode(s)))return void s.dispatchEvent(new TouchEvent(t.type,{changedTouches:t.changedTouches,targetTouches:t.targetTouches,touches:t.touches}))}this.$emit(i,e(t),t)}return s.result};o in n?Array.isArray(n[o])?n[o].push(a):n[o]=[n[o],a]:n[o]=a}return n}}}),l=n(8085);function u(t,e=0,n=1){let i;return t<100&&t>=0?(i=new Date(Date.UTC(t,e,n)),isFinite(i.getUTCFullYear())&&i.setUTCFullYear(t)):i=new Date(Date.UTC(t,e,n)),i}function h(t,e,n){const i=7+e-n,s=(7+u(t,0,i).getUTCDay()-e)%7;return-s+i-1}function d(t,e,n,i){let s=[0,31,59,90,120,151,181,212,243,273,304,334][e];return e>1&&m(t)&&s++,s+n}function f(t,e,n){const i=h(t,e,n),s=h(t+1,e,n),r=m(t)?366:365;return(r-i+s)/7}function p(t,e,n,i,s){const r=h(t,i,s),o=Math.ceil((d(t,e,n,i)-r)/7);return o<1?o+f(t-1,i,s):o>f(t,i,s)?o-f(t,i,s):o}function m(t){return t%4===0&&t%100!==0||t%400===0}const g=/^(\d{4})-(\d{1,2})(-(\d{1,2}))?([^\d]+(\d{1,2}))?(:(\d{1,2}))?(:(\d{1,2}))?$/,v=/(\d\d?)(:(\d\d?)|)(:(\d\d?)|)/,y=[0,31,28,31,30,31,30,31,31,30,31,30,31],b=[0,31,29,31,30,31,30,31,31,30,31,30,31],w=28,_=31,S=12,I=1,x=1,C=7,E=60,T=59,k=1440,A=23,D=1e4,O=100,N=100,L=1e4;function $(t,e,n){const i=tt(t);return ct(i,e[0],rt),Y(i),n&&Z(i,n,i.hasTime),i}function M(t,e,n){const i=tt(t);return ct(i,e[e.length-1]),Y(i),n&&Z(i,n,i.hasTime),i}function P(t){const e=tt(t);return e.day=x,Q(e),Y(e),e}function F(t){const e=tt(t);return e.day=J(e.year,e.month),Q(e),Y(e),e}function R(t){return"number"===typeof t&&isFinite(t)||!!v.exec(t)||"object"===typeof t&&isFinite(t.hour)&&isFinite(t.minute)}function V(t){if("number"===typeof t)return t;if("string"===typeof t){const e=v.exec(t);return!!e&&60*parseInt(e[1])+parseInt(e[3]||0)}return"object"===typeof t&&("number"===typeof t.hour&&"number"===typeof t.minute&&60*t.hour+t.minute)}function B(t){return"number"===typeof t&&isFinite(t)||"string"===typeof t&&!!g.exec(t)||t instanceof Date}function j(t,e=!1,n){if("number"===typeof t&&isFinite(t)&&(t=new Date(t)),t instanceof Date){const e=U(t);return n&&Z(e,n,e.hasTime),e}if("string"!==typeof t){if(e)throw new Error(`${t} is not a valid timestamp. It must be a Date, number of milliseconds since Epoch, or a string in the format of YYYY-MM-DD or YYYY-MM-DD hh:mm. Zero-padding is optional and seconds are ignored.`);return null}const i=g.exec(t);if(!i){if(e)throw new Error(`${t} is not a valid timestamp. It must be a Date, number of milliseconds since Epoch, or a string in the format of YYYY-MM-DD or YYYY-MM-DD hh:mm. Zero-padding is optional and seconds are ignored.`);return null}const s={date:t,time:"",year:parseInt(i[1]),month:parseInt(i[2]),day:parseInt(i[4])||1,hour:parseInt(i[6])||0,minute:parseInt(i[8])||0,weekday:0,hasDay:!!i[4],hasTime:!(!i[6]||!i[8]),past:!1,present:!1,future:!1};return Q(s),Y(s),n&&Z(s,n,s.hasTime),s}function U(t){return Y({date:"",time:"",year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate(),weekday:t.getDay(),hour:t.getHours(),minute:t.getMinutes(),hasDay:!0,hasTime:!0,past:!1,present:!0,future:!1})}function q(t){return t.year*D+t.month*O+t.day}function z(t){return t.hour*N+t.minute}function H(t){return q(t)*L+z(t)}function Z(t,e,n=!1){let i=q(e),s=q(t),r=i===s;return t.hasTime&&n&&r&&(i=z(e),s=z(t),r=i===s),t.past=s<i,t.present=r,t.future=s>i,t}function W(t){return t instanceof Date||"number"===typeof t&&isFinite(t)}function K(t,e,n){return t.hasTime!==e&&(t.hasTime=e,e||(t.hour=A,t.minute=T,t.time=it(t)),n&&Z(t,n,t.hasTime)),t}function G(t,e,n){return t.hasTime=!0,t.hour=Math.floor(e/E),t.minute=e%E,t.time=it(t),n&&Z(t,n,!0),t}function Q(t){return t.weekday=X(t),t}function Y(t){return t.time=it(t),t.date=nt(t),t}function X(t){if(t.hasDay){const e=Math.floor,n=t.day,i=(t.month+9)%S+1,s=e(t.year/100),r=t.year%100-(t.month<=2?1:0);return((n+e(2.6*i-.2)-2*s+r+e(r/4)+e(s/4))%7+7)%7}return t.weekday}function J(t,e){return m(t)?b[e]:y[e]}function tt(t){const{date:e,time:n,year:i,month:s,day:r,weekday:o,hour:a,minute:c,hasDay:l,hasTime:u,past:h,present:d,future:f}=t;return{date:e,time:n,year:i,month:s,day:r,weekday:o,hour:a,minute:c,hasDay:l,hasTime:u,past:h,present:d,future:f}}function et(t,e){let n=String(t);while(n.length<e)n="0"+n;return n}function nt(t){let e=`${et(t.year,4)}-${et(t.month,2)}`;return t.hasDay&&(e+=`-${et(t.day,2)}`),e}function it(t){return t.hasTime?`${et(t.hour,2)}:${et(t.minute,2)}`:""}function st(t){return t.day++,t.weekday=(t.weekday+1)%C,t.day>w&&t.day>J(t.year,t.month)&&(t.day=x,t.month++,t.month>S&&(t.month=I,t.year++)),t}function rt(t){return t.day--,t.weekday=(t.weekday+6)%C,t.day<x&&(t.month--,t.month<I&&(t.year--,t.month=S),t.day=J(t.year,t.month)),t}function ot(t,e=st,n=1){while(--n>=0)e(t);return t}function at(t,e){const n=525600*(e.year-t.year),i=43800*(e.month-t.month),s=1440*(e.day-t.day),r=60*(e.hour-t.hour),o=e.minute-t.minute;return n+i+s+r+o}function ct(t,e,n=st,i=6){while(t.weekday!==e&&--i>=0)n(t);return t}function lt(t){const e=[1,1,1,1,1,1,1],n=[0,0,0,0,0,0,0];for(let i=0;i<t.length;i++)n[t[i]]=1;for(let i=0;i<C;i++){let t=1;for(let e=1;e<C;e++){const s=(i+e)%C;if(n[s])break;t++}e[i]=n[i]*t}return e}function ut(t){const e=`${et(t.hour,2)}:${et(t.minute,2)}`,n=t.date;return new Date(`${n}T${e}:00+00:00`)}function ht(t,e,n,i,s=42,r=0){const o=q(e),a=[];let c=tt(t),l=0,u=l===o;if(o<q(t))throw new Error("End date is earlier than start date.");while((!u||a.length<r)&&a.length<s){if(l=q(c),u=u||l===o,0===i[c.weekday]){c=st(c);continue}const t=tt(c);Y(t),Z(t,n),a.push(t),c=ot(c,st,i[c.weekday])}if(!a.length)throw new Error("No dates found using specified start date, end date, and weekdays.");return a}function dt(t,e,n,i,s){const r=[];for(let o=0;o<i;o++){const i=e+o*n,a=tt(t);r.push(G(a,i,s))}return r}function ft(t,e){const n=(t,e)=>"";return"undefined"===typeof Intl||"undefined"===typeof Intl.DateTimeFormat?n:(n,i)=>{try{const s=new Intl.DateTimeFormat(t||void 0,e(n,i));return s.format(ut(n))}catch(s){return""}}}var pt=o.Z.extend({name:"times",props:{now:{type:String,validator:B}},data:()=>({times:{now:j("0000-00-00 00:00",!0),today:j("0000-00-00",!0)}}),computed:{parsedNow(){return this.now?j(this.now,!0):null}},watch:{parsedNow:"updateTimes"},created(){this.updateTimes(),this.setPresent()},methods:{setPresent(){this.times.now.present=this.times.today.present=!0,this.times.now.past=this.times.today.past=!1,this.times.now.future=this.times.today.future=!1},updateTimes(){const t=this.parsedNow||this.getNow();this.updateDay(t,this.times.now),this.updateTime(t,this.times.now),this.updateDay(t,this.times.today)},getNow(){return U(new Date)},updateDay(t,e){t.date!==e.date&&(e.year=t.year,e.month=t.month,e.day=t.day,e.weekday=t.weekday,e.date=t.date)},updateTime(t,e){t.time!==e.time&&(e.hour=t.hour,e.minute=t.minute,e.time=t.time)}}}),mt=n(549);const gt=864e5;function vt(t,e=0){const n=t.map((t=>({event:t,columnCount:0,column:0,left:0,width:100})));return n.sort(((t,n)=>Math.max(e,t.event.startTimestampIdentifier)-Math.max(e,n.event.startTimestampIdentifier)||n.event.endTimestampIdentifier-t.event.endTimestampIdentifier)),n}function yt(t,e,n,i,s=!0){return s?!(t>=i||e<=n):!(t>i||e<n)}function bt(t){t.forEach((e=>{e.visuals.forEach((e=>{e.columnCount=t.length}))}))}function wt(t){return[t.startTimestampIdentifier,t.endTimestampIdentifier]}function _t(t){return[t.startIdentifier,t.endIdentifier]}function St(t,e){return[Math.max(e,t.startTimestampIdentifier),Math.min(e+gt,t.endTimestampIdentifier)]}function It(t,e,n,i){for(let s=0;s<t.length;s++){const r=t[s];let o=!1;if(yt(e,n,r.start,r.end,i))for(let t=0;t<r.visuals.length;t++){const s=r.visuals[t],[a,c]=i?wt(s.event):_t(s.event);if(yt(e,n,a,c,i)){o=!0;break}}if(!o)return s}return-1}function xt(t){const e={groups:[],min:-1,max:-1,reset:()=>{e.groups=[],e.min=e.max=-1},getVisuals:(n,i,s,r=!1)=>{(n.weekday===t||r)&&e.reset();const o=H(n),a=vt(i,o);return a.forEach((t=>{const[n,i]=s?wt(t.event):_t(t.event);e.groups.length>0&&!yt(n,i,e.min,e.max,s)&&(bt(e.groups),e.reset());let r=It(e.groups,n,i,s);-1===r&&(r=e.groups.length,e.groups.push({start:n,end:i,visuals:[]}));const o=e.groups[r];o.visuals.push(t),o.start=Math.min(o.start,n),o.end=Math.max(o.end,i),t.column=r,-1===e.min?(e.min=n,e.max=i):(e.min=Math.min(e.min,n),e.max=Math.max(e.max,i))})),bt(e.groups),s&&e.reset(),a}};return e}const Ct=100,Et=5,Tt=1.7,kt=(t,e,n)=>{const i=xt(e);return(t,e,s,r)=>{if(!s)return i.getVisuals(t,e,s,r);const o=H(t),a=vt(e,o),c=Pt(a,o);for(const i of c){const t=[];for(const e of i.visuals){const i=Ft(e,o),s=Nt(i,t);if(!1===s){const e=$t(i,t);e&&(i.parent=e,i.sibling=yt(i.start,i.end,e.start,Vt(e.start,n)),i.index=e.index+1,e.children.push(i))}else{const[e]=Lt(i,t,s-1,s-1),r=Lt(i,t,s+1,s+t.length,!0);i.children=r,i.index=s,e&&(i.parent=e,i.sibling=yt(i.start,i.end,e.start,Vt(e.start,n)),e.children.push(i));for(const t of r){t.parent===e&&(t.parent=i);const s=t.index-i.index<=1;s&&i.sibling&&yt(i.start,Vt(i.start,n),t.start,t.end)&&(t.sibling=!0)}}t.push(i)}At(t,n)}return a.sort(((t,e)=>t.left-e.left||t.event.startTimestampIdentifier-e.event.startTimestampIdentifier)),a}};function At(t,e){for(const n of t){const{visual:i,parent:s}=n,r=Rt(n)+1,o=s?s.visual.left:0,a=Ct-o,c=Math.min(Et,Ct/r),l=Dt(n,t),u=a/(r-n.index+1),h=a/(r-n.index+(n.sibling?1:0))*l;s&&(i.left=n.sibling?o+u:o+c),i.width=Mt(n,t,e)?Ct-i.left:Math.min(Ct-i.left,h*Tt)}}function Dt(t,e){if(!t.children.length)return 1;const n=t.index+e.length,i=t.children.reduce(((t,e)=>Math.min(t,e.index)),n);return i-t.index}function Ot(t,e){const n=[];for(const i of e)yt(t.start,t.end,i.start,i.end)&&n.push(i.index);return n}function Nt(t,e){const n=Ot(t,e);n.sort();for(let i=0;i<n.length;i++)if(i<n[i])return i;return!1}function Lt(t,e,n,i,s=!1){const r=[];for(const o of e)o.index>=n&&o.index<=i&&yt(t.start,t.end,o.start,o.end)&&r.push(o);if(s&&r.length>0){const t=r.reduce(((t,e)=>Math.min(t,e.index)),r[0].index);return r.filter((e=>e.index===t))}return r}function $t(t,e){let n=null;for(const i of e)yt(t.start,t.end,i.start,i.end)&&(null===n||i.index>n.index)&&(n=i);return n}function Mt(t,e,n){for(const i of e)if(i!==t&&i.index>t.index&&yt(t.start,Vt(t.start,n),i.start,i.end))return!1;return!0}function Pt(t,e){const n=[];for(const i of t){const[t,s]=St(i.event,e);let r=!1;for(const e of n)if(yt(t,s,e.start,e.end)){e.visuals.push(i),e.end=Math.max(e.end,s),r=!0;break}r||n.push({start:t,end:s,visuals:[i]})}return n}function Ft(t,e){const[n,i]=St(t.event,e);return{parent:null,sibling:!0,index:0,visual:t,start:n,end:i,children:[]}}function Rt(t){let e=t.index;for(const n of t.children){const t=Rt(n);t>e&&(e=t)}return e}function Vt(t,e){const n=t%100,i=n+e,s=Math.floor(i/60),r=i%60;return t-n+100*s+r}const Bt=100,jt=(t,e,n)=>{const i=xt(e);return(t,e,n,s)=>{const r=i.getVisuals(t,e,n,s);return n&&r.forEach((t=>{t.left=t.column*Bt/t.columnCount,t.width=Bt/t.columnCount})),r}},Ut={stack:kt,column:jt};var qt={base:{start:{type:[String,Number,Date],validate:B,default:()=>U(new Date).date},end:{type:[String,Number,Date],validate:B},weekdays:{type:[Array,String],default:()=>[0,1,2,3,4,5,6],validate:Ht},hideHeader:{type:Boolean},shortWeekdays:{type:Boolean,default:!0},weekdayFormat:{type:Function,default:null},dayFormat:{type:Function,default:null}},intervals:{maxDays:{type:Number,default:7},shortIntervals:{type:Boolean,default:!0},intervalHeight:{type:[Number,String],default:48,validate:zt},intervalWidth:{type:[Number,String],default:60,validate:zt},intervalMinutes:{type:[Number,String],default:60,validate:zt},firstInterval:{type:[Number,String],default:0,validate:zt},firstTime:{type:[Number,String,Object],validate:R},intervalCount:{type:[Number,String],default:24,validate:zt},intervalFormat:{type:Function,default:null},intervalStyle:{type:Function,default:null},showIntervalLabel:{type:Function,default:null}},weeks:{localeFirstDayOfYear:{type:[String,Number],default:0},minWeeks:{validate:zt,default:1},shortMonths:{type:Boolean,default:!0},showMonthOnFirst:{type:Boolean,default:!0},showWeek:Boolean,monthFormat:{type:Function,default:null}},calendar:{type:{type:String,default:"month"},value:{type:[String,Number,Date],validate:B}},category:{categories:{type:[Array,String],default:""},categoryText:{type:[String,Function]},categoryHideDynamic:{type:Boolean},categoryShowAll:{type:Boolean},categoryForInvalid:{type:String,default:""},categoryDays:{type:[Number,String],default:1,validate:t=>isFinite(parseInt(t))&&parseInt(t)>0}},events:{events:{type:Array,default:()=>[]},eventStart:{type:String,default:"start"},eventEnd:{type:String,default:"end"},eventTimed:{type:[String,Function],default:"timed"},eventCategory:{type:[String,Function],default:"category"},eventHeight:{type:Number,default:20},eventColor:{type:[String,Function],default:"primary"},eventTextColor:{type:[String,Function],default:"white"},eventName:{type:[String,Function],default:"name"},eventOverlapThreshold:{type:[String,Number],default:60},eventOverlapMode:{type:[String,Function],default:"stack",validate:t=>t in Ut||"function"===typeof t},eventMore:{type:Boolean,default:!0},eventMoreText:{type:String,default:"$vuetify.calendar.moreEvents"},eventRipple:{type:[Boolean,Object],default:null},eventMarginBottom:{type:Number,default:1}}};function zt(t){return isFinite(parseInt(t))}function Ht(t){if("string"===typeof t&&(t=t.split(",")),Array.isArray(t)){const e=t.map((t=>parseInt(t)));if(e.length>C||0===e.length)return!1;const n={};let i=!1;for(let t=0;t<e.length;t++){const s=e[t];if(!isFinite(s)||s<0||s>=C)return!1;if(t>0){const n=s-e[t-1];if(n<0){if(i)return!1;i=!0}else if(0===n)return!1}if(n[s])return!1;n[s]=!0}return!0}return!1}var Zt=(0,s.Z)(r.Z,a,c,l.Z,pt).extend({name:"calendar-base",directives:{Resize:mt.Z},props:qt.base,computed:{parsedWeekdays(){return Array.isArray(this.weekdays)?this.weekdays:(this.weekdays||"").split(",").map((t=>parseInt(t,10)))},weekdaySkips(){return lt(this.parsedWeekdays)},weekdaySkipsReverse(){const t=this.weekdaySkips.slice();return t.reverse(),t},parsedStart(){return j(this.start,!0)},parsedEnd(){const t=this.parsedStart,e=this.end&&j(this.end)||t;return H(e)<H(t)?t:e},days(){return ht(this.parsedStart,this.parsedEnd,this.times.today,this.weekdaySkips)},dayFormatter(){if(this.dayFormat)return this.dayFormat;const t={timeZone:"UTC",day:"numeric"};return ft(this.currentLocale,((e,n)=>t))},weekdayFormatter(){if(this.weekdayFormat)return this.weekdayFormat;const t={timeZone:"UTC",weekday:"long"},e={timeZone:"UTC",weekday:"short"};return ft(this.currentLocale,((n,i)=>i?e:t))}},methods:{getRelativeClasses(t,e=!1){return{"v-present":t.present,"v-past":t.past,"v-future":t.future,"v-outside":e}},getStartOfWeek(t){return $(t,this.parsedWeekdays,this.times.today)},getEndOfWeek(t){return M(t,this.parsedWeekdays,this.times.today)},getFormatter(t){return ft(this.locale,((e,n)=>t))}}}),Wt=n(4589);function Kt(t,e,n,i,s=!1,r=!1){const o=t[n],a=t[i],c=j(o,!0),l=a?j(a,!0):c,u=W(o)?K(c,s):c,h=W(a)?K(l,s):l,d=q(u),f=H(u),p=q(h),m=u.hasTime?0:2359,g=H(h)+m,v=!u.hasTime;return{input:t,start:u,startIdentifier:d,startTimestampIdentifier:f,end:h,endIdentifier:p,endTimestampIdentifier:g,allDay:v,index:e,category:r}}function Gt(t,e){return e>=t.startIdentifier&&e<=t.endIdentifier}function Qt(t,e){return"00:00"===t.end.time&&t.end.date===e.date&&t.start.date!==e.date}function Yt(t,e,n,i){return n===t.startIdentifier||i===e.weekday&&Gt(t,n)}function Xt(t,e,n){return e<=t.endIdentifier&&n>=t.startIdentifier}const Jt=100,te=95,ee=1440;var ne=Zt.extend({name:"calendar-with-events",directives:{ripple:i.Z},props:{...qt.events,...qt.calendar,...qt.category},computed:{noEvents(){return 0===this.events.length},parsedEvents(){return this.events.map(this.parseEvent)},parsedEventOverlapThreshold(){return parseInt(this.eventOverlapThreshold)},eventTimedFunction(){return"function"===typeof this.eventTimed?this.eventTimed:t=>!!t[this.eventTimed]},eventCategoryFunction(){return"function"===typeof this.eventCategory?this.eventCategory:t=>t[this.eventCategory]},eventTextColorFunction(){return"function"===typeof this.eventTextColor?this.eventTextColor:()=>this.eventTextColor},eventNameFunction(){return"function"===typeof this.eventName?this.eventName:(t,e)=>(0,Wt.r)(t.input[this.eventName]||"")},eventModeFunction(){return"function"===typeof this.eventOverlapMode?this.eventOverlapMode:Ut[this.eventOverlapMode]},eventWeekdays(){return this.parsedWeekdays},categoryMode(){return"category"===this.type}},methods:{eventColorFunction(t){return"function"===typeof this.eventColor?this.eventColor(t):t.color||this.eventColor},parseEvent(t,e=0){return Kt(t,e,this.eventStart,this.eventEnd,this.eventTimedFunction(t),!!this.categoryMode&&this.eventCategoryFunction(t))},formatTime(t,e){const n=this.getFormatter({timeZone:"UTC",hour:"numeric",minute:t.minute>0?"numeric":void 0});return n(t,!0)},updateEventVisibility(){if(this.noEvents||!this.eventMore)return;const t=this.eventHeight,e=this.getEventsMap();for(const n in e){const{parent:i,events:s,more:r}=e[n];if(!r)break;const o=i.getBoundingClientRect(),a=s.length-1,c=s.map((t=>({event:t,bottom:t.getBoundingClientRect().bottom}))).sort(((t,e)=>t.bottom-e.bottom));let l=0;for(let e=0;e<=a;e++){const n=c[e].bottom,i=e===a?n>o.bottom:n+t>o.bottom;i&&(c[e].event.style.display="none",l++)}l?(r.style.display="",r.innerHTML=this.$vuetify.lang.t(this.eventMoreText,l)):r.style.display="none"}},getEventsMap(){const t={},e=this.$refs.events;return e&&e.forEach?(e.forEach((e=>{const n=e.getAttribute("data-date");e.parentElement&&n&&(n in t||(t[n]={parent:e.parentElement,more:null,events:[]}),e.getAttribute("data-more")?t[n].more=e:(t[n].events.push(e),e.style.display=""))})),t):t},genDayEvent({event:t},e){const n=this.eventHeight,i=this.eventMarginBottom,s=q(e),r=e.week,o=s===t.startIdentifier;let a=s===t.endIdentifier,c=te;if(!this.categoryMode)for(let u=e.index+1;u<r.length;u++){const e=q(r[u]);if(!(t.endIdentifier>=e)){a=!0;break}c+=Jt,a=a||e===t.endIdentifier}const l={eventParsed:t,day:e,start:o,end:a,timed:!1};return this.genEvent(t,l,!1,{staticClass:"v-event",class:{"v-event-start":o,"v-event-end":a},style:{height:`${n}px`,width:`${c}%`,"margin-bottom":`${i}px`},attrs:{"data-date":e.date},key:t.index,ref:"events",refInFor:!0})},genTimedEvent({event:t,left:e,width:n},i){if(i.timeDelta(t.end)<0||i.timeDelta(t.start)>=1||Qt(t,i))return!1;const s=q(i),r=t.startIdentifier>=s,o=t.endIdentifier>s,a=r?i.timeToY(t.start):0,c=o?i.timeToY(ee):i.timeToY(t.end),l=Math.max(this.eventHeight,c-a),u={eventParsed:t,day:i,start:r,end:o,timed:!0};return this.genEvent(t,u,!0,{staticClass:"v-event-timed",style:{top:`${a}px`,height:`${l}px`,left:`${e}%`,width:`${n}%`}})},genEvent(t,e,n,i){var s;const r=this.$scopedSlots.event,o=this.eventTextColorFunction(t.input),a=this.eventColorFunction(t.input),c=t.start.hour<12&&t.end.hour>=12,l=at(t.start,t.end)<=this.parsedEventOverlapThreshold,u=this.formatTime,h=()=>u(t.start,c)+" - "+u(t.end,!0),d=()=>{const e=this.eventNameFunction(t,n);if(t.start.hasTime){const i="v-event-summary";if(n){const t=h(),n=l?", ":"<br>";return`<span class="${i}"><strong>${e}</strong>${n}${t}</span>`}{const n=u(t.start,!0);return`<span class="${i}"><strong>${n}</strong> ${e}</span>`}}return e},f={...e,event:t.input,outside:e.day.outside,singline:l,overlapsNoon:c,formatTime:u,timeSummary:h,eventSummary:d};return this.$createElement("div",this.setTextColor(o,this.setBackgroundColor(a,{on:this.getDefaultMouseEventHandlers(":event",(t=>({...f,nativeEvent:t}))),directives:[{name:"ripple",value:null==(s=this.eventRipple)||s}],...i})),r?r(f):[this.genName(d)])},genName(t){return this.$createElement("div",{staticClass:"pl-1",domProps:{innerHTML:t()}})},genPlaceholder(t){const e=this.eventHeight+this.eventMarginBottom;return this.$createElement("div",{style:{height:`${e}px`},attrs:{"data-date":t.date},ref:"events",refInFor:!0})},genMore(t){var e;const n=this.eventHeight,i=this.eventMarginBottom;return this.$createElement("div",{staticClass:"v-event-more pl-1",class:{"v-outside":t.outside},attrs:{"data-date":t.date,"data-more":1},directives:[{name:"ripple",value:null==(e=this.eventRipple)||e}],on:this.getDefaultMouseEventHandlers(":more",(e=>({nativeEvent:e,...t}))),style:{display:"none",height:`${n}px`,"margin-bottom":`${i}px`},ref:"events",refInFor:!0})},getVisibleEvents(){const t=q(this.days[0]),e=q(this.days[this.days.length-1]);return this.parsedEvents.filter((n=>Xt(n,t,e)))},isEventForCategory(t,e){return!this.categoryMode||"object"===typeof e&&e.categoryName&&e.categoryName===t.category||"string"===typeof t.category&&e===t.category||"string"!==typeof t.category&&null===e},getEventsForDay(t){const e=q(t),n=this.eventWeekdays[0];return this.parsedEvents.filter((i=>Yt(i,t,e,n)))},getEventsForDayAll(t){const e=q(t),n=this.eventWeekdays[0];return this.parsedEvents.filter((i=>i.allDay&&(this.categoryMode?Gt(i,e):Yt(i,t,e,n))&&this.isEventForCategory(i,t.category)))},getEventsForDayTimed(t){const e=q(t);return this.parsedEvents.filter((n=>!n.allDay&&Gt(n,e)&&this.isEventForCategory(n,t.category)))},getScopedSlots(){if(this.noEvents)return{...this.$scopedSlots};const t=this.eventModeFunction(this.parsedEvents,this.eventWeekdays[0],this.parsedEventOverlapThreshold),e=t=>!!t,n=(n,i,s,r)=>{const o=i(n),a=t(n,o,r,this.categoryMode);if(r)return a.map((t=>s(t,n))).filter(e);const c=[];return a.forEach(((t,e)=>{while(c.length<t.column)c.push(this.genPlaceholder(n));const i=s(t,n);i&&c.push(i)})),c},i=this.$scopedSlots,s=i.day,r=i["day-header"],o=i["day-body"];return{...i,day:t=>{let e=n(t,this.getEventsForDay,this.genDayEvent,!1);if(e&&e.length>0&&this.eventMore&&e.push(this.genMore(t)),s){const n=s(t);n&&(e=e?e.concat(n):n)}return e},"day-header":t=>{let e=n(t,this.getEventsForDayAll,this.genDayEvent,!1);if(r){const n=r(t);n&&(e=e?e.concat(n):n)}return e},"day-body":t=>{const e=n(t,this.getEventsForDayTimed,this.genTimedEvent,!0);let i=[this.$createElement("div",{staticClass:"v-event-timed-container"},e)];if(o){const e=o(t);e&&(i=i.concat(e))}return i}}}}}),ie=n(680),se=ie.Z,re=Zt.extend({name:"v-calendar-weekly",props:qt.weeks,computed:{staticClass(){return"v-calendar-weekly"},classes(){return this.themeClasses},parsedMinWeeks(){return parseInt(this.minWeeks)},days(){const t=this.parsedMinWeeks*this.parsedWeekdays.length,e=this.getStartOfWeek(this.parsedStart),n=this.getEndOfWeek(this.parsedEnd);return ht(e,n,this.times.today,this.weekdaySkips,Number.MAX_SAFE_INTEGER,t)},todayWeek(){const t=this.times.today,e=this.getStartOfWeek(t),n=this.getEndOfWeek(t);return ht(e,n,t,this.weekdaySkips,this.parsedWeekdays.length,this.parsedWeekdays.length)},monthFormatter(){if(this.monthFormat)return this.monthFormat;const t={timeZone:"UTC",month:"long"},e={timeZone:"UTC",month:"short"};return ft(this.currentLocale,((n,i)=>i?e:t))}},methods:{isOutside(t){const e=q(t);return e<q(this.parsedStart)||e>q(this.parsedEnd)},genHead(){return this.$createElement("div",{staticClass:"v-calendar-weekly__head"},this.genHeadDays())},genHeadDays(){const t=this.todayWeek.map(this.genHeadDay);return this.showWeek&&t.unshift(this.$createElement("div",{staticClass:"v-calendar-weekly__head-weeknumber"})),t},genHeadDay(t,e){const n=this.isOutside(this.days[e]),i=t.present?this.color:void 0;return this.$createElement("div",this.setTextColor(i,{key:t.date,staticClass:"v-calendar-weekly__head-weekday",class:this.getRelativeClasses(t,n)}),this.weekdayFormatter(t,this.shortWeekdays))},genWeeks(){const t=this.days,e=this.parsedWeekdays.length,n=[];for(let i=0;i<t.length;i+=e)n.push(this.genWeek(t.slice(i,i+e),this.getWeekNumber(t[i])));return n},genWeek(t,e){const n=t.map(((e,n)=>this.genDay(e,n,t)));return this.showWeek&&n.unshift(this.genWeekNumber(e)),this.$createElement("div",{key:t[0].date,staticClass:"v-calendar-weekly__week"},n)},getWeekNumber(t){return p(t.year,t.month-1,t.day,this.parsedWeekdays[0],parseInt(this.localeFirstDayOfYear))},genWeekNumber(t){return this.$createElement("div",{staticClass:"v-calendar-weekly__weeknumber"},[this.$createElement("small",String(t))])},genDay(t,e,n){const i=this.isOutside(t);return this.$createElement("div",{key:t.date,staticClass:"v-calendar-weekly__day",class:this.getRelativeClasses(t,i),on:this.getDefaultMouseEventHandlers(":day",(e=>({nativeEvent:e,...t})))},[this.genDayLabel(t),...(0,Wt.z9)(this,"day",(()=>({outside:i,index:e,week:n,...t})))||[]])},genDayLabel(t){return this.$createElement("div",{staticClass:"v-calendar-weekly__day-label"},(0,Wt.z9)(this,"day-label",t)||[this.genDayLabelButton(t)])},genDayLabelButton(t){const e=t.present?this.color:"transparent",n=1===t.day&&this.showMonthOnFirst;return this.$createElement(se,{props:{color:e,fab:!0,depressed:!0,small:!0},on:this.getMouseEventHandlers({"click:date":{event:"click",stop:!0},"contextmenu:date":{event:"contextmenu",stop:!0,prevent:!0,result:!1}},(e=>({nativeEvent:e,...t})))},n?this.monthFormatter(t,this.shortMonths)+" "+this.dayFormatter(t,!1):this.dayFormatter(t,!1))},genDayMonth(t){const e=t.present?this.color:void 0;return this.$createElement("div",this.setTextColor(e,{staticClass:"v-calendar-weekly__day-month"}),(0,Wt.z9)(this,"day-month",t)||this.monthFormatter(t,this.shortMonths))}},render(t){return t("div",{staticClass:this.staticClass,class:this.classes,on:{dragstart:t=>{t.preventDefault()}}},[this.hideHeader?"":this.genHead(),...this.genWeeks()])}}),oe=re.extend({name:"v-calendar-monthly",computed:{staticClass(){return"v-calendar-monthly v-calendar-weekly"},parsedStart(){return P(j(this.start,!0))},parsedEnd(){return F(j(this.end,!0))}}}),ae=Zt.extend({name:"calendar-with-intervals",props:qt.intervals,computed:{parsedFirstInterval(){return parseInt(this.firstInterval)},parsedIntervalMinutes(){return parseInt(this.intervalMinutes)},parsedIntervalCount(){return parseInt(this.intervalCount)},parsedIntervalHeight(){return parseFloat(this.intervalHeight)},parsedFirstTime(){return V(this.firstTime)},firstMinute(){const t=this.parsedFirstTime;return!1!==t&&t>=0&&t<=k?t:this.parsedFirstInterval*this.parsedIntervalMinutes},bodyHeight(){return this.parsedIntervalCount*this.parsedIntervalHeight},days(){return ht(this.parsedStart,this.parsedEnd,this.times.today,this.weekdaySkips,this.maxDays)},intervals(){const t=this.days,e=this.firstMinute,n=this.parsedIntervalMinutes,i=this.parsedIntervalCount,s=this.times.now;return t.map((t=>dt(t,e,n,i,s)))},intervalFormatter(){if(this.intervalFormat)return this.intervalFormat;const t={timeZone:"UTC",hour:"2-digit",minute:"2-digit"},e={timeZone:"UTC",hour:"numeric",minute:"2-digit"},n={timeZone:"UTC",hour:"numeric"};return ft(this.currentLocale,((i,s)=>s?0===i.minute?n:e:t))}},methods:{showIntervalLabelDefault(t){const e=this.intervals[0][0],n=e.hour===t.hour&&e.minute===t.minute;return!n},intervalStyleDefault(t){},getTimestampAtEvent(t,e){const n=tt(e),i=t.currentTarget.getBoundingClientRect(),s=this.firstMinute,r=t,o=t,a=r.changedTouches||r.touches,c=a&&a[0]?a[0].clientY:o.clientY,l=(c-i.top)/this.parsedIntervalHeight,u=Math.floor(l*this.parsedIntervalMinutes),h=s+u;return G(n,h,this.times.now)},getSlotScope(t){const e=tt(t);return e.timeToY=this.timeToY,e.timeDelta=this.timeDelta,e.minutesToPixels=this.minutesToPixels,e.week=this.days,e},scrollToTime(t){const e=this.timeToY(t),n=this.$refs.scrollArea;return!(!1===e||!n)&&(n.scrollTop=e,!0)},minutesToPixels(t){return t/this.parsedIntervalMinutes*this.parsedIntervalHeight},timeToY(t,e=!0){let n=this.timeDelta(t);return!1!==n&&(n*=this.bodyHeight,e&&(n<0&&(n=0),n>this.bodyHeight&&(n=this.bodyHeight))),n},timeDelta(t){const e=V(t);if(!1===e)return!1;const n=this.firstMinute,i=this.parsedIntervalCount*this.parsedIntervalMinutes;return(e-n)/i}}}),ce=ae.extend({name:"v-calendar-daily",directives:{Resize:mt.Z},data:()=>({scrollPush:0}),computed:{classes(){return{"v-calendar-daily":!0,...this.themeClasses}}},mounted(){this.init()},methods:{init(){this.$nextTick(this.onResize)},onResize(){this.scrollPush=this.getScrollPush()},getScrollPush(){const t=this.$refs.scrollArea,e=this.$refs.pane;return t&&e?t.offsetWidth-e.offsetWidth:0},genHead(){return this.$createElement("div",{staticClass:"v-calendar-daily__head",style:{marginRight:this.scrollPush+"px"}},[this.genHeadIntervals(),...this.genHeadDays()])},genHeadIntervals(){const t=(0,Wt.kb)(this.intervalWidth);return this.$createElement("div",{staticClass:"v-calendar-daily__intervals-head",style:{width:t}},(0,Wt.z9)(this,"interval-header"))},genHeadDays(){return this.days.map(this.genHeadDay)},genHeadDay(t,e){return this.$createElement("div",{key:t.date,staticClass:"v-calendar-daily_head-day",class:this.getRelativeClasses(t),on:this.getDefaultMouseEventHandlers(":day",(e=>({nativeEvent:e,...this.getSlotScope(t)})))},[this.genHeadWeekday(t),this.genHeadDayLabel(t),...this.genDayHeader(t,e)])},genDayHeader(t,e){return(0,Wt.z9)(this,"day-header",(()=>({week:this.days,...t,index:e})))||[]},genHeadWeekday(t){const e=t.present?this.color:void 0;return this.$createElement("div",this.setTextColor(e,{staticClass:"v-calendar-daily_head-weekday"}),this.weekdayFormatter(t,this.shortWeekdays))},genHeadDayLabel(t){return this.$createElement("div",{staticClass:"v-calendar-daily_head-day-label"},(0,Wt.z9)(this,"day-label-header",t)||[this.genHeadDayButton(t)])},genHeadDayButton(t){const e=t.present?this.color:"transparent";return this.$createElement(se,{props:{color:e,fab:!0,depressed:!0},on:this.getMouseEventHandlers({"click:date":{event:"click",stop:!0},"contextmenu:date":{event:"contextmenu",stop:!0,prevent:!0,result:!1}},(e=>({nativeEvent:e,...t})))},this.dayFormatter(t,!1))},genBody(){return this.$createElement("div",{staticClass:"v-calendar-daily__body"},[this.genScrollArea()])},genScrollArea(){return this.$createElement("div",{ref:"scrollArea",staticClass:"v-calendar-daily__scroll-area"},[this.genPane()])},genPane(){return this.$createElement("div",{ref:"pane",staticClass:"v-calendar-daily__pane",style:{height:(0,Wt.kb)(this.bodyHeight)}},[this.genDayContainer()])},genDayContainer(){return this.$createElement("div",{staticClass:"v-calendar-daily__day-container"},[this.genBodyIntervals(),...this.genDays()])},genDays(){return this.days.map(this.genDay)},genDay(t,e){return this.$createElement("div",{key:t.date,staticClass:"v-calendar-daily__day",class:this.getRelativeClasses(t),on:this.getDefaultMouseEventHandlers(":time",(e=>({nativeEvent:e,...this.getSlotScope(this.getTimestampAtEvent(e,t))})))},[...this.genDayIntervals(e),...this.genDayBody(t)])},genDayBody(t){return(0,Wt.z9)(this,"day-body",(()=>this.getSlotScope(t)))||[]},genDayIntervals(t){return this.intervals[t].map(this.genDayInterval)},genDayInterval(t){const e=(0,Wt.kb)(this.intervalHeight),n=this.intervalStyle||this.intervalStyleDefault,i={key:t.time,staticClass:"v-calendar-daily__day-interval",style:{height:e,...n(t)}},s=(0,Wt.z9)(this,"interval",(()=>this.getSlotScope(t)));return this.$createElement("div",i,s)},genBodyIntervals(){const t=(0,Wt.kb)(this.intervalWidth),e={staticClass:"v-calendar-daily__intervals-body",style:{width:t},on:this.getDefaultMouseEventHandlers(":interval",(t=>({nativeEvent:t,...this.getTimestampAtEvent(t,this.parsedStart)})))};return this.$createElement("div",e,this.genIntervalLabels())},genIntervalLabels(){return this.intervals.length?this.intervals[0].map(this.genIntervalLabel):null},genIntervalLabel(t){const e=(0,Wt.kb)(this.intervalHeight),n=this.shortIntervals,i=this.showIntervalLabel||this.showIntervalLabelDefault,s=i(t),r=s?this.intervalFormatter(t,n):void 0;return this.$createElement("div",{key:t.time,staticClass:"v-calendar-daily__interval",style:{height:e}},[this.$createElement("div",{staticClass:"v-calendar-daily__interval-text"},r)])}},render(t){return t("div",{class:this.classes,on:{dragstart:t=>{t.preventDefault()}},directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}]},[this.hideHeader?"":this.genHead(),this.genBody()])}});function le(t,e){return"string"===typeof e&&"object"===typeof t&&t?t[e]:"function"===typeof e?e(t):t}function ue(t,e){return"string"===typeof t?t.split(/\s*,\s/):Array.isArray(t)?t.map((t=>{if("string"===typeof t)return t;const n="string"===typeof t.categoryName?t.categoryName:le(t,e);return{...t,categoryName:n}})):[]}var he=ce.extend({name:"v-calendar-category",props:qt.category,computed:{classes(){return{"v-calendar-daily":!0,"v-calendar-category":!0,...this.themeClasses}},parsedCategories(){return ue(this.categories,this.categoryText)}},methods:{genDayHeader(t,e){const n={staticClass:"v-calendar-category__columns"},i={week:this.days,...t,index:e},s=this.parsedCategories.map((e=>this.genDayHeaderCategory(t,this.getCategoryScope(i,e))));return[this.$createElement("div",n,s)]},getCategoryScope(t,e){const n="object"===typeof e&&e&&e.categoryName===this.categoryForInvalid?null:e;return{...t,category:n}},genDayHeaderCategory(t,e){const n="object"===typeof e.category?e.category.categoryName:e.category;return this.$createElement("div",{staticClass:"v-calendar-category__column-header",on:this.getDefaultMouseEventHandlers(":day-category",(n=>this.getCategoryScope(this.getSlotScope(t),e.category)))},[(0,Wt.z9)(this,"category",e)||this.genDayHeaderCategoryTitle(n),(0,Wt.z9)(this,"day-header",e)])},genDayHeaderCategoryTitle(t){return this.$createElement("div",{staticClass:"v-calendar-category__category"},null===t?this.categoryForInvalid:t)},genDays(){const t=[];return this.days.forEach(((e,n)=>{const i=new Array(this.parsedCategories.length||1);i.fill(e),t.push(...i.map(((t,e)=>this.genDay(t,n,e))))})),t},genDay(t,e,n){const i=this.parsedCategories[n];return this.$createElement("div",{key:t.date+"-"+n,staticClass:"v-calendar-daily__day",class:this.getRelativeClasses(t),on:this.getDefaultMouseEventHandlers(":time",(e=>this.getSlotScope(this.getTimestampAtEvent(e,t))))},[...this.genDayIntervals(e,i),...this.genDayBody(t,i)])},genDayIntervals(t,e){return this.intervals[t].map((t=>this.genDayInterval(t,e)))},genDayInterval(t,e){const n=(0,Wt.kb)(this.intervalHeight),i=this.intervalStyle||this.intervalStyleDefault,s={key:t.time,staticClass:"v-calendar-daily__day-interval",style:{height:n,...i({...t,category:e})}},r=(0,Wt.z9)(this,"interval",(()=>this.getCategoryScope(this.getSlotScope(t),e)));return this.$createElement("div",s,r)},genDayBody(t,e){const n={staticClass:"v-calendar-category__columns"},i=[this.genDayBodyCategory(t,e)];return[this.$createElement("div",n,i)]},genDayBodyCategory(t,e){const n={staticClass:"v-calendar-category__column",on:this.getDefaultMouseEventHandlers(":time-category",(n=>this.getCategoryScope(this.getSlotScope(this.getTimestampAtEvent(n,t)),e)))},i=(0,Wt.z9)(this,"day-body",(()=>this.getCategoryScope(this.getSlotScope(t),e)));return this.$createElement("div",n,i)}}}),de=ne.extend({name:"v-calendar",props:{...qt.calendar,...qt.weeks,...qt.intervals,...qt.category},data:()=>({lastStart:null,lastEnd:null}),computed:{parsedValue(){return B(this.value)?j(this.value,!0):this.parsedStart||this.times.today},parsedCategoryDays(){return parseInt(this.categoryDays)||1},renderProps(){const t=this.parsedValue;let e=null,n=this.maxDays,i=this.parsedWeekdays,s=this.parsedCategories,r=t,o=t;switch(this.type){case"month":e=oe,r=P(t),o=F(t);break;case"week":e=ce,r=this.getStartOfWeek(t),o=this.getEndOfWeek(t),n=7;break;case"day":e=ce,n=1,i=[r.weekday];break;case"4day":e=ce,o=ot(tt(o),st,3),Y(o),n=4,i=[r.weekday,(r.weekday+1)%7,(r.weekday+2)%7,(r.weekday+3)%7];break;case"custom-weekly":e=re,r=this.parsedStart||t,o=this.parsedEnd;break;case"custom-daily":e=ce,r=this.parsedStart||t,o=this.parsedEnd;break;case"category":const a=this.parsedCategoryDays;e=he,o=ot(tt(o),st,a),Y(o),n=a,i=[];for(let t=0;t<a;t++)i.push((r.weekday+t)%7);s=this.getCategoryList(s);break;default:throw new Error(this.type+" is not a valid Calendar type")}return{component:e,start:r,end:o,maxDays:n,weekdays:i,categories:s}},eventWeekdays(){return this.renderProps.weekdays},categoryMode(){return"category"===this.type},title(){const{start:t,end:e}=this.renderProps,n=t.year!==e.year,i=n||t.month!==e.month;return n?this.monthShortFormatter(t,!0)+" "+t.year+" - "+this.monthShortFormatter(e,!0)+" "+e.year:i?this.monthShortFormatter(t,!0)+" - "+this.monthShortFormatter(e,!0)+" "+e.year:this.monthLongFormatter(t,!1)+" "+t.year},monthLongFormatter(){return this.getFormatter({timeZone:"UTC",month:"long"})},monthShortFormatter(){return this.getFormatter({timeZone:"UTC",month:"short"})},parsedCategories(){return ue(this.categories,this.categoryText)}},watch:{renderProps:"checkChange"},mounted(){this.updateEventVisibility(),this.checkChange()},updated(){window.requestAnimationFrame(this.updateEventVisibility)},methods:{checkChange(){const{lastStart:t,lastEnd:e}=this,{start:n,end:i}=this.renderProps;t&&e&&n.date===t.date&&i.date===e.date||(this.lastStart=n,this.lastEnd=i,this.$emit("change",{start:n,end:i}))},move(t=1){const e=tt(this.parsedValue),n=t>0,i=n?st:rt,s=n?_:x;let r=n?t:-t;while(--r>=0)switch(this.type){case"month":e.day=s,i(e);break;case"week":ot(e,i,C);break;case"day":ot(e,i,1);break;case"4day":ot(e,i,4);break;case"category":ot(e,i,this.parsedCategoryDays);break}Q(e),Y(e),Z(e,this.times.now),this.value instanceof Date?this.$emit("input",ut(e)):"number"===typeof this.value?this.$emit("input",ut(e).getTime()):this.$emit("input",e.date),this.$emit("moved",e)},next(t=1){this.move(t)},prev(t=1){this.move(-t)},timeToY(t,e=!0){const n=this.$children[0];return!(!n||!n.timeToY)&&n.timeToY(t,e)},timeDelta(t){const e=this.$children[0];return!(!e||!e.timeDelta)&&e.timeDelta(t)},minutesToPixels(t){const e=this.$children[0];return e&&e.minutesToPixels?e.minutesToPixels(t):-1},scrollToTime(t){const e=this.$children[0];return!(!e||!e.scrollToTime)&&e.scrollToTime(t)},parseTimestamp(t,e){return j(t,e,this.times.now)},timestampToDate(t){return ut(t)},getCategoryList(t){if(!this.noEvents){const e=t.reduce(((t,e,n)=>("object"===typeof e&&e.categoryName?t[e.categoryName]={index:n,count:0}:"string"===typeof e&&(t[e]={index:n,count:0}),t)),{});if(!this.categoryHideDynamic||!this.categoryShowAll){let n=t.length;this.parsedEvents.forEach((t=>{let i=t.category;"string"!==typeof i&&(i=this.categoryForInvalid),i&&(i in e?e[i].count++:this.categoryHideDynamic||(e[i]={index:n++,count:1}))}))}if(!this.categoryShowAll)for(const t in e)0===e[t].count&&delete e[t];t=t.filter((t=>"object"===typeof t&&t.categoryName?e.hasOwnProperty(t.categoryName):"string"===typeof t&&e.hasOwnProperty(t)))}return t}},render(t){const{start:e,end:n,maxDays:i,component:s,weekdays:r,categories:o}=this.renderProps;return t(s,{staticClass:"v-calendar",class:{"v-calendar-events":!this.noEvents},props:{...this.$props,start:e.date,end:n.date,maxDays:i,weekdays:r,categories:o},directives:[{modifiers:{quiet:!0},name:"resize",value:this.updateEventVisibility}],on:{...this.$listeners,"click:date":(t,e)=>{this.$listeners.input&&this.$emit("input",t.date),this.$listeners["click:date"]&&this.$emit("click:date",t,e)}},scopedSlots:this.getScopedSlots()})}})},3237:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var i=n(5648),s=n(1226),r=n(6505),o=n(3325),a=(0,o.Z)(s.Z,r.Z,i.Z).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes(){return{"v-card":!0,...r.Z.options.computed.classes.call(this),"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised,...i.Z.options.computed.classes.call(this)}},styles(){const t={...i.Z.options.computed.styles.call(this)};return this.img&&(t.background=`url("${this.img}") center center / cover no-repeat`),t}},methods:{genProgress(){const t=s.Z.options.methods.genProgress.call(this);return t?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[t]):null}},render(t){const{tag:e,data:n}=this.generateRouteLink();return n.style=this.styles,this.isClickable&&(n.attrs=n.attrs||{},n.attrs.tabindex=0),t(e,this.setBackgroundColor(this.color,n),[this.genProgress(),this.$slots.default])}})},7118:function(t,e,n){"use strict";n.d(e,{h7:function(){return r},ZB:function(){return a}});var i=n(3237),s=n(4589);const r=(0,s.Ji)("v-card__actions"),o=(0,s.Ji)("v-card__subtitle"),a=(0,s.Ji)("v-card__text"),c=(0,s.Ji)("v-card__title");i.Z},9362:function(t,e,n){"use strict";n.d(e,{Z:function(){return d}});var i=n(172),s=n(8230),r=n(6286),o=n(144),a=o.Z.extend({name:"rippleable",directives:{ripple:r.Z},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple(t={}){return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",t)):null}}}),c=n(4419),l=n(3325);function u(t){t.preventDefault()}var h=(0,l.Z)(s.Z,a,c.Z).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive(){const t=this.value,e=this.internalValue;return this.isMultiple?!!Array.isArray(e)&&e.some((e=>this.valueComparator(e,t))):void 0===this.trueValue||void 0===this.falseValue?t?this.valueComparator(t,e):Boolean(e):this.valueComparator(e,this.trueValue)},isDirty(){return this.isActive},rippleState(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel(){const t=s.Z.options.methods.genLabel.call(this);return t?(t.data.on={click:u},t):t},genInput(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:u},ref:"input"})},onBlur(){this.isFocused=!1},onClick(t){this.onChange(),this.$emit("click",t)},onChange(){if(!this.isInteractive)return;const t=this.value;let e=this.internalValue;if(this.isMultiple){Array.isArray(e)||(e=[]);const n=e.length;e=e.filter((e=>!this.valueComparator(e,t))),e.length===n&&e.push(t)}else e=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(e,this.trueValue)?this.falseValue:this.trueValue:t?this.valueComparator(e,t)?null:t:!e;this.validate(!0,e),this.internalValue=e,this.hasColor=e},onFocus(){this.isFocused=!0},onKeydown(t){}}}),d=h.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data(){return{inputIndeterminate:this.indeterminate}},computed:{classes(){return{...s.Z.options.computed.classes.call(this),"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate}},computedIcon(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate(t){this.$nextTick((()=>this.inputIndeterminate=t))},inputIndeterminate(t){this.$emit("update:indeterminate",t)},isActive(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox(){const{title:t,...e}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(i.Z,this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",{...e,"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()}),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot(){return[this.genCheckbox(),this.genLabel()]}}})},7336:function(t,e,n){"use strict";n.d(e,{Z:function(){return _}});var i=n(3242),s=n(5795),r=n(5907),o=n(3944),a=n(6952),c=n(8085),l=n(2936),u=n(3325),h=(0,u.Z)(a.Z,c.Z,l.Z).extend({name:"v-overlay",props:{absolute:Boolean,color:{type:String,default:"#212121"},dark:{type:Boolean,default:!0},opacity:{type:[Number,String],default:.46},value:{default:!0},zIndex:{type:[Number,String],default:5}},computed:{__scrim(){const t=this.setBackgroundColor(this.color,{staticClass:"v-overlay__scrim",style:{opacity:this.computedOpacity}});return this.$createElement("div",t)},classes(){return{"v-overlay--absolute":this.absolute,"v-overlay--active":this.isActive,...this.themeClasses}},computedOpacity(){return Number(this.isActive?this.opacity:0)},styles(){return{zIndex:this.zIndex}}},methods:{genContent(){return this.$createElement("div",{staticClass:"v-overlay__content"},this.$slots.default)}},render(t){const e=[this.__scrim];return this.isActive&&e.push(this.genContent()),t("div",{staticClass:"v-overlay",on:this.$listeners,class:this.classes,style:this.styles},e)}}),d=h,f=n(4589),p=n(144),m=p.Z.extend().extend({name:"overlayable",props:{hideOverlay:Boolean,overlayColor:String,overlayOpacity:[Number,String]},data(){return{animationFrame:0,overlay:null}},watch:{hideOverlay(t){this.isActive&&(t?this.removeOverlay():this.genOverlay())}},beforeDestroy(){this.removeOverlay()},methods:{createOverlay(){const t=new d({propsData:{absolute:this.absolute,value:!1,color:this.overlayColor,opacity:this.overlayOpacity}});t.$mount();const e=this.absolute?this.$el.parentNode:document.querySelector("[data-app]");e&&e.insertBefore(t.$el,e.firstChild),this.overlay=t},genOverlay(){if(this.hideScroll(),!this.hideOverlay)return this.overlay||this.createOverlay(),this.animationFrame=requestAnimationFrame((()=>{this.overlay&&(void 0!==this.activeZIndex?this.overlay.zIndex=String(this.activeZIndex-1):this.$el&&(this.overlay.zIndex=(0,f.KK)(this.$el)),this.overlay.value=!0)})),!0},removeOverlay(t=!0){this.overlay&&((0,f.qh)(this.overlay.$el,"transitionend",(()=>{this.overlay&&this.overlay.$el&&this.overlay.$el.parentNode&&!this.overlay.value&&!this.isActive&&(this.overlay.$el.parentNode.removeChild(this.overlay.$el),this.overlay.$destroy(),this.overlay=null)})),cancelAnimationFrame(this.animationFrame),this.overlay.value=!1),t&&this.showScroll()},scrollListener(t){if("keydown"===t.type){if(["INPUT","TEXTAREA","SELECT"].includes(t.target.tagName)||t.target.isContentEditable)return;const e=[f.Do.up,f.Do.pageup],n=[f.Do.down,f.Do.pagedown];if(e.includes(t.keyCode))t.deltaY=-1;else{if(!n.includes(t.keyCode))return;t.deltaY=1}}(t.target===this.overlay||"keydown"!==t.type&&t.target===document.body||this.checkPath(t))&&t.preventDefault()},hasScrollbar(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return(["auto","scroll"].includes(e.overflowY)||"SELECT"===t.tagName)&&t.scrollHeight>t.clientHeight||["auto","scroll"].includes(e.overflowX)&&t.scrollWidth>t.clientWidth},shouldScroll(t,e){if(t.hasAttribute("data-app"))return!1;const n=e.shiftKey||e.deltaX?"x":"y",i="y"===n?e.deltaY:e.deltaX||e.deltaY;let s,r;"y"===n?(s=0===t.scrollTop,r=t.scrollTop+t.clientHeight===t.scrollHeight):(s=0===t.scrollLeft,r=t.scrollLeft+t.clientWidth===t.scrollWidth);const o=i<0,a=i>0;return!(s||!o)||(!(r||!a)||!(!s&&!r)&&this.shouldScroll(t.parentNode,e))},isInside(t,e){return t===e||null!==t&&t!==document.body&&this.isInside(t.parentNode,e)},checkPath(t){const e=(0,f.iZ)(t);if("keydown"===t.type&&e[0]===document.body){const e=this.$refs.dialog,n=window.getSelection().anchorNode;return!(e&&this.hasScrollbar(e)&&this.isInside(n,e))||!this.shouldScroll(e,t)}for(let n=0;n<e.length;n++){const i=e[n];if(i===document)return!0;if(i===document.documentElement)return!0;if(i===this.$refs.content)return!0;if(this.hasScrollbar(i))return!this.shouldScroll(i,t)}return!0},hideScroll(){this.$vuetify.breakpoint.smAndDown?document.documentElement.classList.add("overflow-y-hidden"):((0,f.lj)(window,"wheel",this.scrollListener,{passive:!1}),window.addEventListener("keydown",this.scrollListener))},showScroll(){document.documentElement.classList.remove("overflow-y-hidden"),window.removeEventListener("wheel",this.scrollListener),window.removeEventListener("keydown",this.scrollListener)}}}),g=n(423),v=n(5703),y=n(5600),b=n(1824);const w=(0,u.Z)(s.Z,r.Z,o.Z,m,g.Z,v.Z,l.Z);var _=w.extend({name:"v-dialog",directives:{ClickOutside:y.Z},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:[String,Number],noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:[String,Number]},data(){return{activatedBy:null,animate:!1,animateTimeout:-1,isActive:!!this.value,stackMinZIndex:200,previousActiveElement:null}},computed:{classes(){return{[`v-dialog ${this.contentClass}`.trim()]:!0,"v-dialog--active":this.isActive,"v-dialog--persistent":this.persistent,"v-dialog--fullscreen":this.fullscreen,"v-dialog--scrollable":this.scrollable,"v-dialog--animated":this.animate}},contentClasses(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive(t){var e;t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),null==(e=this.previousActiveElement)||e.focus())},fullscreen(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created(){this.$attrs.hasOwnProperty("full-width")&&(0,b.Jk)("full-width",this)},beforeMount(){this.$nextTick((()=>{this.isBooted=this.isActive,this.isActive&&this.show()}))},beforeDestroy(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick(){this.animate=!1,this.$nextTick((()=>{this.animate=!0,window.clearTimeout(this.animateTimeout),this.animateTimeout=window.setTimeout((()=>this.animate=!1),150)}))},closeConditional(t){const e=t.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(e)||this.overlay&&e&&!this.overlay.$el.contains(e))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):m.options.methods.hideScroll.call(this)},show(){!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((()=>{this.$nextTick((()=>{this.$refs.content.contains(document.activeElement)||(this.previousActiveElement=document.activeElement,this.$refs.content.focus()),this.bind()}))}))},bind(){window.addEventListener("focusin",this.onFocusin)},unbind(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside(t){this.$emit("click:outside",t),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown(t){if(t.keyCode===f.Do.esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;const t=this.getActivator();this.$nextTick((()=>t&&t.focus()))}this.$emit("keydown",t)},onFocusin(t){if(!t||!this.retainFocus)return;const e=t.target;if(e&&![document,this.$refs.content].includes(e)&&!this.$refs.content.contains(e)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((t=>t.contains(e)))){const t=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),e=[...t].find((t=>!t.hasAttribute("disabled")));e&&e.focus()}},genContent(){return this.showLazyContent((()=>[this.$createElement(i.Z,{props:{root:!0,light:this.light,dark:this.dark}},[this.$createElement("div",{class:this.contentClasses,attrs:{role:"dialog",tabindex:this.isActive?0:void 0,"aria-modal":this.hideOverlay?void 0:"true",...this.getScopeIdAttrs()},on:{keydown:this.onKeydown},style:{zIndex:this.activeZIndex},ref:"content"},[this.genTransition()])])]))},genTransition(){const t=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[t]):t},genInnerContent(){const t={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(t.style={...t.style,maxWidth:(0,f.kb)(this.maxWidth),width:(0,f.kb)(this.width)}),this.$createElement("div",t,this.getContentSlot())}},render(t){return t("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},[this.genActivator(),this.genContent()])}})},6232:function(t,e,n){"use strict";var i=n(3325),s=n(6210),r=n(6257);e["Z"]=(0,i.Z)(s.Z,(0,r.J)("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(t){const e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput(t){const e=t=>t.$watch("hasError",(e=>{this.$set(this.errorBag,t._uid,e)}),{immediate:!0}),n={_uid:t._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?n.shouldValidate=t.$watch("shouldValidate",(i=>{i&&(this.errorBag.hasOwnProperty(t._uid)||(n.valid=e(t)))})):n.valid=e(t),n},validate(){return 0===this.inputs.filter((t=>!t.validate(!0))).length},reset(){this.inputs.forEach((t=>t.reset())),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout((()=>{this.errorBag={}}),0)},resetValidation(){this.inputs.forEach((t=>t.resetValidation())),this.resetErrorBag()},register(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister(t){const e=this.inputs.find((e=>e._uid===t._uid));if(!e)return;const n=this.watchers.find((t=>t._uid===e._uid));n&&(n.valid(),n.shouldValidate()),this.watchers=this.watchers.filter((t=>t._uid!==e._uid)),this.inputs=this.inputs.filter((t=>t._uid!==e._uid)),this.$delete(this.errorBag,e._uid)}},render(t){return t("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:t=>this.$emit("submit",t)}},this.$slots.default)}})},2102:function(t,e,n){"use strict";n(7273);var i=n(144),s=n(6290),r=n(4589);const o=["sm","md","lg","xl"],a=(()=>o.reduce(((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t)),{}))(),c=(()=>o.reduce(((t,e)=>(t["offset"+(0,r.jC)(e)]={type:[String,Number],default:null},t)),{}))(),l=(()=>o.reduce(((t,e)=>(t["order"+(0,r.jC)(e)]={type:[String,Number],default:null},t)),{}))(),u={col:Object.keys(a),offset:Object.keys(c),order:Object.keys(l)};function h(t,e,n){let i=t;if(null!=n&&!1!==n){if(e){const n=e.replace(t,"");i+=`-${n}`}return"col"!==t||""!==n&&!0!==n?(i+=`-${n}`,i.toLowerCase()):i.toLowerCase()}}const d=new Map;e["Z"]=i.Z.extend({name:"v-col",functional:!0,props:{cols:{type:[Boolean,String,Number],default:!1},...a,offset:{type:[String,Number],default:null},...c,order:{type:[String,Number],default:null},...l,alignSelf:{type:String,default:null,validator:t=>["auto","start","end","center","baseline","stretch"].includes(t)},tag:{type:String,default:"div"}},render(t,{props:e,data:n,children:i,parent:r}){let o="";for(const s in e)o+=String(e[s]);let a=d.get(o);if(!a){let t;for(t in a=[],u)u[t].forEach((n=>{const i=e[n],s=h(t,n,i);s&&a.push(s)}));const n=a.some((t=>t.startsWith("col-")));a.push({col:!n||!e.cols,[`col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),d.set(o,a)}return t(e.tag,(0,s.ZP)(n,{class:a}),i)}})},247:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});n(7273);var i=n(144);function s(t){return i.Z.extend({name:`v-${t}`,functional:!0,props:{id:String,tag:{type:String,default:"div"}},render(e,{props:n,data:i,children:s}){i.staticClass=`${t} ${i.staticClass||""}`.trim();const{attrs:r}=i;if(r){i.attrs={};const t=Object.keys(r).filter((t=>{if("slot"===t)return!1;const e=r[t];return t.startsWith("data-")?(i.attrs[t]=e,!1):e||"string"===typeof e}));t.length&&(i.staticClass+=` ${t.join(" ")}`)}return n.id&&(i.domProps=i.domProps||{},i.domProps.id=n.id),e(n.tag,i,s)}})}var r=n(6290),o=s("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render(t,{props:e,data:n,children:i}){let s;const{attrs:o}=n;return o&&(n.attrs={},s=Object.keys(o).filter((t=>{if("slot"===t)return!1;const e=o[t];return t.startsWith("data-")?(n.attrs[t]=e,!1):e||"string"===typeof e}))),e.id&&(n.domProps=n.domProps||{},n.domProps.id=e.id),t(e.tag,(0,r.ZP)(n,{staticClass:"container",class:Array({"container--fluid":e.fluid}).concat(s||[])}),i)}})},2877:function(t,e,n){"use strict";n(7273);var i=n(144),s=n(6290),r=n(4589);const o=["sm","md","lg","xl"],a=["start","end","center"];function c(t,e){return o.reduce(((n,i)=>(n[t+(0,r.jC)(i)]=e(),n)),{})}const l=t=>[...a,"baseline","stretch"].includes(t),u=c("align",(()=>({type:String,default:null,validator:l}))),h=t=>[...a,"space-between","space-around"].includes(t),d=c("justify",(()=>({type:String,default:null,validator:h}))),f=t=>[...a,"space-between","space-around","stretch"].includes(t),p=c("alignContent",(()=>({type:String,default:null,validator:f}))),m={align:Object.keys(u),justify:Object.keys(d),alignContent:Object.keys(p)},g={align:"align",justify:"justify",alignContent:"align-content"};function v(t,e,n){let i=g[t];if(null!=n){if(e){const n=e.replace(t,"");i+=`-${n}`}return i+=`-${n}`,i.toLowerCase()}}const y=new Map;e["Z"]=i.Z.extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:l},...u,justify:{type:String,default:null,validator:h},...d,alignContent:{type:String,default:null,validator:f},...p},render(t,{props:e,data:n,children:i}){let r="";for(const s in e)r+=String(e[s]);let o=y.get(r);if(!o){let t;for(t in o=[],m)m[t].forEach((n=>{const i=e[n],s=v(t,n,i);s&&o.push(s)}));o.push({"no-gutters":e.noGutters,"row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),y.set(r,o)}return t(e.tag,(0,s.ZP)(n,{staticClass:"row",class:o}),i)}})},6428:function(t,e,n){"use strict";n.d(e,{Z:function(){return p}});var i,s=n(6210),r=n(6952),o=n(9131),a=n(8085),c=n(4589),l=n(144),u=n(3325);function h(t){return["fas","far","fal","fab","fad","fak"].some((e=>t.includes(e)))}function d(t){return/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(t)&&/[\dz]$/i.test(t)&&t.length>4}(function(t){t["xSmall"]="12px",t["small"]="16px",t["default"]="24px",t["medium"]="28px",t["large"]="36px",t["xLarge"]="40px"})(i||(i={}));const f=(0,u.Z)(s.Z,r.Z,o.Z,a.Z).extend({name:"v-icon",props:{dense:Boolean,disabled:Boolean,left:Boolean,right:Boolean,size:[Number,String],tag:{type:String,required:!1,default:"i"}},computed:{medium(){return!1},hasClickListener(){return Boolean(this.listeners$.click||this.listeners$["!click"])}},methods:{getIcon(){let t="";return this.$slots.default&&(t=this.$slots.default[0].text.trim()),(0,c.RB)(this,t)},getSize(){const t={xSmall:this.xSmall,small:this.small,medium:this.medium,large:this.large,xLarge:this.xLarge},e=(0,c.XP)(t).find((e=>t[e]));return e&&i[e]||(0,c.kb)(this.size)},getDefaultData(){return{staticClass:"v-icon notranslate",class:{"v-icon--disabled":this.disabled,"v-icon--left":this.left,"v-icon--link":this.hasClickListener,"v-icon--right":this.right,"v-icon--dense":this.dense},attrs:{"aria-hidden":!this.hasClickListener,disabled:this.hasClickListener&&this.disabled,type:this.hasClickListener?"button":void 0,...this.attrs$},on:this.listeners$}},getSvgWrapperData(){const t=this.getSize(),e={...this.getDefaultData(),style:t?{fontSize:t,height:t,width:t}:void 0};return this.applyColors(e),e},applyColors(t){t.class={...t.class,...this.themeClasses},this.setTextColor(this.color,t)},renderFontIcon(t,e){const n=[],i=this.getDefaultData();let s="material-icons";const r=t.indexOf("-"),o=r<=-1;o?n.push(t):(s=t.slice(0,r),h(s)&&(s="")),i.class[s]=!0,i.class[t]=!o;const a=this.getSize();return a&&(i.style={fontSize:a}),this.applyColors(i),e(this.hasClickListener?"button":this.tag,i,n)},renderSvgIcon(t,e){const n={class:"v-icon__svg",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":!0}},i=this.getSize();return i&&(n.style={fontSize:i,height:i,width:i}),e(this.hasClickListener?"button":"span",this.getSvgWrapperData(),[e("svg",n,[e("path",{attrs:{d:t}})])])},renderSvgIconComponent(t,e){const n={class:{"v-icon__component":!0}},i=this.getSize();i&&(n.style={fontSize:i,height:i,width:i}),this.applyColors(n);const s=t.component;return n.props=t.props,n.nativeOn=n.on,e(this.hasClickListener?"button":"span",this.getSvgWrapperData(),[e(s,n)])}},render(t){const e=this.getIcon();return"string"===typeof e?d(e)?this.renderSvgIcon(e,t):this.renderFontIcon(e,t):this.renderSvgIconComponent(e,t)}});var p=l.Z.extend({name:"v-icon",$_wrapperFor:f,functional:!0,render(t,{data:e,children:n}){let i="";return e.domProps&&(i=e.domProps.textContent||e.domProps.innerHTML||i,delete e.domProps.textContent,delete e.domProps.innerHTML),t(f,e,i?[i]:n)}})},172:function(t,e,n){"use strict";var i=n(6428);e["Z"]=i.Z},8230:function(t,e,n){"use strict";n.d(e,{Z:function(){return g}});var i=n(172),s=n(5097),r=n(6952),o=n(8085),a=n(3325),c=n(4589),l=(0,a.Z)(r.Z,o.Z).extend({name:"v-messages",props:{value:{type:Array,default:()=>[]}},methods:{genChildren(){return this.$createElement("transition-group",{staticClass:"v-messages__wrapper",attrs:{name:"message-transition",tag:"div"}},this.value.map(this.genMessage))},genMessage(t,e){return this.$createElement("div",{staticClass:"v-messages__message",key:e},(0,c.z9)(this,"default",{message:t,key:e})||[t])}},render(t){return t("div",this.setTextColor(this.color,{staticClass:"v-messages",class:this.themeClasses}),[this.genChildren()])}}),u=l,h=n(6210),d=n(6884),f=n(6290);const p=(0,a.Z)(h.Z,d.Z);var m=p.extend().extend({name:"v-input",inheritAttrs:!1,props:{appendIcon:String,backgroundColor:{type:String,default:""},dense:Boolean,height:[Number,String],hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,id:String,label:String,loading:Boolean,persistentHint:Boolean,prependIcon:String,value:null},data(){return{lazyValue:this.value,hasMouseDown:!1}},computed:{classes(){return{"v-input--has-state":this.hasState,"v-input--hide-details":!this.showDetails,"v-input--is-label-active":this.isLabelActive,"v-input--is-dirty":this.isDirty,"v-input--is-disabled":this.isDisabled,"v-input--is-focused":this.isFocused,"v-input--is-loading":!1!==this.loading&&null!=this.loading,"v-input--is-readonly":this.isReadonly,"v-input--dense":this.dense,"v-input--hide-spin-buttons":this.hideSpinButtons,...this.themeClasses}},computedId(){return this.id||`input-${this._uid}`},hasDetails(){return this.messagesToDisplay.length>0},hasHint(){return!this.hasMessages&&!!this.hint&&(this.persistentHint||this.isFocused)},hasLabel(){return!(!this.$slots.label&&!this.label)},internalValue:{get(){return this.lazyValue},set(t){this.lazyValue=t,this.$emit(this.$_modelEvent,t)}},isDirty(){return!!this.lazyValue},isLabelActive(){return this.isDirty},messagesToDisplay(){return this.hasHint?[this.hint]:this.hasMessages?this.validations.map((t=>{if("string"===typeof t)return t;const e=t(this.internalValue);return"string"===typeof e?e:""})).filter((t=>""!==t)):[]},showDetails(){return!1===this.hideDetails||"auto"===this.hideDetails&&this.hasDetails}},watch:{value(t){this.lazyValue=t}},beforeCreate(){this.$_modelEvent=this.$options.model&&this.$options.model.event||"input"},methods:{genContent(){return[this.genPrependSlot(),this.genControl(),this.genAppendSlot()]},genControl(){return this.$createElement("div",{staticClass:"v-input__control",attrs:{title:this.attrs$.title}},[this.genInputSlot(),this.genMessages()])},genDefaultSlot(){return[this.genLabel(),this.$slots.default]},genIcon(t,e,n={}){const s=this[`${t}Icon`],r=`click:${(0,c.GL)(t)}`,o=!(!this.listeners$[r]&&!e),a=(0,f.ZP)({attrs:{"aria-label":o?(0,c.GL)(t).split("-")[0]+" icon":void 0,color:this.validationState,dark:this.dark,disabled:this.isDisabled,light:this.light},on:o?{click:t=>{t.preventDefault(),t.stopPropagation(),this.$emit(r,t),e&&e(t)},mouseup:t=>{t.preventDefault(),t.stopPropagation()}}:void 0},n);return this.$createElement("div",{staticClass:"v-input__icon",class:t?`v-input__icon--${(0,c.GL)(t)}`:void 0},[this.$createElement(i.Z,a,s)])},genInputSlot(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor,{staticClass:"v-input__slot",style:{height:(0,c.kb)(this.height)},on:{click:this.onClick,mousedown:this.onMouseDown,mouseup:this.onMouseUp},ref:"input-slot"}),[this.genDefaultSlot()])},genLabel(){return this.hasLabel?this.$createElement(s.Z,{props:{color:this.validationState,dark:this.dark,disabled:this.isDisabled,focused:this.hasState,for:this.computedId,light:this.light}},this.$slots.label||this.label):null},genMessages(){return this.showDetails?this.$createElement(u,{props:{color:this.hasHint?"":this.validationState,dark:this.dark,light:this.light,value:this.messagesToDisplay},attrs:{role:this.hasMessages?"alert":null},scopedSlots:{default:t=>(0,c.z9)(this,"message",t)}}):null},genSlot(t,e,n){if(!n.length)return null;const i=`${t}-${e}`;return this.$createElement("div",{staticClass:`v-input__${i}`,ref:i},n)},genPrependSlot(){const t=[];return this.$slots.prepend?t.push(this.$slots.prepend):this.prependIcon&&t.push(this.genIcon("prepend")),this.genSlot("prepend","outer",t)},genAppendSlot(){const t=[];return this.$slots.append?t.push(this.$slots.append):this.appendIcon&&t.push(this.genIcon("append")),this.genSlot("append","outer",t)},onClick(t){this.$emit("click",t)},onMouseDown(t){this.hasMouseDown=!0,this.$emit("mousedown",t)},onMouseUp(t){this.hasMouseDown=!1,this.$emit("mouseup",t)}},render(t){return t("div",this.setTextColor(this.validationState,{staticClass:"v-input",class:this.classes}),this.genContent())}}),g=m},4622:function(t,e,n){"use strict";n.d(e,{y:function(){return c}});var i=n(4419),s=n(1431),r=n(8085),o=n(3325),a=n(1824);const c=(0,o.Z)(i.Z,s.Z,r.Z).extend({name:"base-item-group",props:{activeClass:{type:String,default:"v-item--active"},mandatory:Boolean,max:{type:[Number,String],default:null},multiple:Boolean,tag:{type:String,default:"div"}},data(){return{internalLazyValue:void 0!==this.value?this.value:this.multiple?[]:void 0,items:[]}},computed:{classes(){return{"v-item-group":!0,...this.themeClasses}},selectedIndex(){return this.selectedItem&&this.items.indexOf(this.selectedItem)||-1},selectedItem(){if(!this.multiple)return this.selectedItems[0]},selectedItems(){return this.items.filter(((t,e)=>this.toggleMethod(this.getValue(t,e))))},selectedValues(){return null==this.internalValue?[]:Array.isArray(this.internalValue)?this.internalValue:[this.internalValue]},toggleMethod(){if(!this.multiple)return t=>this.valueComparator(this.internalValue,t);const t=this.internalValue;return Array.isArray(t)?e=>t.some((t=>this.valueComparator(t,e))):()=>!1}},watch:{internalValue:"updateItemsState",items:"updateItemsState"},created(){this.multiple&&!Array.isArray(this.internalValue)&&(0,a.Kd)("Model must be bound to an array if the multiple property is true.",this)},methods:{genData(){return{class:this.classes}},getValue(t,e){return void 0===t.value?e:t.value},onClick(t){this.updateInternalValue(this.getValue(t,this.items.indexOf(t)))},register(t){const e=this.items.push(t)-1;t.$on("change",(()=>this.onClick(t))),this.mandatory&&!this.selectedValues.length&&this.updateMandatory(),this.updateItem(t,e)},unregister(t){if(this._isDestroyed)return;const e=this.items.indexOf(t),n=this.getValue(t,e);this.items.splice(e,1);const i=this.selectedValues.indexOf(n);if(!(i<0)){if(!this.mandatory)return this.updateInternalValue(n);this.multiple&&Array.isArray(this.internalValue)?this.internalValue=this.internalValue.filter((t=>t!==n)):this.internalValue=void 0,this.selectedItems.length||this.updateMandatory(!0)}},updateItem(t,e){const n=this.getValue(t,e);t.isActive=this.toggleMethod(n)},updateItemsState(){this.$nextTick((()=>{if(this.mandatory&&!this.selectedItems.length)return this.updateMandatory();this.items.forEach(this.updateItem)}))},updateInternalValue(t){this.multiple?this.updateMultiple(t):this.updateSingle(t)},updateMandatory(t){if(!this.items.length)return;const e=this.items.slice();t&&e.reverse();const n=e.find((t=>!t.disabled));if(!n)return;const i=this.items.indexOf(n);this.updateInternalValue(this.getValue(n,i))},updateMultiple(t){const e=Array.isArray(this.internalValue)?this.internalValue:[],n=e.slice(),i=n.findIndex((e=>e===t));this.mandatory&&i>-1&&n.length-1<1||null!=this.max&&i<0&&n.length+1>this.max||(i>-1?n.splice(i,1):n.push(t),this.internalValue=n)},updateSingle(t){const e=t===this.internalValue;this.mandatory&&e||(this.internalValue=e?void 0:t)}},render(t){return t(this.tag,this.genData(),this.$slots.default)}});c.extend({name:"v-item-group",provide(){return{itemGroup:this}}})},5097:function(t,e,n){"use strict";n.d(e,{Z:function(){return c}});var i=n(6952),s=n(8085),r=n(3325),o=n(4589),a=(0,r.Z)(s.Z).extend({name:"v-label",functional:!0,props:{absolute:Boolean,color:{type:String,default:"primary"},disabled:Boolean,focused:Boolean,for:String,left:{type:[Number,String],default:0},right:{type:[Number,String],default:"auto"},value:Boolean},render(t,e){const{children:n,listeners:r,props:a}=e,c={staticClass:"v-label",class:{"v-label--active":a.value,"v-label--is-disabled":a.disabled,...(0,s.X)(e)},attrs:{for:a.for,"aria-hidden":!a.for},on:r,style:{left:(0,o.kb)(a.left),right:(0,o.kb)(a.right),position:a.absolute?"absolute":"relative"},ref:"label"};return t("label",i.Z.options.methods.setTextColor(a.focused&&a.color,c),n)}}),c=a},6816:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var i=n(3385),s=i.Z.extend().extend({name:"v-list",provide(){return{isInList:!0,list:this}},inject:{isInMenu:{default:!1},isInNav:{default:!1}},props:{dense:Boolean,disabled:Boolean,expand:Boolean,flat:Boolean,nav:Boolean,rounded:Boolean,subheader:Boolean,threeLine:Boolean,twoLine:Boolean},data:()=>({groups:[]}),computed:{classes(){return{...i.Z.options.computed.classes.call(this),"v-list--dense":this.dense,"v-list--disabled":this.disabled,"v-list--flat":this.flat,"v-list--nav":this.nav,"v-list--rounded":this.rounded,"v-list--subheader":this.subheader,"v-list--two-line":this.twoLine,"v-list--three-line":this.threeLine}}},methods:{register(t){this.groups.push(t)},unregister(t){const e=this.groups.findIndex((e=>e._uid===t._uid));e>-1&&this.groups.splice(e,1)},listClick(t){if(!this.expand)for(const e of this.groups)e.toggle(t)}},render(t){const e={staticClass:"v-list",class:this.classes,style:this.styles,attrs:{role:this.isInNav||this.isInMenu?void 0:"list",...this.attrs$}};return t(this.tag,this.setBackgroundColor(this.color,e),[this.$slots.default])}})},7620:function(t,e,n){"use strict";n.d(e,{Z:function(){return f}});var i=n(6952),s=n(6505),r=n(7352),o=n(8085),a=n(2936),c=n(6286),l=n(4589),u=n(1824),h=n(3325);const d=(0,h.Z)(i.Z,s.Z,o.Z,(0,r.d)("listItemGroup"),(0,a.d)("inputValue"));var f=d.extend().extend({name:"v-list-item",directives:{Ripple:c.Z},inject:{isInGroup:{default:!1},isInList:{default:!1},isInMenu:{default:!1},isInNav:{default:!1}},inheritAttrs:!1,props:{activeClass:{type:String,default(){return this.listItemGroup?this.listItemGroup.activeClass:""}},dense:Boolean,inactive:Boolean,link:Boolean,selectable:{type:Boolean},tag:{type:String,default:"div"},threeLine:Boolean,twoLine:Boolean,value:null},data:()=>({proxyClass:"v-list-item--active"}),computed:{classes(){return{"v-list-item":!0,...s.Z.options.computed.classes.call(this),"v-list-item--dense":this.dense,"v-list-item--disabled":this.disabled,"v-list-item--link":this.isClickable&&!this.inactive,"v-list-item--selectable":this.selectable,"v-list-item--three-line":this.threeLine,"v-list-item--two-line":this.twoLine,...this.themeClasses}},isClickable(){return Boolean(s.Z.options.computed.isClickable.call(this)||this.listItemGroup)}},created(){this.$attrs.hasOwnProperty("avatar")&&(0,u.Jk)("avatar",this)},methods:{click(t){t.detail&&this.$el.blur(),this.$emit("click",t),this.to||this.toggle()},genAttrs(){const t={"aria-disabled":!!this.disabled||void 0,tabindex:this.isClickable&&!this.disabled?0:-1,...this.$attrs};return this.$attrs.hasOwnProperty("role")||this.isInNav||(this.isInGroup?(t.role="option",t["aria-selected"]=String(this.isActive)):this.isInMenu?(t.role=this.isClickable?"menuitem":void 0,t.id=t.id||`list-item-${this._uid}`):this.isInList&&(t.role="listitem")),t},toggle(){this.to&&void 0===this.inputValue&&(this.isActive=!this.isActive),this.$emit("change")}},render(t){let{tag:e,data:n}=this.generateRouteLink();n.attrs={...n.attrs,...this.genAttrs()},n[this.to?"nativeOn":"on"]={...n[this.to?"nativeOn":"on"],keydown:t=>{t.keyCode===l.Do.enter&&this.click(t),this.$emit("keydown",t)}},this.inactive&&(e="div"),this.inactive&&this.to&&(n.on=n.nativeOn,delete n.nativeOn);const i=this.$scopedSlots.default?this.$scopedSlots.default({active:this.isActive,toggle:this.toggle}):this.$slots.default;return t(e,this.isActive?this.setTextColor(this.color,n):n,i)}})},1058:function(t,e,n){"use strict";n.d(e,{km:function(){return k},V9:function(){return A}});var i=n(4589),s=n(6816),r=n(172),o=n(7620),a=n(144),c=a.Z.extend({name:"v-list-item-icon",functional:!0,render(t,{data:e,children:n}){return e.staticClass=`v-list-item__icon ${e.staticClass||""}`.trim(),t("div",e,n)}}),l=n(6210),u=n(8625),h=n(6952),d=n(2936),f=n(6257),p=n(6286),m=n(5827),g=n(3325);const v=(0,g.Z)(l.Z,u.Z,h.Z,(0,f.f)("list"),d.Z);var y=v.extend().extend({name:"v-list-group",directives:{ripple:p.Z},props:{activeClass:{type:String,default:""},appendIcon:{type:String,default:"$expand"},color:{type:String,default:"primary"},disabled:Boolean,group:[String,RegExp],noAction:Boolean,prependIcon:String,ripple:{type:[Boolean,Object],default:!0},subGroup:Boolean},computed:{classes(){return{"v-list-group--active":this.isActive,"v-list-group--disabled":this.disabled,"v-list-group--no-action":this.noAction,"v-list-group--sub-group":this.subGroup}}},watch:{isActive(t){!this.subGroup&&t&&this.list&&this.list.listClick(this._uid)},$route:"onRouteChange"},created(){this.list&&this.list.register(this),this.group&&this.$route&&null==this.value&&(this.isActive=this.matchRoute(this.$route.path))},beforeDestroy(){this.list&&this.list.unregister(this)},methods:{click(t){this.disabled||(this.isBooted=!0,this.$emit("click",t),this.$nextTick((()=>this.isActive=!this.isActive)))},genIcon(t){return this.$createElement(r.Z,t)},genAppendIcon(){const t=!this.subGroup&&this.appendIcon;return t||this.$slots.appendIcon?this.$createElement(c,{staticClass:"v-list-group__header__append-icon"},[this.$slots.appendIcon||this.genIcon(t)]):null},genHeader(){return this.$createElement(o.Z,{staticClass:"v-list-group__header",attrs:{"aria-expanded":String(this.isActive),role:"button"},class:{[this.activeClass]:this.isActive},props:{inputValue:this.isActive},directives:[{name:"ripple",value:this.ripple}],on:{...this.listeners$,click:this.click}},[this.genPrependIcon(),this.$slots.activator,this.genAppendIcon()])},genItems(){return this.showLazyContent((()=>[this.$createElement("div",{staticClass:"v-list-group__items",directives:[{name:"show",value:this.isActive}]},(0,i.z9)(this))]))},genPrependIcon(){const t=this.subGroup&&null==this.prependIcon?"$subgroup":this.prependIcon;return t||this.$slots.prependIcon?this.$createElement(c,{staticClass:"v-list-group__header__prepend-icon"},[this.$slots.prependIcon||this.genIcon(t)]):null},onRouteChange(t){if(!this.group)return;const e=this.matchRoute(t.path);e&&this.isActive!==e&&this.list&&this.list.listClick(this._uid),this.isActive=e},toggle(t){const e=this._uid===t;e&&(this.isBooted=!0),this.$nextTick((()=>this.isActive=e))},matchRoute(t){return null!==t.match(this.group)}},render(t){return t("div",this.setTextColor(this.isActive&&this.color,{staticClass:"v-list-group",class:this.classes}),[this.genHeader(),t(m.Fx,this.genItems())])}}),b=n(4622),w=(0,g.Z)(b.y,h.Z).extend({name:"v-list-item-group",provide(){return{isInGroup:!0,listItemGroup:this}},computed:{classes(){return{...b.y.options.computed.classes.call(this),"v-list-item-group":!0}}},methods:{genData(){return this.setTextColor(this.color,{...b.y.options.methods.genData.call(this),attrs:{role:"listbox"}})}}}),_=a.Z.extend({name:"v-list-item-action",functional:!0,render(t,{data:e,children:n=[]}){e.staticClass=e.staticClass?`v-list-item__action ${e.staticClass}`:"v-list-item__action";const i=n.filter((t=>!1===t.isComment&&" "!==t.text));return i.length>1&&(e.staticClass+=" v-list-item__action--stack"),t("div",e,n)}}),S=n(2529),I=n(3712),x=(0,g.Z)(h.Z,S.Z,I.Z).extend({name:"v-avatar",props:{left:Boolean,right:Boolean,size:{type:[Number,String],default:48}},computed:{classes(){return{"v-avatar--left":this.left,"v-avatar--right":this.right,...this.roundedClasses}},styles(){return{height:(0,i.kb)(this.size),minWidth:(0,i.kb)(this.size),width:(0,i.kb)(this.size),...this.measurableStyles}}},render(t){const e={staticClass:"v-avatar",class:this.classes,style:this.styles,on:this.$listeners};return t("div",this.setBackgroundColor(this.color,e),this.$slots.default)}}),C=x,E=C.extend({name:"v-list-item-avatar",props:{horizontal:Boolean,size:{type:[Number,String],default:40}},computed:{classes(){return{"v-list-item__avatar--horizontal":this.horizontal,...C.options.computed.classes.call(this),"v-avatar--tile":this.tile||this.horizontal}}},render(t){const e=C.options.render.call(this,t);return e.data=e.data||{},e.data.staticClass+=" v-list-item__avatar",e}});const T=(0,i.Ji)("v-list-item__action-text","span"),k=(0,i.Ji)("v-list-item__content","div"),A=(0,i.Ji)("v-list-item__title","div"),D=(0,i.Ji)("v-list-item__subtitle","div");s.Z,o.Z},1009:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var i=n(144),s=i.Z.extend({name:"ssr-bootable",data:()=>({isBooted:!1}),mounted(){window.requestAnimationFrame((()=>{this.$el.setAttribute("data-booted","true"),this.isBooted=!0}))}}),r=s.extend({name:"v-main",props:{tag:{type:String,default:"main"}},computed:{styles(){const{bar:t,top:e,right:n,footer:i,insetFooter:s,bottom:r,left:o}=this.$vuetify.application;return{paddingTop:`${e+t}px`,paddingRight:`${n}px`,paddingBottom:`${i+s+r}px`,paddingLeft:`${o}px`}}},render(t){const e={staticClass:"v-main",style:this.styles,ref:"main"};return t(this.tag,e,[t("div",{staticClass:"v-main__wrap"},this.$slots.default)])}})},6768:function(t,e,n){"use strict";n.d(e,{Z:function(){return I}});var i=n(3242),s=n(5795),r=n(4561),o=n(5907),a=n(5703),c=n(3536),l=n(3944),u=n(3325),h=n(4589);const d=(0,u.Z)(a.Z,(0,c.d)(["top","right","bottom","left","absolute"]),s.Z,l.Z);var f=d.extend().extend({name:"menuable",props:{allowOverflow:Boolean,light:Boolean,dark:Boolean,maxWidth:{type:[Number,String],default:"auto"},minWidth:[Number,String],nudgeBottom:{type:[Number,String],default:0},nudgeLeft:{type:[Number,String],default:0},nudgeRight:{type:[Number,String],default:0},nudgeTop:{type:[Number,String],default:0},nudgeWidth:{type:[Number,String],default:0},offsetOverflow:Boolean,positionX:{type:Number,default:null},positionY:{type:Number,default:null},zIndex:{type:[Number,String],default:null}},data:()=>({activatorNode:[],absoluteX:0,absoluteY:0,activatedBy:null,activatorFixed:!1,dimensions:{activator:{top:0,left:0,bottom:0,right:0,width:0,height:0,offsetTop:0,scrollHeight:0,offsetLeft:0},content:{top:0,left:0,bottom:0,right:0,width:0,height:0,offsetTop:0,scrollHeight:0}},relativeYOffset:0,hasJustFocused:!1,hasWindow:!1,inputActivator:!1,isContentActive:!1,pageWidth:0,pageYOffset:0,stackClass:"v-menu__content--active",stackMinZIndex:6}),computed:{computedLeft(){const t=this.dimensions.activator,e=this.dimensions.content,n=(!1!==this.attach?t.offsetLeft:t.left)||0,i=Math.max(t.width,e.width);let s=0;if(s+=n,(this.left||this.$vuetify.rtl&&!this.right)&&(s-=i-t.width),this.offsetX){const e=isNaN(Number(this.maxWidth))?t.width:Math.min(t.width,Number(this.maxWidth));s+=this.left?-e:t.width}return this.nudgeLeft&&(s-=parseInt(this.nudgeLeft)),this.nudgeRight&&(s+=parseInt(this.nudgeRight)),s},computedTop(){const t=this.dimensions.activator,e=this.dimensions.content;let n=0;return this.top&&(n+=t.height-e.height),!1!==this.attach?n+=t.offsetTop:n+=t.top+this.pageYOffset,this.offsetY&&(n+=this.top?-t.height:t.height),this.nudgeTop&&(n-=parseInt(this.nudgeTop)),this.nudgeBottom&&(n+=parseInt(this.nudgeBottom)),n},hasActivator(){return!!this.$slots.activator||!!this.$scopedSlots.activator||!!this.activator||!!this.inputActivator},absoluteYOffset(){return this.pageYOffset-this.relativeYOffset}},watch:{disabled(t){t&&this.callDeactivate()},isActive(t){this.disabled||(t?this.callActivate():this.callDeactivate())},positionX:"updateDimensions",positionY:"updateDimensions"},beforeMount(){this.hasWindow="undefined"!==typeof window,this.hasWindow&&window.addEventListener("resize",this.updateDimensions,!1)},beforeDestroy(){this.hasWindow&&window.removeEventListener("resize",this.updateDimensions,!1)},methods:{absolutePosition(){return{offsetTop:this.positionY||this.absoluteY,offsetLeft:this.positionX||this.absoluteX,scrollHeight:0,top:this.positionY||this.absoluteY,bottom:this.positionY||this.absoluteY,left:this.positionX||this.absoluteX,right:this.positionX||this.absoluteX,height:0,width:0}},activate(){},calcLeft(t){return(0,h.kb)(!1!==this.attach?this.computedLeft:this.calcXOverflow(this.computedLeft,t))},calcTop(){return(0,h.kb)(!1!==this.attach?this.computedTop:this.calcYOverflow(this.computedTop))},calcXOverflow(t,e){const n=t+e-this.pageWidth+12;return t=(!this.left||this.right)&&n>0?Math.max(t-n,0):Math.max(t,12),t+this.getOffsetLeft()},calcYOverflow(t){const e=this.getInnerHeight(),n=this.absoluteYOffset+e,i=this.dimensions.activator,s=this.dimensions.content.height,r=t+s,o=n<r;return o&&this.offsetOverflow&&i.top>s?t=this.pageYOffset+(i.top-s):o&&!this.allowOverflow?t=n-s-12:t<this.absoluteYOffset&&!this.allowOverflow&&(t=this.absoluteYOffset+12),t<12?12:t},callActivate(){this.hasWindow&&this.activate()},callDeactivate(){this.isContentActive=!1,this.deactivate()},checkForPageYOffset(){this.hasWindow&&(this.pageYOffset=this.activatorFixed?0:this.getOffsetTop())},checkActivatorFixed(){if(!1!==this.attach)return;let t=this.getActivator();while(t){if("fixed"===window.getComputedStyle(t).position)return void(this.activatorFixed=!0);t=t.offsetParent}this.activatorFixed=!1},deactivate(){},genActivatorListeners(){const t=s.Z.options.methods.genActivatorListeners.call(this),e=t.click;return e&&(t.click=t=>{this.openOnClick&&e&&e(t),this.absoluteX=t.clientX,this.absoluteY=t.clientY}),t},getInnerHeight(){return this.hasWindow?window.innerHeight||document.documentElement.clientHeight:0},getOffsetLeft(){return this.hasWindow?window.pageXOffset||document.documentElement.scrollLeft:0},getOffsetTop(){return this.hasWindow?window.pageYOffset||document.documentElement.scrollTop:0},getRoundedBoundedClientRect(t){const e=t.getBoundingClientRect();return{top:Math.round(e.top),left:Math.round(e.left),bottom:Math.round(e.bottom),right:Math.round(e.right),width:Math.round(e.width),height:Math.round(e.height)}},measure(t){if(!t||!this.hasWindow)return null;const e=this.getRoundedBoundedClientRect(t);if(!1!==this.attach){const n=window.getComputedStyle(t);e.left=parseInt(n.marginLeft),e.top=parseInt(n.marginTop)}return e},sneakPeek(t){requestAnimationFrame((()=>{const e=this.$refs.content;e&&"none"===e.style.display?(e.style.display="inline-block",t(),e.style.display="none"):t()}))},startTransition(){return new Promise((t=>requestAnimationFrame((()=>{this.isContentActive=this.hasJustFocused=this.isActive,t()}))))},updateDimensions(){this.hasWindow="undefined"!==typeof window,this.checkActivatorFixed(),this.checkForPageYOffset(),this.pageWidth=document.documentElement.clientWidth;const t={activator:{...this.dimensions.activator},content:{...this.dimensions.content}};if(!this.hasActivator||this.absolute)t.activator=this.absolutePosition();else{const e=this.getActivator();if(!e)return;t.activator=this.measure(e),t.activator.offsetLeft=e.offsetLeft,!1!==this.attach?t.activator.offsetTop=e.offsetTop:t.activator.offsetTop=0}this.sneakPeek((()=>{if(this.$refs.content){if(this.$refs.content.offsetParent){const e=this.getRoundedBoundedClientRect(this.$refs.content.offsetParent);this.relativeYOffset=window.pageYOffset+e.top,t.activator.top-=this.relativeYOffset,t.activator.left-=window.pageXOffset+e.left}t.content=this.measure(this.$refs.content)}this.dimensions=t}))}}}),p=n(423),m=n(3712),g=n(2936),v=n(8085),y=n(5600),b=n(549),w=n(1824),_=n(1439);const S=(0,u.Z)(o.Z,r.Z,f,p.Z,m.Z,g.Z,v.Z);var I=S.extend({name:"v-menu",directives:{ClickOutside:y.Z,Resize:b.Z},provide(){return{isInMenu:!0,theme:this.theme}},props:{auto:Boolean,closeOnClick:{type:Boolean,default:!0},closeOnContentClick:{type:Boolean,default:!0},disabled:Boolean,disableKeys:Boolean,maxHeight:{type:[Number,String],default:"auto"},offsetX:Boolean,offsetY:Boolean,openOnHover:Boolean,origin:{type:String,default:"top left"},transition:{type:[Boolean,String],default:"v-menu-transition"}},data(){return{calculatedTopAuto:0,defaultOffset:8,hasJustFocused:!1,listIndex:-1,resizeTimeout:0,selectedIndex:null,tiles:[]}},computed:{activeTile(){return this.tiles[this.listIndex]},calculatedLeft(){const t=Math.max(this.dimensions.content.width,parseFloat(this.calculatedMinWidth));return this.auto?(0,h.kb)(this.calcXOverflow(this.calcLeftAuto(),t))||"0":this.calcLeft(t)||"0"},calculatedMaxHeight(){const t=this.auto?"200px":(0,h.kb)(this.maxHeight);return t||"0"},calculatedMaxWidth(){return(0,h.kb)(this.maxWidth)||"0"},calculatedMinWidth(){if(this.minWidth)return(0,h.kb)(this.minWidth)||"0";const t=Math.min(this.dimensions.activator.width+Number(this.nudgeWidth)+(this.auto?16:0),Math.max(this.pageWidth-24,0)),e=isNaN(parseInt(this.calculatedMaxWidth))?t:parseInt(this.calculatedMaxWidth);return(0,h.kb)(Math.min(e,t))||"0"},calculatedTop(){const t=this.auto?(0,h.kb)(this.calcYOverflow(this.calculatedTopAuto)):this.calcTop();return t||"0"},hasClickableTiles(){return Boolean(this.tiles.find((t=>t.tabIndex>-1)))},styles(){return{maxHeight:this.calculatedMaxHeight,minWidth:this.calculatedMinWidth,maxWidth:this.calculatedMaxWidth,top:this.calculatedTop,left:this.calculatedLeft,transformOrigin:this.origin,zIndex:this.zIndex||this.activeZIndex}}},watch:{isActive(t){t||(this.listIndex=-1)},isContentActive(t){this.hasJustFocused=t},listIndex(t,e){if(t in this.tiles){const e=this.tiles[t];e.classList.add("v-list-item--highlighted");const n=this.$refs.content.scrollTop,i=this.$refs.content.clientHeight;n>e.offsetTop-8?(0,_.Z)(e.offsetTop-e.clientHeight,{appOffset:!1,duration:300,container:this.$refs.content}):n+i<e.offsetTop+e.clientHeight+8&&(0,_.Z)(e.offsetTop-i+2*e.clientHeight,{appOffset:!1,duration:300,container:this.$refs.content})}e in this.tiles&&this.tiles[e].classList.remove("v-list-item--highlighted")}},created(){this.$attrs.hasOwnProperty("full-width")&&(0,w.Jk)("full-width",this)},mounted(){this.isActive&&this.callActivate()},methods:{activate(){this.updateDimensions(),requestAnimationFrame((()=>{this.startTransition().then((()=>{this.$refs.content&&(this.calculatedTopAuto=this.calcTopAuto(),this.auto&&(this.$refs.content.scrollTop=this.calcScrollPosition()))}))}))},calcScrollPosition(){const t=this.$refs.content,e=t.querySelector(".v-list-item--active"),n=t.scrollHeight-t.offsetHeight;return e?Math.min(n,Math.max(0,e.offsetTop-t.offsetHeight/2+e.offsetHeight/2)):t.scrollTop},calcLeftAuto(){return parseInt(this.dimensions.activator.left-2*this.defaultOffset)},calcTopAuto(){const t=this.$refs.content,e=t.querySelector(".v-list-item--active");if(e||(this.selectedIndex=null),this.offsetY||!e)return this.computedTop;this.selectedIndex=Array.from(this.tiles).indexOf(e);const n=e.offsetTop-this.calcScrollPosition(),i=t.querySelector(".v-list-item").offsetTop;return this.computedTop-n-i-1},changeListIndex(t){if(this.getTiles(),this.isActive&&this.hasClickableTiles)if(t.keyCode!==h.Do.tab){if(t.keyCode===h.Do.down)this.nextTile();else if(t.keyCode===h.Do.up)this.prevTile();else if(t.keyCode===h.Do.end)this.lastTile();else if(t.keyCode===h.Do.home)this.firstTile();else{if(t.keyCode!==h.Do.enter||-1===this.listIndex)return;this.tiles[this.listIndex].click()}t.preventDefault()}else this.isActive=!1},closeConditional(t){const e=t.target;return this.isActive&&!this._isDestroyed&&this.closeOnClick&&!this.$refs.content.contains(e)},genActivatorAttributes(){const t=s.Z.options.methods.genActivatorAttributes.call(this);return this.activeTile&&this.activeTile.id?{...t,"aria-activedescendant":this.activeTile.id}:t},genActivatorListeners(){const t=f.options.methods.genActivatorListeners.call(this);return this.disableKeys||(t.keydown=this.onKeyDown),t},genTransition(){const t=this.genContent();return this.transition?this.$createElement("transition",{props:{name:this.transition}},[t]):t},genDirectives(){const t=[{name:"show",value:this.isContentActive}];return!this.openOnHover&&this.closeOnClick&&t.push({name:"click-outside",value:{handler:()=>{this.isActive=!1},closeConditional:this.closeConditional,include:()=>[this.$el,...this.getOpenDependentElements()]}}),t},genContent(){const t={attrs:{...this.getScopeIdAttrs(),role:"role"in this.$attrs?this.$attrs.role:"menu"},staticClass:"v-menu__content",class:{...this.rootThemeClasses,...this.roundedClasses,"v-menu__content--auto":this.auto,"v-menu__content--fixed":this.activatorFixed,menuable__content__active:this.isActive,[this.contentClass.trim()]:!0},style:this.styles,directives:this.genDirectives(),ref:"content",on:{click:t=>{const e=t.target;e.getAttribute("disabled")||this.closeOnContentClick&&(this.isActive=!1)},keydown:this.onKeyDown}};return this.$listeners.scroll&&(t.on=t.on||{},t.on.scroll=this.$listeners.scroll),!this.disabled&&this.openOnHover&&(t.on=t.on||{},t.on.mouseenter=this.mouseEnterHandler),this.openOnHover&&(t.on=t.on||{},t.on.mouseleave=this.mouseLeaveHandler),this.$createElement("div",t,this.getContentSlot())},getTiles(){this.$refs.content&&(this.tiles=Array.from(this.$refs.content.querySelectorAll(".v-list-item, .v-divider, .v-subheader")))},mouseEnterHandler(){this.runDelay("open",(()=>{this.hasJustFocused||(this.hasJustFocused=!0)}))},mouseLeaveHandler(t){this.runDelay("close",(()=>{var e;null!=(e=this.$refs.content)&&e.contains(t.relatedTarget)||requestAnimationFrame((()=>{this.isActive=!1,this.callDeactivate()}))}))},nextTile(){const t=this.tiles[this.listIndex+1];if(!t){if(!this.tiles.length)return;return this.listIndex=-1,void this.nextTile()}this.listIndex++,-1===t.tabIndex&&this.nextTile()},prevTile(){const t=this.tiles[this.listIndex-1];if(!t){if(!this.tiles.length)return;return this.listIndex=this.tiles.length,void this.prevTile()}this.listIndex--,-1===t.tabIndex&&this.prevTile()},lastTile(){const t=this.tiles[this.tiles.length-1];t&&(this.listIndex=this.tiles.length-1,-1===t.tabIndex&&this.prevTile())},firstTile(){const t=this.tiles[0];t&&(this.listIndex=0,-1===t.tabIndex&&this.nextTile())},onKeyDown(t){if(t.keyCode===h.Do.esc){setTimeout((()=>{this.isActive=!1}));const t=this.getActivator();this.$nextTick((()=>t&&t.focus()))}else!this.isActive&&[h.Do.up,h.Do.down].includes(t.keyCode)&&(this.isActive=!0);this.$nextTick((()=>this.changeListIndex(t)))},onResize(){this.isActive&&(this.$refs.content.offsetWidth,this.updateDimensions(),clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.updateDimensions,100))}},render(t){const e={staticClass:"v-menu",class:{"v-menu--attached":""===this.attach||!0===this.attach||"attach"===this.attach},directives:[{arg:"500",name:"resize",value:this.onResize}]};return t("div",e,[!this.activator&&this.genActivator(),this.showLazyContent((()=>[this.$createElement(i.Z,{props:{root:!0,light:this.light,dark:this.dark}},[this.genTransition()])]))])}})},3385:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var i=n(6210),s=n(6952),r=n(3377),o=n(2529),a=n(3712),c=n(8085),l=n(3325),u=(0,l.Z)(i.Z,s.Z,r.Z,o.Z,a.Z,c.Z).extend({name:"v-sheet",props:{outlined:Boolean,shaped:Boolean,tag:{type:String,default:"div"}},computed:{classes(){return{"v-sheet":!0,"v-sheet--outlined":this.outlined,"v-sheet--shaped":this.shaped,...this.themeClasses,...this.elevationClasses,...this.roundedClasses}},styles(){return this.measurableStyles}},render(t){const e={class:this.classes,style:this.styles,on:this.listeners$};return t(this.tag,this.setBackgroundColor(this.color,e),this.$slots.default)}})},5648:function(t,e,n){"use strict";var i=n(3385);e["Z"]=i.Z},5533:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var i=n(8085),s=n(3325),r=(0,s.Z)(i.Z).extend({name:"v-subheader",props:{inset:Boolean},render(t){return t("div",{staticClass:"v-subheader",class:{"v-subheader--inset":this.inset,...this.themeClasses},attrs:this.$attrs,on:this.$listeners},this.$slots.default)}})},3105:function(t,e,n){"use strict";n.d(e,{Z:function(){return _}});var i=n(8230),s=n(8085),r=n(3325),o=(0,r.Z)(s.Z).extend({name:"v-counter",functional:!0,props:{value:{type:[Number,String],default:""},max:[Number,String]},render(t,e){const{props:n}=e,i=parseInt(n.max,10),r=parseInt(n.value,10),o=i?`${r} / ${i}`:String(n.value),a=i&&r>i;return t("div",{staticClass:"v-counter",class:{"error--text":a,...(0,s.X)(e)}},o)}}),a=o,c=n(5097),l=n(8083),u=n(1824),h=n(144);function d(t){return h.Z.extend({name:"intersectable",data:()=>({isIntersecting:!1}),mounted(){l.Z.inserted(this.$el,{name:"intersect",value:this.onObserve},this.$vnode)},destroyed(){l.Z.unbind(this.$el,{name:"intersect",value:this.onObserve},this.$vnode)},methods:{onObserve(e,n,i){if(this.isIntersecting=i,i)for(let s=0,r=t.onVisible.length;s<r;s++){const e=this[t.onVisible[s]];"function"!==typeof e?(0,u.Kd)(t.onVisible[s]+" method is not available on the instance but referenced in intersectable mixin options"):e()}}}})}var f=n(1226),p=n(6884),m=n(549),g=n(6286),v=n(1706),y=n(4589);const b=(0,r.Z)(i.Z,d({onVisible:["onResize","tryAutofocus"]}),f.Z),w=["color","file","time","date","datetime-local","week","month"];var _=b.extend().extend({name:"v-text-field",directives:{resize:m.Z,ripple:g.Z},inheritAttrs:!1,props:{appendOuterIcon:String,autofocus:Boolean,clearable:Boolean,clearIcon:{type:String,default:"$clear"},counter:[Boolean,Number,String],counterValue:Function,filled:Boolean,flat:Boolean,fullWidth:Boolean,label:String,outlined:Boolean,placeholder:String,prefix:String,prependInnerIcon:String,persistentPlaceholder:Boolean,reverse:Boolean,rounded:Boolean,shaped:Boolean,singleLine:Boolean,solo:Boolean,soloInverted:Boolean,suffix:String,type:{type:String,default:"text"}},data:()=>({badInput:!1,labelWidth:0,prefixWidth:0,prependWidth:0,initialValue:null,isBooted:!1,isClearing:!1}),computed:{classes(){return{...i.Z.options.computed.classes.call(this),"v-text-field":!0,"v-text-field--full-width":this.fullWidth,"v-text-field--prefix":this.prefix,"v-text-field--single-line":this.isSingle,"v-text-field--solo":this.isSolo,"v-text-field--solo-inverted":this.soloInverted,"v-text-field--solo-flat":this.flat,"v-text-field--filled":this.filled,"v-text-field--is-booted":this.isBooted,"v-text-field--enclosed":this.isEnclosed,"v-text-field--reverse":this.reverse,"v-text-field--outlined":this.outlined,"v-text-field--placeholder":this.placeholder,"v-text-field--rounded":this.rounded,"v-text-field--shaped":this.shaped}},computedColor(){const t=p.Z.options.computed.computedColor.call(this);return this.soloInverted&&this.isFocused?this.color||"primary":t},computedCounterValue(){return"function"===typeof this.counterValue?this.counterValue(this.internalValue):[...(this.internalValue||"").toString()].length},hasCounter(){return!1!==this.counter&&null!=this.counter},hasDetails(){return i.Z.options.computed.hasDetails.call(this)||this.hasCounter},internalValue:{get(){return this.lazyValue},set(t){this.lazyValue=t,this.$emit("input",this.lazyValue)}},isDirty(){var t;return(null==(t=this.lazyValue)?void 0:t.toString().length)>0||this.badInput},isEnclosed(){return this.filled||this.isSolo||this.outlined},isLabelActive(){return this.isDirty||w.includes(this.type)},isSingle(){return this.isSolo||this.singleLine||this.fullWidth||this.filled&&!this.hasLabel},isSolo(){return this.solo||this.soloInverted},labelPosition(){let t=this.prefix&&!this.labelValue?this.prefixWidth:0;return this.labelValue&&this.prependWidth&&(t-=this.prependWidth),this.$vuetify.rtl===this.reverse?{left:t,right:"auto"}:{left:"auto",right:t}},showLabel(){return this.hasLabel&&!(this.isSingle&&this.labelValue)},labelValue(){return this.isFocused||this.isLabelActive||this.persistentPlaceholder}},watch:{outlined:"setLabelWidth",label(){this.$nextTick(this.setLabelWidth)},prefix(){this.$nextTick(this.setPrefixWidth)},isFocused:"updateValue",value(t){this.lazyValue=t}},created(){this.$attrs.hasOwnProperty("box")&&(0,u.fK)("box","filled",this),this.$attrs.hasOwnProperty("browser-autocomplete")&&(0,u.fK)("browser-autocomplete","autocomplete",this),this.shaped&&!(this.filled||this.outlined||this.isSolo)&&(0,u.Kd)("shaped should be used with either filled or outlined",this)},mounted(){this.$watch((()=>this.labelValue),this.setLabelWidth),this.autofocus&&this.tryAutofocus(),requestAnimationFrame((()=>{this.isBooted=!0,requestAnimationFrame((()=>{this.isIntersecting||this.onResize()}))}))},methods:{focus(){this.onFocus()},blur(t){window.requestAnimationFrame((()=>{this.$refs.input&&this.$refs.input.blur()}))},clearableCallback(){this.$refs.input&&this.$refs.input.focus(),this.$nextTick((()=>this.internalValue=null))},genAppendSlot(){const t=[];return this.$slots["append-outer"]?t.push(this.$slots["append-outer"]):this.appendOuterIcon&&t.push(this.genIcon("appendOuter")),this.genSlot("append","outer",t)},genPrependInnerSlot(){const t=[];return this.$slots["prepend-inner"]?t.push(this.$slots["prepend-inner"]):this.prependInnerIcon&&t.push(this.genIcon("prependInner")),this.genSlot("prepend","inner",t)},genIconSlot(){const t=[];return this.$slots.append?t.push(this.$slots.append):this.appendIcon&&t.push(this.genIcon("append")),this.genSlot("append","inner",t)},genInputSlot(){const t=i.Z.options.methods.genInputSlot.call(this),e=this.genPrependInnerSlot();return e&&(t.children=t.children||[],t.children.unshift(e)),t},genClearIcon(){return this.clearable?this.isDirty?this.genSlot("append","inner",[this.genIcon("clear",this.clearableCallback)]):this.genSlot("append","inner",[this.$createElement("div")]):null},genCounter(){var t,e,n;if(!this.hasCounter)return null;const i=!0===this.counter?this.attrs$.maxlength:this.counter,s={dark:this.dark,light:this.light,max:i,value:this.computedCounterValue};return null!=(t=null==(e=(n=this.$scopedSlots).counter)?void 0:e.call(n,{props:s}))?t:this.$createElement(a,{props:s})},genControl(){return i.Z.options.methods.genControl.call(this)},genDefaultSlot(){return[this.genFieldset(),this.genTextFieldSlot(),this.genClearIcon(),this.genIconSlot(),this.genProgress()]},genFieldset(){return this.outlined?this.$createElement("fieldset",{attrs:{"aria-hidden":!0}},[this.genLegend()]):null},genLabel(){if(!this.showLabel)return null;const t={props:{absolute:!0,color:this.validationState,dark:this.dark,disabled:this.isDisabled,focused:!this.isSingle&&(this.isFocused||!!this.validationState),for:this.computedId,left:this.labelPosition.left,light:this.light,right:this.labelPosition.right,value:this.labelValue}};return this.$createElement(c.Z,t,this.$slots.label||this.label)},genLegend(){const t=this.singleLine||!this.labelValue&&!this.isDirty?0:this.labelWidth,e=this.$createElement("span",{domProps:{innerHTML:"&#8203;"},staticClass:"notranslate"});return this.$createElement("legend",{style:{width:this.isSingle?void 0:(0,y.kb)(t)}},[e])},genInput(){const t=Object.assign({},this.listeners$);delete t.change;const{title:e,...n}=this.attrs$;return this.$createElement("input",{style:{},domProps:{value:"number"===this.type&&Object.is(this.lazyValue,-0)?"-0":this.lazyValue},attrs:{...n,autofocus:this.autofocus,disabled:this.isDisabled,id:this.computedId,placeholder:this.persistentPlaceholder||this.isFocused||!this.hasLabel?this.placeholder:void 0,readonly:this.isReadonly,type:this.type},on:Object.assign(t,{blur:this.onBlur,input:this.onInput,focus:this.onFocus,keydown:this.onKeyDown}),ref:"input",directives:[{name:"resize",modifiers:{quiet:!0},value:this.onResize}]})},genMessages(){if(!this.showDetails)return null;const t=i.Z.options.methods.genMessages.call(this),e=this.genCounter();return this.$createElement("div",{staticClass:"v-text-field__details"},[t,e])},genTextFieldSlot(){return this.$createElement("div",{staticClass:"v-text-field__slot"},[this.genLabel(),this.prefix?this.genAffix("prefix"):null,this.genInput(),this.suffix?this.genAffix("suffix"):null])},genAffix(t){return this.$createElement("div",{class:`v-text-field__${t}`,ref:t},this[t])},onBlur(t){this.isFocused=!1,t&&this.$nextTick((()=>this.$emit("blur",t)))},onClick(){this.isFocused||this.isDisabled||!this.$refs.input||this.$refs.input.focus()},onFocus(t){if(!this.$refs.input)return;const e=(0,v.e)(this.$el);return e?e.activeElement!==this.$refs.input?this.$refs.input.focus():void(this.isFocused||(this.isFocused=!0,t&&this.$emit("focus",t))):void 0},onInput(t){const e=t.target;this.internalValue=e.value,this.badInput=e.validity&&e.validity.badInput},onKeyDown(t){t.keyCode===y.Do.enter&&this.lazyValue!==this.initialValue&&(this.initialValue=this.lazyValue,this.$emit("change",this.initialValue)),this.$emit("keydown",t)},onMouseDown(t){t.target!==this.$refs.input&&(t.preventDefault(),t.stopPropagation()),i.Z.options.methods.onMouseDown.call(this,t)},onMouseUp(t){this.hasMouseDown&&this.focus(),i.Z.options.methods.onMouseUp.call(this,t)},setLabelWidth(){this.outlined&&(this.labelWidth=this.$refs.label?Math.min(.75*this.$refs.label.scrollWidth+6,this.$el.offsetWidth-24):0)},setPrefixWidth(){this.$refs.prefix&&(this.prefixWidth=this.$refs.prefix.offsetWidth)},setPrependWidth(){this.outlined&&this.$refs["prepend-inner"]&&(this.prependWidth=this.$refs["prepend-inner"].offsetWidth)},tryAutofocus(){if(!this.autofocus||"undefined"===typeof document||!this.$refs.input)return!1;const t=(0,v.e)(this.$el);return!(!t||t.activeElement===this.$refs.input)&&(this.$refs.input.focus(),!0)},updateValue(t){this.hasColor=t,t?this.initialValue=this.lazyValue:this.initialValue!==this.lazyValue&&this.$emit("change",this.lazyValue)},onResize(){this.setLabelWidth(),this.setPrefixWidth(),this.setPrependWidth()}}})},3242:function(t,e,n){"use strict";var i=n(8085);e["Z"]=i.Z.extend({name:"v-theme-provider",props:{root:Boolean},computed:{isDark(){return this.root?this.rootIsDark:i.Z.options.computed.isDark.call(this)}},render(){return this.$slots.default&&this.$slots.default.find((t=>!t.isComment&&" "!==t.text))}})},5218:function(t,e,n){"use strict";n.d(e,{Z:function(){return m}});var i=n(3385),s=n(8083),r=n(2529),o=n(3325),a=(0,o.Z)(r.Z).extend({name:"v-responsive",props:{aspectRatio:[String,Number],contentClass:String},computed:{computedAspectRatio(){return Number(this.aspectRatio)},aspectStyle(){return this.computedAspectRatio?{paddingBottom:1/this.computedAspectRatio*100+"%"}:void 0},__cachedSizer(){return this.aspectStyle?this.$createElement("div",{style:this.aspectStyle,staticClass:"v-responsive__sizer"}):[]}},methods:{genContent(){return this.$createElement("div",{staticClass:"v-responsive__content",class:this.contentClass},this.$slots.default)}},render(t){return t("div",{staticClass:"v-responsive",style:this.measurableStyles,on:this.$listeners},[this.__cachedSizer,this.genContent()])}}),c=a,l=n(8085),u=n(6290),h=n(1824);const d="undefined"!==typeof window&&"IntersectionObserver"in window;var f=(0,o.Z)(c,l.Z).extend({name:"v-img",directives:{intersect:s.Z},props:{alt:String,contain:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},position:{type:String,default:"center center"},sizes:String,src:{type:[String,Object],default:""},srcset:String,transition:{type:[Boolean,String],default:"fade-transition"}},data(){return{currentSrc:"",image:null,isLoading:!0,calculatedAspectRatio:void 0,naturalWidth:void 0,hasError:!1}},computed:{computedAspectRatio(){return Number(this.normalisedSrc.aspect||this.calculatedAspectRatio)},normalisedSrc(){return this.src&&"object"===typeof this.src?{src:this.src.src,srcset:this.srcset||this.src.srcset,lazySrc:this.lazySrc||this.src.lazySrc,aspect:Number(this.aspectRatio||this.src.aspect)}:{src:this.src,srcset:this.srcset,lazySrc:this.lazySrc,aspect:Number(this.aspectRatio||0)}},__cachedImage(){if(!(this.normalisedSrc.src||this.normalisedSrc.lazySrc||this.gradient))return[];const t=[],e=this.isLoading?this.normalisedSrc.lazySrc:this.currentSrc;this.gradient&&t.push(`linear-gradient(${this.gradient})`),e&&t.push(`url("${e}")`);const n=this.$createElement("div",{staticClass:"v-image__image",class:{"v-image__image--preload":this.isLoading,"v-image__image--contain":this.contain,"v-image__image--cover":!this.contain},style:{backgroundImage:t.join(", "),backgroundPosition:this.position},key:+this.isLoading});return this.transition?this.$createElement("transition",{attrs:{name:this.transition,mode:"in-out"}},[n]):n}},watch:{src(){this.isLoading?this.loadImage():this.init(void 0,void 0,!0)},"$vuetify.breakpoint.width":"getSrc"},mounted(){this.init()},methods:{init(t,e,n){if(!d||n||this.eager){if(this.normalisedSrc.lazySrc){const t=new Image;t.src=this.normalisedSrc.lazySrc,this.pollForSize(t,null)}this.normalisedSrc.src&&this.loadImage()}},onLoad(){this.getSrc(),this.isLoading=!1,this.$emit("load",this.src),this.image&&(this.normalisedSrc.src.endsWith(".svg")||this.normalisedSrc.src.startsWith("data:image/svg+xml"))&&(this.image.naturalHeight&&this.image.naturalWidth?(this.naturalWidth=this.image.naturalWidth,this.calculatedAspectRatio=this.image.naturalWidth/this.image.naturalHeight):this.calculatedAspectRatio=1)},onError(){this.hasError=!0,this.$emit("error",this.src)},getSrc(){this.image&&(this.currentSrc=this.image.currentSrc||this.image.src)},loadImage(){const t=new Image;this.image=t,t.onload=()=>{t.decode?t.decode().catch((t=>{(0,h.Kd)(`Failed to decode image, trying to render anyway\n\nsrc: ${this.normalisedSrc.src}`+(t.message?`\nOriginal error: ${t.message}`:""),this)})).then(this.onLoad):this.onLoad()},t.onerror=this.onError,this.hasError=!1,this.sizes&&(t.sizes=this.sizes),this.normalisedSrc.srcset&&(t.srcset=this.normalisedSrc.srcset),t.src=this.normalisedSrc.src,this.$emit("loadstart",this.normalisedSrc.src),this.aspectRatio||this.pollForSize(t),this.getSrc()},pollForSize(t,e=100){const n=()=>{const{naturalHeight:i,naturalWidth:s}=t;i||s?(this.naturalWidth=s,this.calculatedAspectRatio=s/i):t.complete||!this.isLoading||this.hasError||null==e||setTimeout(n,e)};n()},genContent(){const t=c.options.methods.genContent.call(this);return this.naturalWidth&&this._b(t.data,"div",{style:{width:`${this.naturalWidth}px`}}),t},__genPlaceholder(){if(this.$slots.placeholder){const t=this.isLoading?[this.$createElement("div",{staticClass:"v-image__placeholder"},this.$slots.placeholder)]:[];return this.transition?this.$createElement("transition",{props:{appear:!0,name:this.transition}},t):t[0]}}},render(t){const e=c.options.render.call(this,t),n=(0,u.ZP)(e.data,{staticClass:"v-image",attrs:{"aria-label":this.alt,role:this.alt?"img":void 0},class:this.themeClasses,directives:d?[{name:"intersect",modifiers:{once:!0},value:{handler:this.init,options:this.options}}]:void 0});return e.children=[this.__cachedSizer,this.__cachedImage,this.__genPlaceholder(),this.genContent()],t(e.tag,n,e.children)}}),p=n(4589),m=i.Z.extend({name:"v-toolbar",props:{absolute:Boolean,bottom:Boolean,collapse:Boolean,dense:Boolean,extended:Boolean,extensionHeight:{default:48,type:[Number,String]},flat:Boolean,floating:Boolean,prominent:Boolean,short:Boolean,src:{type:[String,Object],default:""},tag:{type:String,default:"header"}},data:()=>({isExtended:!1}),computed:{computedHeight(){const t=this.computedContentHeight;if(!this.isExtended)return t;const e=parseInt(this.extensionHeight);return this.isCollapsed?t:t+(isNaN(e)?0:e)},computedContentHeight(){return this.height?parseInt(this.height):this.isProminent&&this.dense?96:this.isProminent&&this.short?112:this.isProminent?128:this.dense?48:this.short||this.$vuetify.breakpoint.smAndDown?56:64},classes(){return{...i.Z.options.computed.classes.call(this),"v-toolbar":!0,"v-toolbar--absolute":this.absolute,"v-toolbar--bottom":this.bottom,"v-toolbar--collapse":this.collapse,"v-toolbar--collapsed":this.isCollapsed,"v-toolbar--dense":this.dense,"v-toolbar--extended":this.isExtended,"v-toolbar--flat":this.flat,"v-toolbar--floating":this.floating,"v-toolbar--prominent":this.isProminent}},isCollapsed(){return this.collapse},isProminent(){return this.prominent},styles(){return{...this.measurableStyles,height:(0,p.kb)(this.computedHeight)}}},created(){const t=[["app","<v-app-bar app>"],["manual-scroll",'<v-app-bar :value="false">'],["clipped-left","<v-app-bar clipped-left>"],["clipped-right","<v-app-bar clipped-right>"],["inverted-scroll","<v-app-bar inverted-scroll>"],["scroll-off-screen","<v-app-bar scroll-off-screen>"],["scroll-target","<v-app-bar scroll-target>"],["scroll-threshold","<v-app-bar scroll-threshold>"],["card","<v-app-bar flat>"]];t.forEach((([t,e])=>{this.$attrs.hasOwnProperty(t)&&(0,h.fK)(t,e,this)}))},methods:{genBackground(){const t={height:(0,p.kb)(this.computedHeight),src:this.src},e=this.$scopedSlots.img?this.$scopedSlots.img({props:t}):this.$createElement(f,{props:t});return this.$createElement("div",{staticClass:"v-toolbar__image"},[e])},genContent(){return this.$createElement("div",{staticClass:"v-toolbar__content",style:{height:(0,p.kb)(this.computedContentHeight)}},(0,p.z9)(this))},genExtension(){return this.$createElement("div",{staticClass:"v-toolbar__extension",style:{height:(0,p.kb)(this.extensionHeight)}},(0,p.z9)(this,"extension"))}},render(t){this.isExtended=this.extended||!!this.$scopedSlots.extension;const e=[this.genContent()],n=this.setBackgroundColor(this.color,{class:this.classes,style:this.styles,on:this.$listeners});return this.isExtended&&e.push(this.genExtension()),(this.src||this.$scopedSlots.img)&&e.unshift(this.genBackground()),t(this.tag,n,e)}})},7921:function(t,e,n){"use strict";n.d(e,{qW:function(){return r}});var i=n(5218),s=n(4589);const r=(0,s.Ji)("v-toolbar__title"),o=(0,s.Ji)("v-toolbar__items");i.Z},5827:function(t,e,n){"use strict";n.d(e,{Fx:function(){return h},Z5:function(){return l},Qn:function(){return u}});var i=n(6290);function s(t=[],...e){return Array().concat(t,...e)}function r(t,e="top center 0",n){return{name:t,functional:!0,props:{group:{type:Boolean,default:!1},hideOnLeave:{type:Boolean,default:!1},leaveAbsolute:{type:Boolean,default:!1},mode:{type:String,default:n},origin:{type:String,default:e}},render(e,n){const r="transition"+(n.props.group?"-group":""),o={props:{name:t,mode:n.props.mode},on:{beforeEnter(t){t.style.transformOrigin=n.props.origin,t.style.webkitTransformOrigin=n.props.origin}}};return n.props.leaveAbsolute&&(o.on.leave=s(o.on.leave,(t=>{const{offsetTop:e,offsetLeft:n,offsetWidth:i,offsetHeight:s}=t;t._transitionInitialStyles={position:t.style.position,top:t.style.top,left:t.style.left,width:t.style.width,height:t.style.height},t.style.position="absolute",t.style.top=e+"px",t.style.left=n+"px",t.style.width=i+"px",t.style.height=s+"px"})),o.on.afterLeave=s(o.on.afterLeave,(t=>{if(t&&t._transitionInitialStyles){const{position:e,top:n,left:i,width:s,height:r}=t._transitionInitialStyles;delete t._transitionInitialStyles,t.style.position=e||"",t.style.top=n||"",t.style.left=i||"",t.style.width=s||"",t.style.height=r||""}}))),n.props.hideOnLeave&&(o.on.leave=s(o.on.leave,(t=>{t.style.setProperty("display","none","important")}))),e(r,(0,i.ZP)(n.data,o),n.children)}}}function o(t,e,n="in-out"){return{name:t,functional:!0,props:{mode:{type:String,default:n}},render(n,s){return n("transition",(0,i.ZP)(s.data,{props:{name:t},on:e}),s.children)}}}var a=n(4589);function c(t="",e=!1){const n=e?"width":"height",i=`offset${(0,a.jC)(n)}`;return{beforeEnter(t){t._parent=t.parentNode,t._initialStyle={transition:t.style.transition,overflow:t.style.overflow,[n]:t.style[n]}},enter(e){const s=e._initialStyle;e.style.setProperty("transition","none","important"),e.style.overflow="hidden";const r=`${e[i]}px`;e.style[n]="0",e.offsetHeight,e.style.transition=s.transition,t&&e._parent&&e._parent.classList.add(t),requestAnimationFrame((()=>{e.style[n]=r}))},afterEnter:r,enterCancelled:r,leave(t){t._initialStyle={transition:"",overflow:t.style.overflow,[n]:t.style[n]},t.style.overflow="hidden",t.style[n]=`${t[i]}px`,t.offsetHeight,requestAnimationFrame((()=>t.style[n]="0"))},afterLeave:s,leaveCancelled:s};function s(e){t&&e._parent&&e._parent.classList.remove(t),r(e)}function r(t){const e=t._initialStyle[n];t.style.overflow=t._initialStyle.overflow,null!=e&&(t.style[n]=e),delete t._initialStyle}}r("carousel-transition"),r("carousel-reverse-transition"),r("tab-transition"),r("tab-reverse-transition"),r("menu-transition"),r("fab-transition","center center","out-in"),r("dialog-transition"),r("dialog-bottom-transition"),r("dialog-top-transition");const l=r("fade-transition"),u=(r("scale-transition"),r("scroll-x-transition"),r("scroll-x-reverse-transition"),r("scroll-y-transition"),r("scroll-y-reverse-transition"),r("slide-x-transition")),h=(r("slide-x-reverse-transition"),r("slide-y-transition"),r("slide-y-reverse-transition"),o("expand-transition",c()));o("expand-x-transition",c("",!0))},5600:function(t,e,n){"use strict";var i=n(1706);function s(){return!0}function r(t,e,n){if(!t||!1===o(t,n))return!1;const s=(0,i.e)(e);if("undefined"!==typeof ShadowRoot&&s instanceof ShadowRoot&&s.host===t.target)return!1;const r=("object"===typeof n.value&&n.value.include||(()=>[]))();return r.push(e),!r.some((e=>e.contains(t.target)))}function o(t,e){const n="object"===typeof e.value&&e.value.closeConditional||s;return n(t)}function a(t,e,n,i){const s="function"===typeof n.value?n.value:n.value.handler;e._clickOutside.lastMousedownWasOutside&&r(t,e,n)&&setTimeout((()=>{o(t,n)&&s&&s(t)}),0)}function c(t,e){const n=(0,i.e)(t);e(document),"undefined"!==typeof ShadowRoot&&n instanceof ShadowRoot&&e(n)}const l={inserted(t,e,n){const i=i=>a(i,t,e,n),s=n=>{t._clickOutside.lastMousedownWasOutside=r(n,t,e)};c(t,(t=>{t.addEventListener("click",i,!0),t.addEventListener("mousedown",s,!0)})),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!0}),t._clickOutside[n.context._uid]={onClick:i,onMousedown:s}},unbind(t,e,n){t._clickOutside&&(c(t,(e=>{var i;if(!e||null==(i=t._clickOutside)||!i[n.context._uid])return;const{onClick:s,onMousedown:r}=t._clickOutside[n.context._uid];e.removeEventListener("click",s,!0),e.removeEventListener("mousedown",r,!0)})),delete t._clickOutside[n.context._uid])}};e["Z"]=l},8083:function(t,e,n){"use strict";function i(t,e,n){if("undefined"===typeof window||!("IntersectionObserver"in window))return;const i=e.modifiers||{},r=e.value,{handler:o,options:a}="object"===typeof r?r:{handler:r,options:{}},c=new IntersectionObserver(((r=[],a)=>{var c;const l=null==(c=t._observe)?void 0:c[n.context._uid];if(!l)return;const u=r.some((t=>t.isIntersecting));!o||i.quiet&&!l.init||i.once&&!u&&!l.init||o(r,a,u),u&&i.once?s(t,e,n):l.init=!0}),a);t._observe=Object(t._observe),t._observe[n.context._uid]={init:!1,observer:c},c.observe(t)}function s(t,e,n){var i;const s=null==(i=t._observe)?void 0:i[n.context._uid];s&&(s.observer.unobserve(t),delete t._observe[n.context._uid])}const r={inserted:i,unbind:s};e["Z"]=r},549:function(t,e,n){"use strict";function i(t,e,n){const i=e.value,s=e.options||{passive:!0};window.addEventListener("resize",i,s),t._onResize=Object(t._onResize),t._onResize[n.context._uid]={callback:i,options:s},e.modifiers&&e.modifiers.quiet||i()}function s(t,e,n){var i;if(null==(i=t._onResize)||!i[n.context._uid])return;const{callback:s,options:r}=t._onResize[n.context._uid];window.removeEventListener("resize",s,r),delete t._onResize[n.context._uid]}const r={inserted:i,unbind:s};e["Z"]=r},6286:function(t,e,n){"use strict";n.d(e,{Z:function(){return x}});var i=n(4589);const s=80;function r(t,e){t.style.transform=e,t.style.webkitTransform=e}function o(t){return"TouchEvent"===t.constructor.name}function a(t){return"KeyboardEvent"===t.constructor.name}const c=(t,e,n={})=>{let i=0,s=0;if(!a(t)){const n=e.getBoundingClientRect(),r=o(t)?t.touches[t.touches.length-1]:t;i=r.clientX-n.left,s=r.clientY-n.top}let r=0,c=.3;e._ripple&&e._ripple.circle?(c=.15,r=e.clientWidth/2,r=n.center?r:r+Math.sqrt((i-r)**2+(s-r)**2)/4):r=Math.sqrt(e.clientWidth**2+e.clientHeight**2)/2;const l=(e.clientWidth-2*r)/2+"px",u=(e.clientHeight-2*r)/2+"px",h=n.center?l:i-r+"px",d=n.center?u:s-r+"px";return{radius:r,scale:c,x:h,y:d,centerX:l,centerY:u}},l={show(t,e,n={}){if(!e._ripple||!e._ripple.enabled)return;const i=document.createElement("span"),s=document.createElement("span");i.appendChild(s),i.className="v-ripple__container",n.class&&(i.className+=` ${n.class}`);const{radius:o,scale:a,x:l,y:u,centerX:h,centerY:d}=c(t,e,n),f=2*o+"px";s.className="v-ripple__animation",s.style.width=f,s.style.height=f,e.appendChild(i);const p=window.getComputedStyle(e);p&&"static"===p.position&&(e.style.position="relative",e.dataset.previousPosition="static"),s.classList.add("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--visible"),r(s,`translate(${l}, ${u}) scale3d(${a},${a},${a})`),s.dataset.activated=String(performance.now()),setTimeout((()=>{s.classList.remove("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--in"),r(s,`translate(${h}, ${d}) scale3d(1,1,1)`)}),0)},hide(t){if(!t||!t._ripple||!t._ripple.enabled)return;const e=t.getElementsByClassName("v-ripple__animation");if(0===e.length)return;const n=e[e.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const i=performance.now()-Number(n.dataset.activated),s=Math.max(250-i,0);setTimeout((()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout((()=>{const e=t.getElementsByClassName("v-ripple__animation");1===e.length&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),n.parentNode&&t.removeChild(n.parentNode)}),300)}),s)}};function u(t){return"undefined"===typeof t||!!t}function h(t){const e={},n=t.currentTarget;if(n&&n._ripple&&!n._ripple.touched&&!t.rippleStop){if(t.rippleStop=!0,o(t))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(e.center=n._ripple.centered||a(t),n._ripple.class&&(e.class=n._ripple.class),o(t)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{l.show(t,n,e)},n._ripple.showTimer=window.setTimeout((()=>{n&&n._ripple&&n._ripple.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)}),s)}else l.show(t,n,e)}}function d(t){const e=t.currentTarget;if(e&&e._ripple){if(window.clearTimeout(e._ripple.showTimer),"touchend"===t.type&&e._ripple.showTimerCommit)return e._ripple.showTimerCommit(),e._ripple.showTimerCommit=null,void(e._ripple.showTimer=setTimeout((()=>{d(t)})));window.setTimeout((()=>{e._ripple&&(e._ripple.touched=!1)})),l.hide(e)}}function f(t){const e=t.currentTarget;e&&e._ripple&&(e._ripple.showTimerCommit&&(e._ripple.showTimerCommit=null),window.clearTimeout(e._ripple.showTimer))}let p=!1;function m(t){p||t.keyCode!==i.Do.enter&&t.keyCode!==i.Do.space||(p=!0,h(t))}function g(t){p=!1,d(t)}function v(t){!0===p&&(p=!1,d(t))}function y(t,e,n){const i=u(e.value);i||l.hide(t),t._ripple=t._ripple||{},t._ripple.enabled=i;const s=e.value||{};s.center&&(t._ripple.centered=!0),s.class&&(t._ripple.class=e.value.class),s.circle&&(t._ripple.circle=s.circle),i&&!n?(t.addEventListener("touchstart",h,{passive:!0}),t.addEventListener("touchend",d,{passive:!0}),t.addEventListener("touchmove",f,{passive:!0}),t.addEventListener("touchcancel",d),t.addEventListener("mousedown",h),t.addEventListener("mouseup",d),t.addEventListener("mouseleave",d),t.addEventListener("keydown",m),t.addEventListener("keyup",g),t.addEventListener("blur",v),t.addEventListener("dragstart",d,{passive:!0})):!i&&n&&b(t)}function b(t){t.removeEventListener("mousedown",h),t.removeEventListener("touchstart",h),t.removeEventListener("touchend",d),t.removeEventListener("touchmove",f),t.removeEventListener("touchcancel",d),t.removeEventListener("mouseup",d),t.removeEventListener("mouseleave",d),t.removeEventListener("keydown",m),t.removeEventListener("keyup",g),t.removeEventListener("dragstart",d),t.removeEventListener("blur",v)}function w(t,e,n){y(t,e,!1)}function _(t){delete t._ripple,b(t)}function S(t,e){if(e.value===e.oldValue)return;const n=u(e.oldValue);y(t,e,n)}const I={bind:w,unbind:_,update:S};var x=I},9132:function(t,e,n){"use strict";n.d(e,{Z:function(){return tt}});var i=n(144),s=n(1824);function r(t,e={}){if(r.installed)return;r.installed=!0,i.Z!==t&&(0,s.N6)("Multiple instances of Vue detected\nSee https://github.com/vuetifyjs/vuetify/issues/4068\n\nIf you're seeing \"$attrs is readonly\", it's caused by this");const n=e.components||{},o=e.directives||{};for(const i in o){const e=o[i];t.directive(i,e)}(function e(n){if(n){for(const i in n){const s=n[i];s&&!e(s.$_vuetify_subcomponents)&&t.component(i,s)}return!0}return!1})(n),t.$_vuetify_installed||(t.$_vuetify_installed=!0,t.mixin({beforeCreate(){const e=this.$options;e.vuetify?(e.vuetify.init(this,this.$ssrContext),this.$vuetify=t.observable(e.vuetify.framework)):this.$vuetify=e.parent&&e.parent.$vuetify||this},beforeMount(){this.$options.vuetify&&this.$el&&this.$el.hasAttribute("data-server-rendered")&&(this.$vuetify.isHydrating=!0,this.$vuetify.breakpoint.update(!0))},mounted(){this.$options.vuetify&&this.$vuetify.isHydrating&&(this.$vuetify.isHydrating=!1,this.$vuetify.breakpoint.update())}}))}var o={badge:"Badge",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},datePicker:{itemsSelected:"{0} selected",nextMonthAriaLabel:"Next month",nextYearAriaLabel:"Next year",prevMonthAriaLabel:"Previous month",prevYearAriaLabel:"Previous year"},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{wrapper:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Goto Page {0}",currentPage:"Current Page, Page {0}"}},rating:{ariaLabel:{icon:"Rating {0} of {1}"}}};const a={breakpoint:{mobileBreakpoint:1264,scrollBarWidth:16,thresholds:{xs:600,sm:960,md:1280,lg:1920}},icons:{iconfont:"mdi",values:{}},lang:{current:"en",locales:{en:o},t:void 0},rtl:!1,theme:{dark:!1,default:"light",disable:!1,options:{cspNonce:void 0,customProperties:void 0,minifyTheme:void 0,themeCache:void 0,variations:!0},themes:{light:{primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},dark:{primary:"#2196F3",secondary:"#424242",accent:"#FF4081",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"}}}};var c=n(4589),l=n(4097);class u extends l.t{constructor(t,e){super();const n=(0,c.Ee)({},a),{userPreset:i}=e,{preset:r={},...o}=i;null!=r.preset&&(0,s.Kd)("Global presets do not support the **preset** option, it can be safely omitted"),e.preset=(0,c.Ee)((0,c.Ee)(n,r),o)}}u.property="presets";class h extends l.t{constructor(){super(...arguments),this.bar=0,this.top=0,this.left=0,this.insetFooter=0,this.right=0,this.bottom=0,this.footer=0,this.application={bar:{},top:{},left:{},insetFooter:{},right:{},bottom:{},footer:{}}}register(t,e,n){this.application[e][t]=n,this.update(e)}unregister(t,e){null!=this.application[e][t]&&(delete this.application[e][t],this.update(e))}update(t){this[t]=Object.values(this.application[t]).reduce(((t,e)=>t+e),0)}}h.property="application";class d extends l.t{constructor(t){super(),this.xs=!1,this.sm=!1,this.md=!1,this.lg=!1,this.xl=!1,this.xsOnly=!1,this.smOnly=!1,this.smAndDown=!1,this.smAndUp=!1,this.mdOnly=!1,this.mdAndDown=!1,this.mdAndUp=!1,this.lgOnly=!1,this.lgAndDown=!1,this.lgAndUp=!1,this.xlOnly=!1,this.name="xs",this.height=0,this.width=0,this.mobile=!0,this.resizeTimeout=0;const{mobileBreakpoint:e,scrollBarWidth:n,thresholds:i}=t[d.property];this.mobileBreakpoint=e,this.scrollBarWidth=n,this.thresholds=i}init(){this.update(),"undefined"!==typeof window&&window.addEventListener("resize",this.onResize.bind(this),{passive:!0})}update(t=!1){const e=t?0:this.getClientHeight(),n=t?0:this.getClientWidth(),i=n<this.thresholds.xs,s=n<this.thresholds.sm&&!i,r=n<this.thresholds.md-this.scrollBarWidth&&!(s||i),o=n<this.thresholds.lg-this.scrollBarWidth&&!(r||s||i),a=n>=this.thresholds.lg-this.scrollBarWidth;switch(this.height=e,this.width=n,this.xs=i,this.sm=s,this.md=r,this.lg=o,this.xl=a,this.xsOnly=i,this.smOnly=s,this.smAndDown=(i||s)&&!(r||o||a),this.smAndUp=!i&&(s||r||o||a),this.mdOnly=r,this.mdAndDown=(i||s||r)&&!(o||a),this.mdAndUp=!(i||s)&&(r||o||a),this.lgOnly=o,this.lgAndDown=(i||s||r||o)&&!a,this.lgAndUp=!(i||s||r)&&(o||a),this.xlOnly=a,!0){case i:this.name="xs";break;case s:this.name="sm";break;case r:this.name="md";break;case o:this.name="lg";break;default:this.name="xl";break}if("number"===typeof this.mobileBreakpoint)return void(this.mobile=n<parseInt(this.mobileBreakpoint,10));const c={xs:0,sm:1,md:2,lg:3,xl:4},l=c[this.name],u=c[this.mobileBreakpoint];this.mobile=l<=u}onResize(){clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.update.bind(this),200)}getClientWidth(){return"undefined"===typeof document?0:Math.max(document.documentElement.clientWidth,window.innerWidth||0)}getClientHeight(){return"undefined"===typeof document?0:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}}d.property="breakpoint";const f={complete:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",cancel:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",close:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",delete:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",clear:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",success:"M12,2C17.52,2 22,6.48 22,12C22,17.52 17.52,22 12,22C6.48,22 2,17.52 2,12C2,6.48 6.48,2 12,2M11,16.5L18,9.5L16.59,8.09L11,13.67L7.91,10.59L6.5,12L11,16.5Z",info:"M13,9H11V7H13M13,17H11V11H13M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",warning:"M11,4.5H13V15.5H11V4.5M13,17.5V19.5H11V17.5H13Z",error:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z",prev:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",next:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",checkboxOn:"M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3Z",checkboxOff:"M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z",checkboxIndeterminate:"M17,13H7V11H17M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3Z",delimiter:"M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",sort:"M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z",expand:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",menu:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z",subgroup:"M7,10L12,15L17,10H7Z",dropdown:"M7,10L12,15L17,10H7Z",radioOn:"M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2M12,7C9.24,7 7,9.24 7,12C7,14.76 9.24,17 12,17C14.76,17 17,14.76 17,12C17,9.24 14.76,7 12,7Z",radioOff:"M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",edit:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",ratingEmpty:"M12,15.39L8.24,17.66L9.23,13.38L5.91,10.5L10.29,10.13L12,6.09L13.71,10.13L18.09,10.5L14.77,13.38L15.76,17.66M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",ratingFull:"M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z",ratingHalf:"M12,15.4V6.1L13.71,10.13L18.09,10.5L14.77,13.39L15.76,17.67M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",loading:"M19,8L15,12H18C18,15.31 15.31,18 12,18C11,18 10.03,17.75 9.2,17.3L7.74,18.76C8.97,19.54 10.43,20 12,20C16.42,20 20,16.42 20,12H23M6,12C6,8.69 8.69,6 12,6C13,6 13.97,6.25 14.8,6.7L16.26,5.24C15.03,4.46 13.57,4 12,4C7.58,4 4,7.58 4,12H1L5,16L9,12",first:"M18.41,16.59L13.82,12L18.41,7.41L17,6L11,12L17,18L18.41,16.59M6,6H8V18H6V6Z",last:"M5.59,7.41L10.18,12L5.59,16.59L7,18L13,12L7,6L5.59,7.41M16,6H18V18H16V6Z",unfold:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z",file:"M16.5,6V17.5C16.5,19.71 14.71,21.5 12.5,21.5C10.29,21.5 8.5,19.71 8.5,17.5V5C8.5,3.62 9.62,2.5 11,2.5C12.38,2.5 13.5,3.62 13.5,5V15.5C13.5,16.05 13.05,16.5 12.5,16.5C11.95,16.5 11.5,16.05 11.5,15.5V6H10V15.5C10,16.88 11.12,18 12.5,18C13.88,18 15,16.88 15,15.5V5C15,2.79 13.21,1 11,1C8.79,1 7,2.79 7,5V17.5C7,20.54 9.46,23 12.5,23C15.54,23 18,20.54 18,17.5V6H16.5Z",plus:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",minus:"M19,13H5V11H19V13Z"};var p=f;const m={complete:"check",cancel:"cancel",close:"close",delete:"cancel",clear:"clear",success:"check_circle",info:"info",warning:"priority_high",error:"warning",prev:"chevron_left",next:"chevron_right",checkboxOn:"check_box",checkboxOff:"check_box_outline_blank",checkboxIndeterminate:"indeterminate_check_box",delimiter:"fiber_manual_record",sort:"arrow_upward",expand:"keyboard_arrow_down",menu:"menu",subgroup:"arrow_drop_down",dropdown:"arrow_drop_down",radioOn:"radio_button_checked",radioOff:"radio_button_unchecked",edit:"edit",ratingEmpty:"star_border",ratingFull:"star",ratingHalf:"star_half",loading:"cached",first:"first_page",last:"last_page",unfold:"unfold_more",file:"attach_file",plus:"add",minus:"remove"};var g=m;const v={complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-exclamation",error:"mdi-alert",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sort:"mdi-arrow-up",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus"};var y=v;const b={complete:"fas fa-check",cancel:"fas fa-times-circle",close:"fas fa-times",delete:"fas fa-times-circle",clear:"fas fa-times-circle",success:"fas fa-check-circle",info:"fas fa-info-circle",warning:"fas fa-exclamation",error:"fas fa-exclamation-triangle",prev:"fas fa-chevron-left",next:"fas fa-chevron-right",checkboxOn:"fas fa-check-square",checkboxOff:"far fa-square",checkboxIndeterminate:"fas fa-minus-square",delimiter:"fas fa-circle",sort:"fas fa-sort-up",expand:"fas fa-chevron-down",menu:"fas fa-bars",subgroup:"fas fa-caret-down",dropdown:"fas fa-caret-down",radioOn:"far fa-dot-circle",radioOff:"far fa-circle",edit:"fas fa-edit",ratingEmpty:"far fa-star",ratingFull:"fas fa-star",ratingHalf:"fas fa-star-half",loading:"fas fa-sync",first:"fas fa-step-backward",last:"fas fa-step-forward",unfold:"fas fa-arrows-alt-v",file:"fas fa-paperclip",plus:"fas fa-plus",minus:"fas fa-minus"};var w=b;const _={complete:"fa fa-check",cancel:"fa fa-times-circle",close:"fa fa-times",delete:"fa fa-times-circle",clear:"fa fa-times-circle",success:"fa fa-check-circle",info:"fa fa-info-circle",warning:"fa fa-exclamation",error:"fa fa-exclamation-triangle",prev:"fa fa-chevron-left",next:"fa fa-chevron-right",checkboxOn:"fa fa-check-square",checkboxOff:"fa fa-square-o",checkboxIndeterminate:"fa fa-minus-square",delimiter:"fa fa-circle",sort:"fa fa-sort-up",expand:"fa fa-chevron-down",menu:"fa fa-bars",subgroup:"fa fa-caret-down",dropdown:"fa fa-caret-down",radioOn:"fa fa-dot-circle-o",radioOff:"fa fa-circle-o",edit:"fa fa-pencil",ratingEmpty:"fa fa-star-o",ratingFull:"fa fa-star",ratingHalf:"fa fa-star-half-o",loading:"fa fa-refresh",first:"fa fa-step-backward",last:"fa fa-step-forward",unfold:"fa fa-angle-double-down",file:"fa fa-paperclip",plus:"fa fa-plus",minus:"fa fa-minus"};var S=_;function I(t,e){const n={};for(const i in e)n[i]={component:t,props:{icon:e[i].split(" fa-")}};return n}var x=I("font-awesome-icon",w),C=Object.freeze({mdiSvg:p,md:g,mdi:y,fa:w,fa4:S,faSvg:x});class E extends l.t{constructor(t){super();const{iconfont:e,values:n,component:i}=t[E.property];this.component=i,this.iconfont=e,this.values=(0,c.Ee)(C[e],n)}}E.property="icons";const T="$vuetify.",k=Symbol("Lang fallback");function A(t,e,n=!1,i){const r=e.replace(T,"");let o=(0,c.vO)(t,r,k);return o===k&&(n?((0,s.N6)(`Translation key "${r}" not found in fallback`),o=e):((0,s.Kd)(`Translation key "${r}" not found, falling back to default`),o=A(i,e,!0,i))),o}class D extends l.t{constructor(t){super(),this.defaultLocale="en";const{current:e,locales:n,t:i}=t[D.property];this.current=e,this.locales=n,this.translator=i||this.defaultTranslator}currentLocale(t){const e=this.locales[this.current],n=this.locales[this.defaultLocale];return A(e,t,!1,n)}t(t,...e){return t.startsWith(T)?this.translator(t,...e):this.replace(t,e)}defaultTranslator(t,...e){return this.replace(this.currentLocale(t),e)}replace(t,e){return t.replace(/\{(\d+)\}/g,((t,n)=>String(e[+n])))}}D.property="lang";var O=n(7093);const N=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],L=t=>t<=.0031308?12.92*t:1.055*t**(1/2.4)-.055,$=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],M=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function P(t){const e=Array(3),n=L,i=N;for(let s=0;s<3;++s)e[s]=Math.round(255*(0,c.uZ)(n(i[s][0]*t[0]+i[s][1]*t[1]+i[s][2]*t[2])));return(e[0]<<16)+(e[1]<<8)+(e[2]<<0)}function F(t){const e=[0,0,0],n=M,i=$,s=n((t>>16&255)/255),r=n((t>>8&255)/255),o=n((t>>0&255)/255);for(let a=0;a<3;++a)e[a]=i[a][0]*s+i[a][1]*r+i[a][2]*o;return e}const R=.20689655172413793,V=t=>t>R**3?Math.cbrt(t):t/(3*R**2)+4/29,B=t=>t>R?t**3:3*R**2*(t-4/29);function j(t){const e=V,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function U(t){const e=B,n=(t[0]+16)/116;return[.95047*e(n+t[1]/500),e(n),1.08883*e(n-t[2]/200)]}function q(t,e=!1,n=!0){const{anchor:i,...s}=t,r=Object.keys(s),o={};for(let a=0;a<r.length;++a){const i=r[a],s=t[i];null!=s&&(n?e?("base"===i||i.startsWith("lighten")||i.startsWith("darken"))&&(o[i]=(0,O.hq)(s)):o[i]="object"===typeof s?q(s,!0,n):G(i,(0,O.jx)(s)):o[i]={base:(0,O.I4)((0,O.jx)(s))})}return e||(o.anchor=i||o.base||o.primary.base),o}const z=(t,e)=>`\n.v-application .${t} {\n  background-color: ${e} !important;\n  border-color: ${e} !important;\n}\n.v-application .${t}--text {\n  color: ${e} !important;\n  caret-color: ${e} !important;\n}`,H=(t,e,n)=>{const[i,s]=e.split(/(\d)/,2);return`\n.v-application .${t}.${i}-${s} {\n  background-color: ${n} !important;\n  border-color: ${n} !important;\n}\n.v-application .${t}--text.text--${i}-${s} {\n  color: ${n} !important;\n  caret-color: ${n} !important;\n}`},Z=(t,e="base")=>`--v-${t}-${e}`,W=(t,e="base")=>`var(${Z(t,e)})`;function K(t,e=!1){const{anchor:n,...i}=t,s=Object.keys(i);if(!s.length)return"";let r="",o="";const a=e?W("anchor"):n;o+=`.v-application a { color: ${a}; }`,e&&(r+=`  ${Z("anchor")}: ${n};\n`);for(let l=0;l<s.length;++l){const n=s[l],i=t[n];o+=z(n,e?W(n):i.base),e&&(r+=`  ${Z(n)}: ${i.base};\n`);const a=(0,c.XP)(i);for(let t=0;t<a.length;++t){const s=a[t],c=i[s];"base"!==s&&(o+=H(n,s,e?W(n,s):c),e&&(r+=`  ${Z(n,s)}: ${c};\n`))}}return e&&(r=`:root {\n${r}}\n\n`),r+o}function G(t,e){const n={base:(0,O.I4)(e)};for(let i=5;i>0;--i)n[`lighten${i}`]=(0,O.I4)(Q(e,i));for(let i=1;i<=4;++i)n[`darken${i}`]=(0,O.I4)(Y(e,i));return n}function Q(t,e){const n=j(F(t));return n[0]=n[0]+10*e,P(U(n))}function Y(t,e){const n=j(F(t));return n[0]=n[0]-10*e,P(U(n))}class X extends l.t{constructor(t){super(),this.disabled=!1,this.isDark=null,this.unwatch=null,this.vueMeta=null;const{dark:e,disable:n,options:i,themes:s}=t[X.property];this.dark=Boolean(e),this.defaults=this.themes=s,this.options=i,n?this.disabled=!0:this.themes={dark:this.fillVariant(s.dark,!0),light:this.fillVariant(s.light,!1)}}set css(t){this.vueMeta?this.isVueMeta23&&this.applyVueMeta23():this.checkOrCreateStyleElement()&&(this.styleEl.innerHTML=t)}set dark(t){const e=this.isDark;this.isDark=t,null!=e&&this.applyTheme()}get dark(){return Boolean(this.isDark)}applyTheme(){if(this.disabled)return this.clearCss();this.css=this.generatedStyles}clearCss(){this.css=""}init(t,e){this.disabled||(t.$meta?this.initVueMeta(t):e&&this.initSSR(e),this.initTheme(t))}setTheme(t,e){this.themes[t]=Object.assign(this.themes[t],e),this.applyTheme()}resetThemes(){this.themes.light=Object.assign({},this.defaults.light),this.themes.dark=Object.assign({},this.defaults.dark),this.applyTheme()}checkOrCreateStyleElement(){return this.styleEl=document.getElementById("vuetify-theme-stylesheet"),!!this.styleEl||(this.genStyleElement(),Boolean(this.styleEl))}fillVariant(t={},e){const n=this.themes[e?"dark":"light"];return Object.assign({},n,t)}genStyleElement(){"undefined"!==typeof document&&(this.styleEl=document.createElement("style"),this.styleEl.type="text/css",this.styleEl.id="vuetify-theme-stylesheet",this.options.cspNonce&&this.styleEl.setAttribute("nonce",this.options.cspNonce),document.head.appendChild(this.styleEl))}initVueMeta(t){if(this.vueMeta=t.$meta(),this.isVueMeta23)return void t.$nextTick((()=>{this.applyVueMeta23()}));const e="function"===typeof this.vueMeta.getOptions?this.vueMeta.getOptions().keyName:"metaInfo",n=t.$options[e]||{};t.$options[e]=()=>{n.style=n.style||[];const t=n.style.find((t=>"vuetify-theme-stylesheet"===t.id));return t?t.cssText=this.generatedStyles:n.style.push({cssText:this.generatedStyles,type:"text/css",id:"vuetify-theme-stylesheet",nonce:(this.options||{}).cspNonce}),n}}applyVueMeta23(){const{set:t}=this.vueMeta.addApp("vuetify");t({style:[{cssText:this.generatedStyles,type:"text/css",id:"vuetify-theme-stylesheet",nonce:this.options.cspNonce}]})}initSSR(t){const e=this.options.cspNonce?` nonce="${this.options.cspNonce}"`:"";t.head=t.head||"",t.head+=`<style type="text/css" id="vuetify-theme-stylesheet"${e}>${this.generatedStyles}</style>`}initTheme(t){"undefined"!==typeof document&&(this.unwatch&&(this.unwatch(),this.unwatch=null),t.$once("hook:created",(()=>{const e=i.Z.observable({themes:this.themes});this.unwatch=t.$watch((()=>e.themes),(()=>this.applyTheme()),{deep:!0})})),this.applyTheme())}get currentTheme(){const t=this.dark?"dark":"light";return this.themes[t]}get generatedStyles(){const t=this.parsedTheme,e=this.options||{};let n;return null!=e.themeCache&&(n=e.themeCache.get(t),null!=n)||(n=K(t,e.customProperties),null!=e.minifyTheme&&(n=e.minifyTheme(n)),null!=e.themeCache&&e.themeCache.set(t,n)),n}get parsedTheme(){return q(this.currentTheme||{},void 0,(0,c.qw)(this.options,["variations"],!0))}get isVueMeta23(){return"function"===typeof this.vueMeta.addApp}}X.property="theme";var J=n(1439);class tt{constructor(t={}){this.framework={isHydrating:!1},this.installed=[],this.preset={},this.userPreset={},this.userPreset=t,this.use(u),this.use(h),this.use(d),this.use(J.A),this.use(E),this.use(D),this.use(X)}init(t,e){this.installed.forEach((n=>{const i=this.framework[n];i.framework=this.framework,i.init(t,e)})),this.framework.rtl=Boolean(this.preset.rtl)}use(t){const e=t.property;this.installed.includes(e)||(this.framework[e]=new t(this.preset,this),this.installed.push(e))}}tt.install=r,tt.installed=!1,tt.version="2.6.3",tt.config={silent:!1}},5795:function(t,e,n){"use strict";var i=n(4561),s=n(2936),r=n(3325),o=n(4589),a=n(1824);const c=(0,r.Z)(i.Z,s.Z);e["Z"]=c.extend({name:"activatable",props:{activator:{default:null,validator:t=>["string","object"].includes(typeof t)},disabled:Boolean,internalActivator:Boolean,openOnClick:{type:Boolean,default:!0},openOnHover:Boolean,openOnFocus:Boolean},data:()=>({activatorElement:null,activatorNode:[],events:["click","mouseenter","mouseleave","focus"],listeners:{}}),watch:{activator:"resetActivator",openOnFocus:"resetActivator",openOnHover:"resetActivator"},mounted(){const t=(0,o.sp)(this,"activator",!0);t&&["v-slot","normal"].includes(t)&&(0,a.N6)('The activator slot must be bound, try \'<template v-slot:activator="{ on }"><v-btn v-on="on">\'',this),this.addActivatorEvents()},beforeDestroy(){this.removeActivatorEvents()},methods:{addActivatorEvents(){if(!this.activator||this.disabled||!this.getActivator())return;this.listeners=this.genActivatorListeners();const t=Object.keys(this.listeners);for(const e of t)this.getActivator().addEventListener(e,this.listeners[e])},genActivator(){const t=(0,o.z9)(this,"activator",Object.assign(this.getValueProxy(),{on:this.genActivatorListeners(),attrs:this.genActivatorAttributes()}))||[];return this.activatorNode=t,t},genActivatorAttributes(){return{role:this.openOnClick&&!this.openOnHover?"button":void 0,"aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genActivatorListeners(){if(this.disabled)return{};const t={};return this.openOnHover?(t.mouseenter=t=>{this.getActivator(t),this.runDelay("open")},t.mouseleave=t=>{this.getActivator(t),this.runDelay("close")}):this.openOnClick&&(t.click=t=>{const e=this.getActivator(t);e&&e.focus(),t.stopPropagation(),this.isActive=!this.isActive}),this.openOnFocus&&(t.focus=t=>{this.getActivator(t),t.stopPropagation(),this.isActive=!this.isActive}),t},getActivator(t){var e;if(this.activatorElement)return this.activatorElement;let n=null;if(this.activator){const t=this.internalActivator?this.$el:document;n="string"===typeof this.activator?t.querySelector(this.activator):this.activator.$el?this.activator.$el:this.activator}else if(1===this.activatorNode.length||this.activatorNode.length&&!t){const t=this.activatorNode[0].componentInstance;n=t&&t.$options.mixins&&t.$options.mixins.some((t=>t.options&&["activatable","menuable"].includes(t.options.name)))?t.getActivator():this.activatorNode[0].elm}else t&&(n=t.currentTarget||t.target);return this.activatorElement=(null==(e=n)?void 0:e.nodeType)===Node.ELEMENT_NODE?n:null,this.activatorElement},getContentSlot(){return(0,o.z9)(this,"default",this.getValueProxy(),!0)},getValueProxy(){const t=this;return{get value(){return t.isActive},set value(e){t.isActive=e}}},removeActivatorEvents(){if(!this.activator||!this.activatorElement)return;const t=Object.keys(this.listeners);for(const e of t)this.activatorElement.removeEventListener(e,this.listeners[e]);this.listeners={}},resetActivator(){this.removeActivatorEvents(),this.activatorElement=null,this.getActivator(),this.addActivatorEvents()}}})},6210:function(t,e,n){"use strict";var i=n(144);function s(t){return function(e,n){for(const i in n)Object.prototype.hasOwnProperty.call(e,i)||this.$delete(this.$data[t],i);for(const i in e)this.$set(this.$data[t],i,e[i])}}e["Z"]=i.Z.extend({data:()=>({attrs$:{},listeners$:{}}),created(){this.$watch("$attrs",s("attrs$"),{immediate:!0}),this.$watch("$listeners",s("listeners$"),{immediate:!0})}})},8625:function(t,e,n){"use strict";var i=n(1824),s=n(144);e["Z"]=s.Z.extend().extend({name:"bootable",props:{eager:Boolean},data:()=>({isBooted:!1}),computed:{hasContent(){return this.isBooted||this.eager||this.isActive}},watch:{isActive(){this.isBooted=!0}},created(){"lazy"in this.$attrs&&(0,i.Jk)("lazy",this)},methods:{showLazyContent(t){return this.hasContent&&t?t():[this.$createElement()]}}})},6952:function(t,e,n){"use strict";var i=n(144),s=n(1824),r=n(7093);e["Z"]=i.Z.extend({name:"colorable",props:{color:String},methods:{setBackgroundColor(t,e={}){return"string"===typeof e.style?((0,s.N6)("style must be an object",this),e):"string"===typeof e.class?((0,s.N6)("class must be an object",this),e):((0,r.NA)(t)?e.style={...e.style,"background-color":`${t}`,"border-color":`${t}`}:t&&(e.class={...e.class,[t]:!0}),e)},setTextColor(t,e={}){if("string"===typeof e.style)return(0,s.N6)("style must be an object",this),e;if("string"===typeof e.class)return(0,s.N6)("class must be an object",this),e;if((0,r.NA)(t))e.style={...e.style,color:`${t}`,"caret-color":`${t}`};else if(t){const[n,i]=t.toString().trim().split(" ",2);e.class={...e.class,[n+"--text"]:!0},i&&(e.class["text--"+i]=!0)}return e}}})},4419:function(t,e,n){"use strict";var i=n(144),s=n(4589);e["Z"]=i.Z.extend({name:"comparable",props:{valueComparator:{type:Function,default:s.vZ}}})},4561:function(t,e,n){"use strict";var i=n(144);e["Z"]=i.Z.extend().extend({name:"delayable",props:{openDelay:{type:[Number,String],default:0},closeDelay:{type:[Number,String],default:0}},data:()=>({openTimeout:void 0,closeTimeout:void 0}),methods:{clearDelay(){clearTimeout(this.openTimeout),clearTimeout(this.closeTimeout)},runDelay(t,e){this.clearDelay();const n=parseInt(this[`${t}Delay`],10);this[`${t}Timeout`]=setTimeout(e||(()=>{this.isActive={open:!0,close:!1}[t]}),n)}}})},5907:function(t,e,n){"use strict";var i=n(3325);function s(t){const e=[];for(let n=0;n<t.length;n++){const i=t[n];i.isActive&&i.isDependent?e.push(i):e.push(...s(i.$children))}return e}e["Z"]=(0,i.Z)().extend({name:"dependent",data(){return{closeDependents:!0,isActive:!1,isDependent:!0}},watch:{isActive(t){if(t)return;const e=this.getOpenDependents();for(let n=0;n<e.length;n++)e[n].isActive=!1}},methods:{getOpenDependents(){return this.closeDependents?s(this.$children):[]},getOpenDependentElements(){const t=[],e=this.getOpenDependents();for(let n=0;n<e.length;n++)t.push(...e[n].getClickableDependentElements());return t},getClickableDependentElements(){const t=[this.$el];return this.$refs.content&&t.push(this.$refs.content),this.overlay&&t.push(this.overlay.$el),t.push(...this.getOpenDependentElements()),t}}})},3944:function(t,e,n){"use strict";var i=n(8625),s=n(4589),r=n(3325),o=n(1824);function a(t){const e=typeof t;return"boolean"===e||"string"===e||t.nodeType===Node.ELEMENT_NODE}function c(t){t.forEach((t=>{t.elm&&t.elm.parentNode&&t.elm.parentNode.removeChild(t.elm)}))}e["Z"]=(0,r.Z)(i.Z).extend({name:"detachable",props:{attach:{default:!1,validator:a},contentClass:{type:String,default:""}},data:()=>({activatorNode:null,hasDetached:!1}),watch:{attach(){this.hasDetached=!1,this.initDetach()},hasContent(){this.$nextTick(this.initDetach)}},beforeMount(){this.$nextTick((()=>{if(this.activatorNode){const t=Array.isArray(this.activatorNode)?this.activatorNode:[this.activatorNode];t.forEach((t=>{if(!t.elm)return;if(!this.$el.parentNode)return;const e=this.$el===this.$el.parentNode.firstChild?this.$el:this.$el.nextSibling;this.$el.parentNode.insertBefore(t.elm,e)}))}}))},mounted(){this.hasContent&&this.initDetach()},deactivated(){this.isActive=!1},beforeDestroy(){this.$refs.content&&this.$refs.content.parentNode&&this.$refs.content.parentNode.removeChild(this.$refs.content)},destroyed(){if(this.activatorNode){const t=Array.isArray(this.activatorNode)?this.activatorNode:[this.activatorNode];if(this.$el.isConnected){const e=new MutationObserver((n=>{n.some((t=>Array.from(t.removedNodes).includes(this.$el)))&&(e.disconnect(),c(t))}));e.observe(this.$el.parentNode,{subtree:!1,childList:!0})}else c(t)}},methods:{getScopeIdAttrs(){const t=(0,s.vO)(this.$vnode,"context.$options._scopeId");return t&&{[t]:""}},initDetach(){if(this._isDestroyed||!this.$refs.content||this.hasDetached||""===this.attach||!0===this.attach||"attach"===this.attach)return;let t;t=!1===this.attach?document.querySelector("[data-app]"):"string"===typeof this.attach?document.querySelector(this.attach):this.attach,t?(t.appendChild(this.$refs.content),this.hasDetached=!0):(0,o.Kd)(`Unable to locate target ${this.attach||"[data-app]"}`,this)}}})},3377:function(t,e,n){"use strict";var i=n(144);e["Z"]=i.Z.extend({name:"elevatable",props:{elevation:[Number,String]},computed:{computedElevation(){return this.elevation},elevationClasses(){const t=this.computedElevation;return null==t||isNaN(parseInt(t))?{}:{[`elevation-${this.elevation}`]:!0}}}})},7352:function(t,e,n){"use strict";n.d(e,{d:function(){return s}});var i=n(6257);function s(t,e,n){return(0,i.f)(t,e,n).extend({name:"groupable",props:{activeClass:{type:String,default(){if(this[t])return this[t].activeClass}},disabled:Boolean},data(){return{isActive:!1}},computed:{groupClasses(){return this.activeClass?{[this.activeClass]:this.isActive}:{}}},created(){this[t]&&this[t].register(this)},beforeDestroy(){this[t]&&this[t].unregister(this)},methods:{toggle(){this.$emit("change")}}})}s("itemGroup")},1226:function(t,e,n){"use strict";n.d(e,{Z:function(){return m}});var i=n(144),s=n(5827),r=n(8083),o=n(6952),a=n(3536),c=n(1431),l=n(8085),u=n(4589),h=n(3325);const d=(0,h.Z)(o.Z,(0,a.d)(["absolute","fixed","top","bottom"]),c.Z,l.Z);var f=d.extend({name:"v-progress-linear",directives:{intersect:r.Z},props:{active:{type:Boolean,default:!0},backgroundColor:{type:String,default:null},backgroundOpacity:{type:[Number,String],default:null},bufferValue:{type:[Number,String],default:100},color:{type:String,default:"primary"},height:{type:[Number,String],default:4},indeterminate:Boolean,query:Boolean,reverse:Boolean,rounded:Boolean,stream:Boolean,striped:Boolean,value:{type:[Number,String],default:0}},data(){return{internalLazyValue:this.value||0,isVisible:!0}},computed:{__cachedBackground(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor||this.color,{staticClass:"v-progress-linear__background",style:this.backgroundStyle}))},__cachedBar(){return this.$createElement(this.computedTransition,[this.__cachedBarType])},__cachedBarType(){return this.indeterminate?this.__cachedIndeterminate:this.__cachedDeterminate},__cachedBuffer(){return this.$createElement("div",{staticClass:"v-progress-linear__buffer",style:this.styles})},__cachedDeterminate(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__determinate",style:{width:(0,u.kb)(this.normalizedValue,"%")}}))},__cachedIndeterminate(){return this.$createElement("div",{staticClass:"v-progress-linear__indeterminate",class:{"v-progress-linear__indeterminate--active":this.active}},[this.genProgressBar("long"),this.genProgressBar("short")])},__cachedStream(){return this.stream?this.$createElement("div",this.setTextColor(this.color,{staticClass:"v-progress-linear__stream",style:{width:(0,u.kb)(100-this.normalizedBuffer,"%")}})):null},backgroundStyle(){const t=null==this.backgroundOpacity?this.backgroundColor?1:.3:parseFloat(this.backgroundOpacity);return{opacity:t,[this.isReversed?"right":"left"]:(0,u.kb)(this.normalizedValue,"%"),width:(0,u.kb)(Math.max(0,this.normalizedBuffer-this.normalizedValue),"%")}},classes(){return{"v-progress-linear--absolute":this.absolute,"v-progress-linear--fixed":this.fixed,"v-progress-linear--query":this.query,"v-progress-linear--reactive":this.reactive,"v-progress-linear--reverse":this.isReversed,"v-progress-linear--rounded":this.rounded,"v-progress-linear--striped":this.striped,"v-progress-linear--visible":this.isVisible,...this.themeClasses}},computedTransition(){return this.indeterminate?s.Z5:s.Qn},isReversed(){return this.$vuetify.rtl!==this.reverse},normalizedBuffer(){return this.normalize(this.bufferValue)},normalizedValue(){return this.normalize(this.internalLazyValue)},reactive(){return Boolean(this.$listeners.change)},styles(){const t={};return this.active||(t.height=0),this.indeterminate||100===parseFloat(this.normalizedBuffer)||(t.width=(0,u.kb)(this.normalizedBuffer,"%")),t}},methods:{genContent(){const t=(0,u.z9)(this,"default",{value:this.internalLazyValue});return t?this.$createElement("div",{staticClass:"v-progress-linear__content"},t):null},genListeners(){const t=this.$listeners;return this.reactive&&(t.click=this.onClick),t},genProgressBar(t){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__indeterminate",class:{[t]:!0}}))},onClick(t){if(!this.reactive)return;const{width:e}=this.$el.getBoundingClientRect();this.internalValue=t.offsetX/e*100},onObserve(t,e,n){this.isVisible=n},normalize(t){return t<0?0:t>100?100:parseFloat(t)}},render(t){const e={staticClass:"v-progress-linear",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":this.normalizedBuffer,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,directives:[{name:"intersect",value:this.onObserve}],style:{bottom:this.bottom?0:void 0,height:this.active?(0,u.kb)(this.height):0,top:this.top?0:void 0},on:this.genListeners()};return t("div",e,[this.__cachedStream,this.__cachedBackground,this.__cachedBuffer,this.__cachedBar,this.genContent()])}}),p=f,m=i.Z.extend().extend({name:"loadable",props:{loading:{type:[Boolean,String],default:!1},loaderHeight:{type:[Number,String],default:2}},methods:{genProgress(){return!1===this.loading?null:this.$slots.progress||this.$createElement(p,{props:{absolute:!0,color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:this.loaderHeight,indeterminate:!0}})}}})},2529:function(t,e,n){"use strict";var i=n(4589),s=n(144);e["Z"]=s.Z.extend({name:"measurable",props:{height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},computed:{measurableStyles(){const t={},e=(0,i.kb)(this.height),n=(0,i.kb)(this.minHeight),s=(0,i.kb)(this.minWidth),r=(0,i.kb)(this.maxHeight),o=(0,i.kb)(this.maxWidth),a=(0,i.kb)(this.width);return e&&(t.height=e),n&&(t.minHeight=n),s&&(t.minWidth=s),r&&(t.maxHeight=r),o&&(t.maxWidth=o),a&&(t.width=a),t}}})},3536:function(t,e,n){"use strict";n.d(e,{d:function(){return o}});var i=n(144),s=n(4589);const r={absolute:Boolean,bottom:Boolean,fixed:Boolean,left:Boolean,right:Boolean,top:Boolean};function o(t=[]){return i.Z.extend({name:"positionable",props:t.length?(0,s.ji)(r,t):r})}e["Z"]=o()},1431:function(t,e,n){"use strict";var i=n(144);function s(t="value",e="change"){return i.Z.extend({name:"proxyable",model:{prop:t,event:e},props:{[t]:{required:!1}},data(){return{internalLazyValue:this[t]}},computed:{internalValue:{get(){return this.internalLazyValue},set(t){t!==this.internalLazyValue&&(this.internalLazyValue=t,this.$emit(e,t))}}},watch:{[t](t){this.internalLazyValue=t}}})}const r=s();e["Z"]=r},6257:function(t,e,n){"use strict";n.d(e,{f:function(){return o},J:function(){return a}});var i=n(144),s=n(1824);function r(t,e){return()=>(0,s.Kd)(`The ${t} component must be used inside a ${e}`)}function o(t,e,n){const s=e&&n?{register:r(e,n),unregister:r(e,n)}:null;return i.Z.extend({name:"registrable-inject",inject:{[t]:{default:s}}})}function a(t,e=!1){return i.Z.extend({name:"registrable-provide",provide(){return{[t]:e?this:{register:this.register,unregister:this.unregister}}}})}},423:function(t,e,n){"use strict";var i=n(144);e["Z"]=i.Z.extend({name:"returnable",props:{returnValue:null},data:()=>({isActive:!1,originalValue:null}),watch:{isActive(t){t?this.originalValue=this.returnValue:this.$emit("update:return-value",this.originalValue)}},methods:{save(t){this.originalValue=t,setTimeout((()=>{this.isActive=!1}))}}})},3712:function(t,e,n){"use strict";var i=n(144);e["Z"]=i.Z.extend({name:"roundable",props:{rounded:[Boolean,String],tile:Boolean},computed:{roundedClasses(){const t=[],e="string"===typeof this.rounded?String(this.rounded):!0===this.rounded;if(this.tile)t.push("rounded-0");else if("string"===typeof e){const n=e.split(" ");for(const e of n)t.push(`rounded-${e}`)}else e&&t.push("rounded");return t.length>0?{[t.join(" ")]:!0}:{}}}})},6505:function(t,e,n){"use strict";var i=n(144),s=n(6286),r=n(4589);e["Z"]=i.Z.extend({name:"routable",directives:{Ripple:s.Z},props:{activeClass:String,append:Boolean,disabled:Boolean,exact:{type:Boolean,default:void 0},exactPath:Boolean,exactActiveClass:String,link:Boolean,href:[String,Object],to:[String,Object],nuxt:Boolean,replace:Boolean,ripple:{type:[Boolean,Object],default:null},tag:String,target:String},data:()=>({isActive:!1,proxyClass:""}),computed:{classes(){const t={};return this.to||(this.activeClass&&(t[this.activeClass]=this.isActive),this.proxyClass&&(t[this.proxyClass]=this.isActive)),t},computedRipple(){var t;return null!=(t=this.ripple)?t:!this.disabled&&this.isClickable},isClickable(){return!this.disabled&&Boolean(this.isLink||this.$listeners.click||this.$listeners["!click"]||this.$attrs.tabindex)},isLink(){return this.to||this.href||this.link},styles:()=>({})},watch:{$route:"onRouteChange"},mounted(){this.onRouteChange()},methods:{generateRouteLink(){let t,e=this.exact;const n={attrs:{tabindex:"tabindex"in this.$attrs?this.$attrs.tabindex:void 0},class:this.classes,style:this.styles,props:{},directives:[{name:"ripple",value:this.computedRipple}],[this.to?"nativeOn":"on"]:{...this.$listeners,..."click"in this?{click:this.click}:void 0},ref:"link"};if("undefined"===typeof this.exact&&(e="/"===this.to||this.to===Object(this.to)&&"/"===this.to.path),this.to){let i=this.activeClass,s=this.exactActiveClass||i;this.proxyClass&&(i=`${i} ${this.proxyClass}`.trim(),s=`${s} ${this.proxyClass}`.trim()),t=this.nuxt?"nuxt-link":"router-link",Object.assign(n.props,{to:this.to,exact:e,exactPath:this.exactPath,activeClass:i,exactActiveClass:s,append:this.append,replace:this.replace})}else t=(this.href?"a":this.tag)||"div","a"===t&&this.href&&(n.attrs.href=this.href);return this.target&&(n.attrs.target=this.target),{tag:t,data:n}},onRouteChange(){if(!this.to||!this.$refs.link||!this.$route)return;const t=`${this.activeClass||""} ${this.proxyClass||""}`.trim(),e=`${this.exactActiveClass||""} ${this.proxyClass||""}`.trim()||t,n="_vnode.data.class."+(this.exact?e:t);this.$nextTick((()=>{!(0,r.vO)(this.$refs.link,n)===this.isActive&&this.toggle()}))},toggle(){this.isActive=!this.isActive}}})},9131:function(t,e,n){"use strict";var i=n(144);e["Z"]=i.Z.extend({name:"sizeable",props:{large:Boolean,small:Boolean,xLarge:Boolean,xSmall:Boolean},computed:{medium(){return Boolean(!this.xSmall&&!this.small&&!this.large&&!this.xLarge)},sizeableClasses(){return{"v-size--x-small":this.xSmall,"v-size--small":this.small,"v-size--default":this.medium,"v-size--large":this.large,"v-size--x-large":this.xLarge}}}})},5703:function(t,e,n){"use strict";var i=n(144),s=n(4589);e["Z"]=i.Z.extend().extend({name:"stackable",data(){return{stackElement:null,stackExclude:null,stackMinZIndex:0,isActive:!1}},computed:{activeZIndex(){if("undefined"===typeof window)return 0;const t=this.stackElement||this.$refs.content,e=this.isActive?this.getMaxZIndex(this.stackExclude||[t])+2:(0,s.KK)(t);return null==e?e:parseInt(e)}},methods:{getMaxZIndex(t=[]){const e=this.$el,n=[this.stackMinZIndex,(0,s.KK)(e)],i=[...document.getElementsByClassName("v-menu__content--active"),...document.getElementsByClassName("v-dialog__content--active")];for(let r=0;r<i.length;r++)t.includes(i[r])||n.push((0,s.KK)(i[r]));return Math.max(...n)}}})},8085:function(t,e,n){"use strict";n.d(e,{X:function(){return r}});var i=n(144);const s=i.Z.extend().extend({name:"themeable",provide(){return{theme:this.themeableProvide}},inject:{theme:{default:{isDark:!1}}},props:{dark:{type:Boolean,default:null},light:{type:Boolean,default:null}},data(){return{themeableProvide:{isDark:!1}}},computed:{appIsDark(){return this.$vuetify.theme.dark||!1},isDark(){return!0===this.dark||!0!==this.light&&this.theme.isDark},themeClasses(){return{"theme--dark":this.isDark,"theme--light":!this.isDark}},rootIsDark(){return!0===this.dark||!0!==this.light&&this.appIsDark},rootThemeClasses(){return{"theme--dark":this.rootIsDark,"theme--light":!this.rootIsDark}}},watch:{isDark:{handler(t,e){t!==e&&(this.themeableProvide.isDark=this.isDark)},immediate:!0}}});function r(t){const e={...t.props,...t.injections},n=s.options.computed.isDark.call(e);return s.options.computed.themeClasses.call({isDark:n})}e["Z"]=s},2936:function(t,e,n){"use strict";n.d(e,{d:function(){return s}});var i=n(144);function s(t="value",e="input"){return i.Z.extend({name:"toggleable",model:{prop:t,event:e},props:{[t]:{required:!1}},data(){return{isActive:!!this[t]}},watch:{[t](t){this.isActive=!!t},isActive(n){!!n!==this[t]&&this.$emit(e,n)}}})}const r=s();e["Z"]=r},6884:function(t,e,n){"use strict";var i=n(6952),s=n(8085),r=n(6257),o=n(4589),a=n(1824),c=n(3325);const l=(0,c.Z)(i.Z,(0,r.f)("form"),s.Z);e["Z"]=l.extend({name:"validatable",props:{disabled:Boolean,error:Boolean,errorCount:{type:[Number,String],default:1},errorMessages:{type:[String,Array],default:()=>[]},messages:{type:[String,Array],default:()=>[]},readonly:Boolean,rules:{type:Array,default:()=>[]},success:Boolean,successMessages:{type:[String,Array],default:()=>[]},validateOnBlur:Boolean,value:{required:!1}},data(){return{errorBucket:[],hasColor:!1,hasFocused:!1,hasInput:!1,isFocused:!1,isResetting:!1,lazyValue:this.value,valid:!1}},computed:{computedColor(){if(!this.isDisabled)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},hasError(){return this.internalErrorMessages.length>0||this.errorBucket.length>0||this.error},hasSuccess(){return this.internalSuccessMessages.length>0||this.success},externalError(){return this.internalErrorMessages.length>0||this.error},hasMessages(){return this.validationTarget.length>0},hasState(){return!this.isDisabled&&(this.hasSuccess||this.shouldValidate&&this.hasError)},internalErrorMessages(){return this.genInternalMessages(this.errorMessages)},internalMessages(){return this.genInternalMessages(this.messages)},internalSuccessMessages(){return this.genInternalMessages(this.successMessages)},internalValue:{get(){return this.lazyValue},set(t){this.lazyValue=t,this.$emit("input",t)}},isDisabled(){return this.disabled||!!this.form&&this.form.disabled},isInteractive(){return!this.isDisabled&&!this.isReadonly},isReadonly(){return this.readonly||!!this.form&&this.form.readonly},shouldValidate(){return!!this.externalError||!this.isResetting&&(this.validateOnBlur?this.hasFocused&&!this.isFocused:this.hasInput||this.hasFocused)},validations(){return this.validationTarget.slice(0,Number(this.errorCount))},validationState(){if(!this.isDisabled)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":this.hasColor?this.computedColor:void 0},validationTarget(){return this.internalErrorMessages.length>0?this.internalErrorMessages:this.successMessages&&this.successMessages.length>0?this.internalSuccessMessages:this.messages&&this.messages.length>0?this.internalMessages:this.shouldValidate?this.errorBucket:[]}},watch:{rules:{handler(t,e){(0,o.vZ)(t,e)||this.validate()},deep:!0},internalValue(){this.hasInput=!0,this.validateOnBlur||this.$nextTick(this.validate)},isFocused(t){t||this.isDisabled||(this.hasFocused=!0,this.validateOnBlur&&this.$nextTick(this.validate))},isResetting(){setTimeout((()=>{this.hasInput=!1,this.hasFocused=!1,this.isResetting=!1,this.validate()}),0)},hasError(t){this.shouldValidate&&this.$emit("update:error",t)},value(t){this.lazyValue=t}},beforeMount(){this.validate()},created(){this.form&&this.form.register(this)},beforeDestroy(){this.form&&this.form.unregister(this)},methods:{genInternalMessages(t){return t?Array.isArray(t)?t:[t]:[]},reset(){this.isResetting=!0,this.internalValue=Array.isArray(this.internalValue)?[]:null},resetValidation(){this.isResetting=!0},validate(t=!1,e){const n=[];e=e||this.internalValue,t&&(this.hasInput=this.hasFocused=!0);for(let i=0;i<this.rules.length;i++){const t=this.rules[i],s="function"===typeof t?t(e):t;!1===s||"string"===typeof s?n.push(s||""):"boolean"!==typeof s&&(0,a.N6)(`Rules should return a string or boolean, received '${typeof s}' instead`,this)}return this.errorBucket=n,this.valid=0===n.length,this.valid}}})},1439:function(t,e,n){"use strict";n.d(e,{A:function(){return I},Z:function(){return S}});var i={};n.r(i),n.d(i,{easeInCubic:function(){return l},easeInOutCubic:function(){return h},easeInOutQuad:function(){return c},easeInOutQuart:function(){return p},easeInOutQuint:function(){return v},easeInQuad:function(){return o},easeInQuart:function(){return d},easeInQuint:function(){return m},easeOutCubic:function(){return u},easeOutQuad:function(){return a},easeOutQuart:function(){return f},easeOutQuint:function(){return g},linear:function(){return r}});n(1703);var s=n(4097);const r=t=>t,o=t=>t**2,a=t=>t*(2-t),c=t=>t<.5?2*t**2:(4-2*t)*t-1,l=t=>t**3,u=t=>--t**3+1,h=t=>t<.5?4*t**3:(t-1)*(2*t-2)*(2*t-2)+1,d=t=>t**4,f=t=>1- --t**4,p=t=>t<.5?8*t*t*t*t:1-8*--t*t*t*t,m=t=>t**5,g=t=>1+--t**5,v=t=>t<.5?16*t**5:1+16*--t**5;function y(t){if("number"===typeof t)return t;let e=_(t);if(!e)throw"string"===typeof t?new Error(`Target element "${t}" not found.`):new TypeError(`Target must be a Number/Selector/HTMLElement/VueComponent, received ${w(t)} instead.`);let n=0;while(e)n+=e.offsetTop,e=e.offsetParent;return n}function b(t){const e=_(t);if(e)return e;throw"string"===typeof t?new Error(`Container element "${t}" not found.`):new TypeError(`Container must be a Selector/HTMLElement/VueComponent, received ${w(t)} instead.`)}function w(t){return null==t?t:t.constructor.name}function _(t){return"string"===typeof t?document.querySelector(t):t&&t._isVue?t.$el:t instanceof HTMLElement?t:null}function S(t,e={}){const n={container:document.scrollingElement||document.body||document.documentElement,duration:500,offset:0,easing:"easeInOutCubic",appOffset:!0,...e},s=b(n.container);if(n.appOffset&&S.framework.application){const t=s.classList.contains("v-navigation-drawer"),e=s.classList.contains("v-navigation-drawer--clipped"),{bar:i,top:r}=S.framework.application;n.offset+=i,t&&!e||(n.offset+=r)}const r=performance.now();let o;o="number"===typeof t?y(t)-n.offset:y(t)-y(s)-n.offset;const a=s.scrollTop;if(o===a)return Promise.resolve(o);const c="function"===typeof n.easing?n.easing:i[n.easing];if(!c)throw new TypeError(`Easing function "${n.easing}" not found.`);return new Promise((t=>requestAnimationFrame((function e(i){const l=i-r,u=Math.abs(n.duration?Math.min(l/n.duration,1):1);s.scrollTop=Math.floor(a+(o-a)*c(u));const h=s===document.body?document.documentElement.clientHeight:s.clientHeight,d=h+s.scrollTop>=s.scrollHeight;if(1===u||o>s.scrollTop&&d)return t(o);requestAnimationFrame(e)}))))}S.framework={},S.init=()=>{};class I extends s.t{constructor(){return super(),S}}I.property="goTo"},4097:function(t,e,n){"use strict";n.d(e,{t:function(){return i}});class i{constructor(){this.framework={}}init(t,e){}}},7093:function(t,e,n){"use strict";n.d(e,{NA:function(){return s},jx:function(){return r},I4:function(){return o},hq:function(){return a}});n(1703);var i=n(1824);function s(t){return!!t&&!!t.match(/^(#|var\(--|(rgb|hsl)a?\()/)}function r(t){let e;if("number"===typeof t)e=t;else{if("string"!==typeof t)throw new TypeError(`Colors can only be numbers or strings, recieved ${null==t?t:t.constructor.name} instead`);{let n="#"===t[0]?t.substring(1):t;3===n.length&&(n=n.split("").map((t=>t+t)).join("")),6!==n.length&&(0,i.Kd)(`'${t}' is not a valid rgb color`),e=parseInt(n,16)}}return e<0?((0,i.Kd)(`Colors cannot be negative: '${t}'`),e=0):(e>16777215||isNaN(e))&&((0,i.Kd)(`'${t}' is not a valid rgb color`),e=16777215),e}function o(t){let e=t.toString(16);return e.length<6&&(e="0".repeat(6-e.length)+e),"#"+e}function a(t){return o(r(t))}},1824:function(t,e,n){"use strict";n.d(e,{Kd:function(){return r},N6:function(){return o},fK:function(){return a},Jk:function(){return c}});var i=n(9132);function s(t,e,n){if(!i.Z.config.silent){if(n&&(e={_isVue:!0,$parent:n,$options:e}),e){if(e.$_alreadyWarned=e.$_alreadyWarned||[],e.$_alreadyWarned.includes(t))return;e.$_alreadyWarned.push(t)}return`[Vuetify] ${t}`+(e?d(e):"")}}function r(t,e,n){const i=s(t,e,n);null!=i&&console.warn(i)}function o(t,e,n){const i=s(t,e,n);null!=i&&console.error(i)}function a(t,e,n,i){o(`[BREAKING] '${t}' has been removed, use '${e}' instead. For more information, see the upgrade guide https://github.com/vuetifyjs/vuetify/releases/tag/v2.0.0#user-content-upgrade-guide`,n,i)}function c(t,e,n){r(`[REMOVED] '${t}' has been removed. You can safely omit it.`,e,n)}const l=/(?:^|[-_])(\w)/g,u=t=>t.replace(l,(t=>t.toUpperCase())).replace(/[-_]/g,"");function h(t,e){if(t.$root===t)return"<Root>";const n="function"===typeof t&&null!=t.cid?t.options:t._isVue?t.$options||t.constructor.options:t||{};let i=n.name||n._componentTag;const s=n.__file;if(!i&&s){const t=s.match(/([^/\\]+)\.vue$/);i=t&&t[1]}return(i?`<${u(i)}>`:"<Anonymous>")+(s&&!1!==e?` at ${s}`:"")}function d(t){if(t._isVue&&t.$parent){const e=[];let n=0;while(t){if(e.length>0){const i=e[e.length-1];if(i.constructor===t.constructor){n++,t=t.$parent;continue}n>0&&(e[e.length-1]=[i,n],n=0)}e.push(t),t=t.$parent}return"\n\nfound in\n\n"+e.map(((t,e)=>`${0===e?"---\x3e ":" ".repeat(5+2*e)}${Array.isArray(t)?`${h(t[0])}... (${t[1]} recursive calls)`:h(t)}`)).join("\n")}return`\n\n(found in ${h(t)})`}},1706:function(t,e,n){"use strict";function i(t){if("function"!==typeof t.getRootNode){while(t.parentNode)t=t.parentNode;return t!==document?null:document}const e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}n.d(e,{e:function(){return i}})},4589:function(t,e,n){"use strict";n.d(e,{Ji:function(){return s},qh:function(){return r},lj:function(){return a},qw:function(){return c},vZ:function(){return l},vO:function(){return u},KK:function(){return h},r:function(){return f},ji:function(){return p},kb:function(){return m},GL:function(){return g},Do:function(){return y},RB:function(){return b},XP:function(){return w},_A:function(){return S},jC:function(){return I},TI:function(){return x},sp:function(){return C},z9:function(){return E},uZ:function(){return T},Ee:function(){return k},iZ:function(){return A}});var i=n(144);function s(t,e="div",n){return i.Z.extend({name:n||t.replace(/__/g,"-"),functional:!0,props:{tag:{type:String,default:e}},render(e,{data:n,props:i,children:s}){return n.staticClass=`${t} ${n.staticClass||""}`.trim(),e(i.tag,n,s)}})}function r(t,e,n,i=!1){const s=r=>{n(r),t.removeEventListener(e,s,i)};t.addEventListener(e,s,i)}let o=!1;try{if("undefined"!==typeof window){const t=Object.defineProperty({},"passive",{get:()=>{o=!0}});window.addEventListener("testListener",t,t),window.removeEventListener("testListener",t,t)}}catch(D){console.warn(D)}function a(t,e,n,i){t.addEventListener(e,n,!!o&&i)}function c(t,e,n){const i=e.length-1;if(i<0)return void 0===t?n:t;for(let s=0;s<i;s++){if(null==t)return n;t=t[e[s]]}return null==t||void 0===t[e[i]]?n:t[e[i]]}function l(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime())return!1;if(t!==Object(t)||e!==Object(e))return!1;const n=Object.keys(t);return n.length===Object.keys(e).length&&n.every((n=>l(t[n],e[n])))}function u(t,e,n){return null!=t&&e&&"string"===typeof e?void 0!==t[e]?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),c(t,e.split("."),n)):n}function h(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return 0;const e=+window.getComputedStyle(t).getPropertyValue("z-index");return e||h(t.parentNode)}const d={"&":"&amp;","<":"&lt;",">":"&gt;"};function f(t){return t.replace(/[&<>]/g,(t=>d[t]||t))}function p(t,e){const n={};for(let i=0;i<e.length;i++){const s=e[i];"undefined"!==typeof t[s]&&(n[s]=t[s])}return n}function m(t,e="px"){return null==t||""===t?void 0:isNaN(+t)?String(t):`${Number(t)}${e}`}function g(t){return(t||"").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function v(t){return null!==t&&"object"===typeof t}const y=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function b(t,e){const n=t.$vuetify.icons.component;if(e.startsWith("$")){const n=`$vuetify.icons.values.${e.split("$").pop().split(".").pop()}`,i=u(t,n,e);if("string"!==typeof i)return i;e=i}return null==n?e:{component:n,props:{icon:e}}}function w(t){return Object.keys(t)}const _=/-(\w)/g,S=t=>t.replace(_,((t,e)=>e?e.toUpperCase():""));function I(t){return t.charAt(0).toUpperCase()+t.slice(1)}function x(t){return null!=t?Array.isArray(t)?t:[t]:[]}function C(t,e,n){return t.$slots.hasOwnProperty(e)&&t.$scopedSlots.hasOwnProperty(e)&&t.$scopedSlots[e].name?n?"v-slot":"scoped":t.$slots.hasOwnProperty(e)?"normal":t.$scopedSlots.hasOwnProperty(e)?"scoped":void 0}function E(t,e="default",n,i=!1){return t.$scopedSlots.hasOwnProperty(e)?t.$scopedSlots[e](n instanceof Function?n():n):!t.$slots.hasOwnProperty(e)||n&&!i?void 0:t.$slots[e]}function T(t,e=0,n=1){return Math.max(e,Math.min(n,t))}function k(t={},e={}){for(const n in e){const i=t[n],s=e[n];v(i)&&v(s)?t[n]=k(i,s):t[n]=s}return t}function A(t){if(t.composedPath)return t.composedPath();const e=[];let n=t.target;while(n){if(e.push(n),"HTML"===n.tagName)return e.push(document),e.push(window),e;n=n.parentElement}return e}},6290:function(t,e,n){"use strict";n.d(e,{ZP:function(){return o}});var i=n(4589);const s={styleList:/;(?![^(]*\))/g,styleProp:/:(.*)/};function r(t){const e={};for(const n of t.split(s.styleList)){let[t,r]=n.split(s.styleProp);t=t.trim(),t&&("string"===typeof r&&(r=r.trim()),e[(0,i._A)(t)]=r)}return e}function o(){const t={};let e,n=arguments.length;while(n--)for(e of Object.keys(arguments[n]))switch(e){case"class":case"directives":arguments[n][e]&&(t[e]=c(t[e],arguments[n][e]));break;case"style":arguments[n][e]&&(t[e]=a(t[e],arguments[n][e]));break;case"staticClass":if(!arguments[n][e])break;void 0===t[e]&&(t[e]=""),t[e]&&(t[e]+=" "),t[e]+=arguments[n][e].trim();break;case"on":case"nativeOn":arguments[n][e]&&(t[e]=l(t[e],arguments[n][e]));break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":if(!arguments[n][e])break;t[e]||(t[e]={}),t[e]={...arguments[n][e],...t[e]};break;default:t[e]||(t[e]=arguments[n][e])}return t}function a(t,e){return t?e?(t=(0,i.TI)("string"===typeof t?r(t):t),t.concat("string"===typeof e?r(e):e)):t:e}function c(t,e){return e?t&&t?(0,i.TI)(t).concat(e):e:t}function l(...t){if(!t[0])return t[1];if(!t[1])return t[0];const e={};for(let n=2;n--;){const i=t[n];for(const t in i)i[t]&&(e[t]?e[t]=[].concat(i[t],e[t]):e[t]=i[t])}return e}},3325:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var i=n(144);function s(...t){return i.Z.extend({mixins:t})}},7197:function(t,e){"use strict";
/*!
 * vue-textarea-autosize v1.1.1 
 * (c) 2019 Saymon
 * Released under the MIT License.
 */var n={name:"TextareaAutosize",props:{value:{type:[String,Number],default:""},autosize:{type:Boolean,default:!0},minHeight:{type:[Number],default:null},maxHeight:{type:[Number],default:null},important:{type:[Boolean,Array],default:!1}},data:function(){return{val:null,maxHeightScroll:!1,height:"auto"}},computed:{computedStyles:function(){return this.autosize?{resize:this.isResizeImportant?"none !important":"none",height:this.height,overflow:this.maxHeightScroll?"auto":this.isOverflowImportant?"hidden !important":"hidden"}:{}},isResizeImportant:function(){var t=this.important;return!0===t||Array.isArray(t)&&t.includes("resize")},isOverflowImportant:function(){var t=this.important;return!0===t||Array.isArray(t)&&t.includes("overflow")},isHeightImportant:function(){var t=this.important;return!0===t||Array.isArray(t)&&t.includes("height")}},watch:{value:function(t){this.val=t},val:function(t){this.$nextTick(this.resize),this.$emit("input",t)},minHeight:function(){this.$nextTick(this.resize)},maxHeight:function(){this.$nextTick(this.resize)},autosize:function(t){t&&this.resize()}},methods:{resize:function(){var t=this,e=this.isHeightImportant?"important":"";return this.height="auto".concat(e?" !important":""),this.$nextTick((function(){var n=t.$el.scrollHeight+1;t.minHeight&&(n=n<t.minHeight?t.minHeight:n),t.maxHeight&&(n>t.maxHeight?(n=t.maxHeight,t.maxHeightScroll=!0):t.maxHeightScroll=!1);var i=n+"px";t.height="".concat(i).concat(e?" !important":"")})),this}},created:function(){this.val=this.value},mounted:function(){this.resize()}};function i(t,e,n,i,s,r,o,a,c,l){"boolean"!==typeof o&&(c=a,a=o,o=!1);var u,h="function"===typeof n?n.options:n;if(t&&t.render&&(h.render=t.render,h.staticRenderFns=t.staticRenderFns,h._compiled=!0,s&&(h.functional=!0)),i&&(h._scopeId=i),r?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},h._ssrRegister=u):e&&(u=o?function(){e.call(this,l(this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),u)if(h.functional){var d=h.render;h.render=function(t,e){return u.call(e),d(t,e)}}else{var f=h.beforeCreate;h.beforeCreate=f?[].concat(f,u):[u]}return n}var s=i;const r=n;var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],style:t.computedStyles,domProps:{value:t.val},on:{focus:t.resize,input:function(e){e.target.composing||(t.val=e.target.value)}}})},a=[];const c=void 0,l=void 0,u=void 0,h=!1;var d=s({render:o,staticRenderFns:a},c,r,l,h,u,void 0,void 0),f="1.1.1",p=function(t){t.component("TextareaAutosize",d)},m={install:p,version:f};"undefined"!==typeof window&&window.Vue&&window.Vue.use(m),e["Z"]=m},144:function(t,e,n){"use strict";
/*!
 * Vue.js v2.6.14
 * (c) 2014-2021 Evan You
 * Released under the MIT License.
 */var i=Object.freeze({});function s(t){return void 0===t||null===t}function r(t){return void 0!==t&&null!==t}function o(t){return!0===t}function a(t){return!1===t}function c(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function l(t){return null!==t&&"object"===typeof t}var u=Object.prototype.toString;function h(t){return"[object Object]"===u.call(t)}function d(t){return"[object RegExp]"===u.call(t)}function f(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function p(t){return r(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function m(t){return null==t?"":Array.isArray(t)||h(t)&&t.toString===u?JSON.stringify(t,null,2):String(t)}function g(t){var e=parseFloat(t);return isNaN(e)?t:e}function v(t,e){for(var n=Object.create(null),i=t.split(","),s=0;s<i.length;s++)n[i[s]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}v("slot,component",!0);var y=v("key,ref,slot,slot-scope,is");function b(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var w=Object.prototype.hasOwnProperty;function _(t,e){return w.call(t,e)}function S(t){var e=Object.create(null);return function(n){var i=e[n];return i||(e[n]=t(n))}}var I=/-(\w)/g,x=S((function(t){return t.replace(I,(function(t,e){return e?e.toUpperCase():""}))})),C=S((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),E=/\B([A-Z])/g,T=S((function(t){return t.replace(E,"-$1").toLowerCase()}));function k(t,e){function n(n){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function A(t,e){return t.bind(e)}var D=Function.prototype.bind?A:k;function O(t,e){e=e||0;var n=t.length-e,i=new Array(n);while(n--)i[n]=t[n+e];return i}function N(t,e){for(var n in e)t[n]=e[n];return t}function L(t){for(var e={},n=0;n<t.length;n++)t[n]&&N(e,t[n]);return e}function $(t,e,n){}var M=function(t,e,n){return!1},P=function(t){return t};function F(t,e){if(t===e)return!0;var n=l(t),i=l(e);if(!n||!i)return!n&&!i&&String(t)===String(e);try{var s=Array.isArray(t),r=Array.isArray(e);if(s&&r)return t.length===e.length&&t.every((function(t,n){return F(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(s||r)return!1;var o=Object.keys(t),a=Object.keys(e);return o.length===a.length&&o.every((function(n){return F(t[n],e[n])}))}catch(c){return!1}}function R(t,e){for(var n=0;n<t.length;n++)if(F(t[n],e))return n;return-1}function V(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var B="data-server-rendered",j=["component","directive","filter"],U=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],q={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:M,isReservedAttr:M,isUnknownElement:M,getTagNamespace:$,parsePlatformTagName:P,mustUseProp:M,async:!0,_lifecycleHooks:U},z=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function H(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function Z(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var W=new RegExp("[^"+z.source+".$_\\d]");function K(t){if(!W.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var G,Q="__proto__"in{},Y="undefined"!==typeof window,X="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,J=X&&WXEnvironment.platform.toLowerCase(),tt=Y&&window.navigator.userAgent.toLowerCase(),et=tt&&/msie|trident/.test(tt),nt=tt&&tt.indexOf("msie 9.0")>0,it=tt&&tt.indexOf("edge/")>0,st=(tt&&tt.indexOf("android"),tt&&/iphone|ipad|ipod|ios/.test(tt)||"ios"===J),rt=(tt&&/chrome\/\d+/.test(tt),tt&&/phantomjs/.test(tt),tt&&tt.match(/firefox\/(\d+)/)),ot={}.watch,at=!1;if(Y)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){at=!0}}),window.addEventListener("test-passive",null,ct)}catch(Co){}var lt=function(){return void 0===G&&(G=!Y&&!X&&"undefined"!==typeof n.g&&(n.g["process"]&&"server"===n.g["process"].env.VUE_ENV)),G},ut=Y&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ht(t){return"function"===typeof t&&/native code/.test(t.toString())}var dt,ft="undefined"!==typeof Symbol&&ht(Symbol)&&"undefined"!==typeof Reflect&&ht(Reflect.ownKeys);dt="undefined"!==typeof Set&&ht(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var pt=$,mt=0,gt=function(){this.id=mt++,this.subs=[]};gt.prototype.addSub=function(t){this.subs.push(t)},gt.prototype.removeSub=function(t){b(this.subs,t)},gt.prototype.depend=function(){gt.target&&gt.target.addDep(this)},gt.prototype.notify=function(){var t=this.subs.slice();for(var e=0,n=t.length;e<n;e++)t[e].update()},gt.target=null;var vt=[];function yt(t){vt.push(t),gt.target=t}function bt(){vt.pop(),gt.target=vt[vt.length-1]}var wt=function(t,e,n,i,s,r,o,a){this.tag=t,this.data=e,this.children=n,this.text=i,this.elm=s,this.ns=void 0,this.context=r,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},_t={child:{configurable:!0}};_t.child.get=function(){return this.componentInstance},Object.defineProperties(wt.prototype,_t);var St=function(t){void 0===t&&(t="");var e=new wt;return e.text=t,e.isComment=!0,e};function It(t){return new wt(void 0,void 0,void 0,String(t))}function xt(t){var e=new wt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var Ct=Array.prototype,Et=Object.create(Ct),Tt=["push","pop","shift","unshift","splice","sort","reverse"];Tt.forEach((function(t){var e=Ct[t];Z(Et,t,(function(){var n=[],i=arguments.length;while(i--)n[i]=arguments[i];var s,r=e.apply(this,n),o=this.__ob__;switch(t){case"push":case"unshift":s=n;break;case"splice":s=n.slice(2);break}return s&&o.observeArray(s),o.dep.notify(),r}))}));var kt=Object.getOwnPropertyNames(Et),At=!0;function Dt(t){At=t}var Ot=function(t){this.value=t,this.dep=new gt,this.vmCount=0,Z(t,"__ob__",this),Array.isArray(t)?(Q?Nt(t,Et):Lt(t,Et,kt),this.observeArray(t)):this.walk(t)};function Nt(t,e){t.__proto__=e}function Lt(t,e,n){for(var i=0,s=n.length;i<s;i++){var r=n[i];Z(t,r,e[r])}}function $t(t,e){var n;if(l(t)&&!(t instanceof wt))return _(t,"__ob__")&&t.__ob__ instanceof Ot?n=t.__ob__:At&&!lt()&&(Array.isArray(t)||h(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Ot(t)),e&&n&&n.vmCount++,n}function Mt(t,e,n,i,s){var r=new gt,o=Object.getOwnPropertyDescriptor(t,e);if(!o||!1!==o.configurable){var a=o&&o.get,c=o&&o.set;a&&!c||2!==arguments.length||(n=t[e]);var l=!s&&$t(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=a?a.call(t):n;return gt.target&&(r.depend(),l&&(l.dep.depend(),Array.isArray(e)&&Rt(e))),e},set:function(e){var i=a?a.call(t):n;e===i||e!==e&&i!==i||a&&!c||(c?c.call(t,e):n=e,l=!s&&$t(e),r.notify())}})}}function Pt(t,e,n){if(Array.isArray(t)&&f(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var i=t.__ob__;return t._isVue||i&&i.vmCount?n:i?(Mt(i.value,e,n),i.dep.notify(),n):(t[e]=n,n)}function Ft(t,e){if(Array.isArray(t)&&f(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||_(t,e)&&(delete t[e],n&&n.dep.notify())}}function Rt(t){for(var e=void 0,n=0,i=t.length;n<i;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&Rt(e)}Ot.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Mt(t,e[n])},Ot.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)$t(t[e])};var Vt=q.optionMergeStrategies;function Bt(t,e){if(!e)return t;for(var n,i,s,r=ft?Reflect.ownKeys(e):Object.keys(e),o=0;o<r.length;o++)n=r[o],"__ob__"!==n&&(i=t[n],s=e[n],_(t,n)?i!==s&&h(i)&&h(s)&&Bt(i,s):Pt(t,n,s));return t}function jt(t,e,n){return n?function(){var i="function"===typeof e?e.call(n,n):e,s="function"===typeof t?t.call(n,n):t;return i?Bt(i,s):s}:e?t?function(){return Bt("function"===typeof e?e.call(this,this):e,"function"===typeof t?t.call(this,this):t)}:e:t}function Ut(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?qt(n):n}function qt(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function zt(t,e,n,i){var s=Object.create(t||null);return e?N(s,e):s}Vt.data=function(t,e,n){return n?jt(t,e,n):e&&"function"!==typeof e?t:jt(t,e)},U.forEach((function(t){Vt[t]=Ut})),j.forEach((function(t){Vt[t+"s"]=zt})),Vt.watch=function(t,e,n,i){if(t===ot&&(t=void 0),e===ot&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var s={};for(var r in N(s,t),e){var o=s[r],a=e[r];o&&!Array.isArray(o)&&(o=[o]),s[r]=o?o.concat(a):Array.isArray(a)?a:[a]}return s},Vt.props=Vt.methods=Vt.inject=Vt.computed=function(t,e,n,i){if(!t)return e;var s=Object.create(null);return N(s,t),e&&N(s,e),s},Vt.provide=jt;var Ht=function(t,e){return void 0===e?t:e};function Zt(t,e){var n=t.props;if(n){var i,s,r,o={};if(Array.isArray(n)){i=n.length;while(i--)s=n[i],"string"===typeof s&&(r=x(s),o[r]={type:null})}else if(h(n))for(var a in n)s=n[a],r=x(a),o[r]=h(s)?s:{type:s};else 0;t.props=o}}function Wt(t,e){var n=t.inject;if(n){var i=t.inject={};if(Array.isArray(n))for(var s=0;s<n.length;s++)i[n[s]]={from:n[s]};else if(h(n))for(var r in n){var o=n[r];i[r]=h(o)?N({from:r},o):{from:o}}else 0}}function Kt(t){var e=t.directives;if(e)for(var n in e){var i=e[n];"function"===typeof i&&(e[n]={bind:i,update:i})}}function Gt(t,e,n){if("function"===typeof e&&(e=e.options),Zt(e,n),Wt(e,n),Kt(e),!e._base&&(e.extends&&(t=Gt(t,e.extends,n)),e.mixins))for(var i=0,s=e.mixins.length;i<s;i++)t=Gt(t,e.mixins[i],n);var r,o={};for(r in t)a(r);for(r in e)_(t,r)||a(r);function a(i){var s=Vt[i]||Ht;o[i]=s(t[i],e[i],n,i)}return o}function Qt(t,e,n,i){if("string"===typeof n){var s=t[e];if(_(s,n))return s[n];var r=x(n);if(_(s,r))return s[r];var o=C(r);if(_(s,o))return s[o];var a=s[n]||s[r]||s[o];return a}}function Yt(t,e,n,i){var s=e[t],r=!_(n,t),o=n[t],a=ne(Boolean,s.type);if(a>-1)if(r&&!_(s,"default"))o=!1;else if(""===o||o===T(t)){var c=ne(String,s.type);(c<0||a<c)&&(o=!0)}if(void 0===o){o=Xt(i,s,t);var l=At;Dt(!0),$t(o),Dt(l)}return o}function Xt(t,e,n){if(_(e,"default")){var i=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"===typeof i&&"Function"!==te(e.type)?i.call(t):i}}var Jt=/^\s*function (\w+)/;function te(t){var e=t&&t.toString().match(Jt);return e?e[1]:""}function ee(t,e){return te(t)===te(e)}function ne(t,e){if(!Array.isArray(e))return ee(e,t)?0:-1;for(var n=0,i=e.length;n<i;n++)if(ee(e[n],t))return n;return-1}function ie(t,e,n){yt();try{if(e){var i=e;while(i=i.$parent){var s=i.$options.errorCaptured;if(s)for(var r=0;r<s.length;r++)try{var o=!1===s[r].call(i,t,e,n);if(o)return}catch(Co){re(Co,i,"errorCaptured hook")}}}re(t,e,n)}finally{bt()}}function se(t,e,n,i,s){var r;try{r=n?t.apply(e,n):t.call(e),r&&!r._isVue&&p(r)&&!r._handled&&(r.catch((function(t){return ie(t,i,s+" (Promise/async)")})),r._handled=!0)}catch(Co){ie(Co,i,s)}return r}function re(t,e,n){if(q.errorHandler)try{return q.errorHandler.call(null,t,e,n)}catch(Co){Co!==t&&oe(Co,null,"config.errorHandler")}oe(t,e,n)}function oe(t,e,n){if(!Y&&!X||"undefined"===typeof console)throw t;console.error(t)}var ae,ce=!1,le=[],ue=!1;function he(){ue=!1;var t=le.slice(0);le.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&ht(Promise)){var de=Promise.resolve();ae=function(){de.then(he),st&&setTimeout($)},ce=!0}else if(et||"undefined"===typeof MutationObserver||!ht(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())ae="undefined"!==typeof setImmediate&&ht(setImmediate)?function(){setImmediate(he)}:function(){setTimeout(he,0)};else{var fe=1,pe=new MutationObserver(he),me=document.createTextNode(String(fe));pe.observe(me,{characterData:!0}),ae=function(){fe=(fe+1)%2,me.data=String(fe)},ce=!0}function ge(t,e){var n;if(le.push((function(){if(t)try{t.call(e)}catch(Co){ie(Co,e,"nextTick")}else n&&n(e)})),ue||(ue=!0,ae()),!t&&"undefined"!==typeof Promise)return new Promise((function(t){n=t}))}var ve=new dt;function ye(t){be(t,ve),ve.clear()}function be(t,e){var n,i,s=Array.isArray(t);if(!(!s&&!l(t)||Object.isFrozen(t)||t instanceof wt)){if(t.__ob__){var r=t.__ob__.dep.id;if(e.has(r))return;e.add(r)}if(s){n=t.length;while(n--)be(t[n],e)}else{i=Object.keys(t),n=i.length;while(n--)be(t[i[n]],e)}}}var we=S((function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var i="!"===t.charAt(0);return t=i?t.slice(1):t,{name:t,once:n,capture:i,passive:e}}));function _e(t,e){function n(){var t=arguments,i=n.fns;if(!Array.isArray(i))return se(i,null,arguments,e,"v-on handler");for(var s=i.slice(),r=0;r<s.length;r++)se(s[r],null,t,e,"v-on handler")}return n.fns=t,n}function Se(t,e,n,i,r,a){var c,l,u,h;for(c in t)l=t[c],u=e[c],h=we(c),s(l)||(s(u)?(s(l.fns)&&(l=t[c]=_e(l,a)),o(h.once)&&(l=t[c]=r(h.name,l,h.capture)),n(h.name,l,h.capture,h.passive,h.params)):l!==u&&(u.fns=l,t[c]=u));for(c in e)s(t[c])&&(h=we(c),i(h.name,e[c],h.capture))}function Ie(t,e,n){var i;t instanceof wt&&(t=t.data.hook||(t.data.hook={}));var a=t[e];function c(){n.apply(this,arguments),b(i.fns,c)}s(a)?i=_e([c]):r(a.fns)&&o(a.merged)?(i=a,i.fns.push(c)):i=_e([a,c]),i.merged=!0,t[e]=i}function xe(t,e,n){var i=e.options.props;if(!s(i)){var o={},a=t.attrs,c=t.props;if(r(a)||r(c))for(var l in i){var u=T(l);Ce(o,c,l,u,!0)||Ce(o,a,l,u,!1)}return o}}function Ce(t,e,n,i,s){if(r(e)){if(_(e,n))return t[n]=e[n],s||delete e[n],!0;if(_(e,i))return t[n]=e[i],s||delete e[i],!0}return!1}function Ee(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function Te(t){return c(t)?[It(t)]:Array.isArray(t)?Ae(t):void 0}function ke(t){return r(t)&&r(t.text)&&a(t.isComment)}function Ae(t,e){var n,i,a,l,u=[];for(n=0;n<t.length;n++)i=t[n],s(i)||"boolean"===typeof i||(a=u.length-1,l=u[a],Array.isArray(i)?i.length>0&&(i=Ae(i,(e||"")+"_"+n),ke(i[0])&&ke(l)&&(u[a]=It(l.text+i[0].text),i.shift()),u.push.apply(u,i)):c(i)?ke(l)?u[a]=It(l.text+i):""!==i&&u.push(It(i)):ke(i)&&ke(l)?u[a]=It(l.text+i.text):(o(t._isVList)&&r(i.tag)&&s(i.key)&&r(e)&&(i.key="__vlist"+e+"_"+n+"__"),u.push(i)));return u}function De(t){var e=t.$options.provide;e&&(t._provided="function"===typeof e?e.call(t):e)}function Oe(t){var e=Ne(t.$options.inject,t);e&&(Dt(!1),Object.keys(e).forEach((function(n){Mt(t,n,e[n])})),Dt(!0))}function Ne(t,e){if(t){for(var n=Object.create(null),i=ft?Reflect.ownKeys(t):Object.keys(t),s=0;s<i.length;s++){var r=i[s];if("__ob__"!==r){var o=t[r].from,a=e;while(a){if(a._provided&&_(a._provided,o)){n[r]=a._provided[o];break}a=a.$parent}if(!a)if("default"in t[r]){var c=t[r].default;n[r]="function"===typeof c?c.call(e):c}else 0}}return n}}function Le(t,e){if(!t||!t.length)return{};for(var n={},i=0,s=t.length;i<s;i++){var r=t[i],o=r.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,r.context!==e&&r.fnContext!==e||!o||null==o.slot)(n.default||(n.default=[])).push(r);else{var a=o.slot,c=n[a]||(n[a]=[]);"template"===r.tag?c.push.apply(c,r.children||[]):c.push(r)}}for(var l in n)n[l].every($e)&&delete n[l];return n}function $e(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Me(t){return t.isComment&&t.asyncFactory}function Pe(t,e,n){var s,r=Object.keys(e).length>0,o=t?!!t.$stable:!r,a=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(o&&n&&n!==i&&a===n.$key&&!r&&!n.$hasNormal)return n;for(var c in s={},t)t[c]&&"$"!==c[0]&&(s[c]=Fe(e,c,t[c]))}else s={};for(var l in e)l in s||(s[l]=Re(e,l));return t&&Object.isExtensible(t)&&(t._normalized=s),Z(s,"$stable",o),Z(s,"$key",a),Z(s,"$hasNormal",r),s}function Fe(t,e,n){var i=function(){var t=arguments.length?n.apply(null,arguments):n({});t=t&&"object"===typeof t&&!Array.isArray(t)?[t]:Te(t);var e=t&&t[0];return t&&(!e||1===t.length&&e.isComment&&!Me(e))?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:i,enumerable:!0,configurable:!0}),i}function Re(t,e){return function(){return t[e]}}function Ve(t,e){var n,i,s,o,a;if(Array.isArray(t)||"string"===typeof t)for(n=new Array(t.length),i=0,s=t.length;i<s;i++)n[i]=e(t[i],i);else if("number"===typeof t)for(n=new Array(t),i=0;i<t;i++)n[i]=e(i+1,i);else if(l(t))if(ft&&t[Symbol.iterator]){n=[];var c=t[Symbol.iterator](),u=c.next();while(!u.done)n.push(e(u.value,n.length)),u=c.next()}else for(o=Object.keys(t),n=new Array(o.length),i=0,s=o.length;i<s;i++)a=o[i],n[i]=e(t[a],a,i);return r(n)||(n=[]),n._isVList=!0,n}function Be(t,e,n,i){var s,r=this.$scopedSlots[t];r?(n=n||{},i&&(n=N(N({},i),n)),s=r(n)||("function"===typeof e?e():e)):s=this.$slots[t]||("function"===typeof e?e():e);var o=n&&n.slot;return o?this.$createElement("template",{slot:o},s):s}function je(t){return Qt(this.$options,"filters",t,!0)||P}function Ue(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function qe(t,e,n,i,s){var r=q.keyCodes[e]||n;return s&&i&&!q.keyCodes[e]?Ue(s,i):r?Ue(r,t):i?T(i)!==e:void 0===t}function ze(t,e,n,i,s){if(n)if(l(n)){var r;Array.isArray(n)&&(n=L(n));var o=function(o){if("class"===o||"style"===o||y(o))r=t;else{var a=t.attrs&&t.attrs.type;r=i||q.mustUseProp(e,a,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var c=x(o),l=T(o);if(!(c in r)&&!(l in r)&&(r[o]=n[o],s)){var u=t.on||(t.on={});u["update:"+o]=function(t){n[o]=t}}};for(var a in n)o(a)}else;return t}function He(t,e){var n=this._staticTrees||(this._staticTrees=[]),i=n[t];return i&&!e||(i=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),We(i,"__static__"+t,!1)),i}function Ze(t,e,n){return We(t,"__once__"+e+(n?"_"+n:""),!0),t}function We(t,e,n){if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]&&"string"!==typeof t[i]&&Ke(t[i],e+"_"+i,n);else Ke(t,e,n)}function Ke(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Ge(t,e){if(e)if(h(e)){var n=t.on=t.on?N({},t.on):{};for(var i in e){var s=n[i],r=e[i];n[i]=s?[].concat(s,r):r}}else;return t}function Qe(t,e,n,i){e=e||{$stable:!n};for(var s=0;s<t.length;s++){var r=t[s];Array.isArray(r)?Qe(r,e,n):r&&(r.proxy&&(r.fn.proxy=!0),e[r.key]=r.fn)}return i&&(e.$key=i),e}function Ye(t,e){for(var n=0;n<e.length;n+=2){var i=e[n];"string"===typeof i&&i&&(t[e[n]]=e[n+1])}return t}function Xe(t,e){return"string"===typeof t?e+t:t}function Je(t){t._o=Ze,t._n=g,t._s=m,t._l=Ve,t._t=Be,t._q=F,t._i=R,t._m=He,t._f=je,t._k=qe,t._b=ze,t._v=It,t._e=St,t._u=Qe,t._g=Ge,t._d=Ye,t._p=Xe}function tn(t,e,n,s,r){var a,c=this,l=r.options;_(s,"_uid")?(a=Object.create(s),a._original=s):(a=s,s=s._original);var u=o(l._compiled),h=!u;this.data=t,this.props=e,this.children=n,this.parent=s,this.listeners=t.on||i,this.injections=Ne(l.inject,s),this.slots=function(){return c.$slots||Pe(t.scopedSlots,c.$slots=Le(n,s)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Pe(t.scopedSlots,this.slots())}}),u&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=Pe(t.scopedSlots,this.$slots)),l._scopeId?this._c=function(t,e,n,i){var r=pn(a,t,e,n,i,h);return r&&!Array.isArray(r)&&(r.fnScopeId=l._scopeId,r.fnContext=s),r}:this._c=function(t,e,n,i){return pn(a,t,e,n,i,h)}}function en(t,e,n,s,o){var a=t.options,c={},l=a.props;if(r(l))for(var u in l)c[u]=Yt(u,l,e||i);else r(n.attrs)&&sn(c,n.attrs),r(n.props)&&sn(c,n.props);var h=new tn(n,c,o,s,t),d=a.render.call(null,h._c,h);if(d instanceof wt)return nn(d,n,h.parent,a,h);if(Array.isArray(d)){for(var f=Te(d)||[],p=new Array(f.length),m=0;m<f.length;m++)p[m]=nn(f[m],n,h.parent,a,h);return p}}function nn(t,e,n,i,s){var r=xt(t);return r.fnContext=n,r.fnOptions=i,e.slot&&((r.data||(r.data={})).slot=e.slot),r}function sn(t,e){for(var n in e)t[x(n)]=e[n]}Je(tn.prototype);var rn={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;rn.prepatch(n,n)}else{var i=t.componentInstance=cn(t,Nn);i.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,i=e.componentInstance=t.componentInstance;Fn(i,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,jn(n,"mounted")),t.data.keepAlive&&(e._isMounted?ti(n):Vn(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Bn(e,!0):e.$destroy())}},on=Object.keys(rn);function an(t,e,n,i,a){if(!s(t)){var c=n.$options._base;if(l(t)&&(t=c.extend(t)),"function"===typeof t){var u;if(s(t.cid)&&(u=t,t=xn(u,c),void 0===t))return In(u,e,n,i,a);e=e||{},Ii(t),r(e.model)&&hn(t.options,e);var h=xe(e,t,a);if(o(t.options.functional))return en(t,h,e,n,i);var d=e.on;if(e.on=e.nativeOn,o(t.options.abstract)){var f=e.slot;e={},f&&(e.slot=f)}ln(e);var p=t.options.name||a,m=new wt("vue-component-"+t.cid+(p?"-"+p:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:h,listeners:d,tag:a,children:i},u);return m}}}function cn(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},i=t.data.inlineTemplate;return r(i)&&(n.render=i.render,n.staticRenderFns=i.staticRenderFns),new t.componentOptions.Ctor(n)}function ln(t){for(var e=t.hook||(t.hook={}),n=0;n<on.length;n++){var i=on[n],s=e[i],r=rn[i];s===r||s&&s._merged||(e[i]=s?un(r,s):r)}}function un(t,e){var n=function(n,i){t(n,i),e(n,i)};return n._merged=!0,n}function hn(t,e){var n=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var s=e.on||(e.on={}),o=s[i],a=e.model.callback;r(o)?(Array.isArray(o)?-1===o.indexOf(a):o!==a)&&(s[i]=[a].concat(o)):s[i]=a}var dn=1,fn=2;function pn(t,e,n,i,s,r){return(Array.isArray(n)||c(n))&&(s=i,i=n,n=void 0),o(r)&&(s=fn),mn(t,e,n,i,s)}function mn(t,e,n,i,s){if(r(n)&&r(n.__ob__))return St();if(r(n)&&r(n.is)&&(e=n.is),!e)return St();var o,a,c;(Array.isArray(i)&&"function"===typeof i[0]&&(n=n||{},n.scopedSlots={default:i[0]},i.length=0),s===fn?i=Te(i):s===dn&&(i=Ee(i)),"string"===typeof e)?(a=t.$vnode&&t.$vnode.ns||q.getTagNamespace(e),o=q.isReservedTag(e)?new wt(q.parsePlatformTagName(e),n,i,void 0,void 0,t):n&&n.pre||!r(c=Qt(t.$options,"components",e))?new wt(e,n,i,void 0,void 0,t):an(c,n,t,i,e)):o=an(e,n,t,i);return Array.isArray(o)?o:r(o)?(r(a)&&gn(o,a),r(n)&&vn(n),o):St()}function gn(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),r(t.children))for(var i=0,a=t.children.length;i<a;i++){var c=t.children[i];r(c.tag)&&(s(c.ns)||o(n)&&"svg"!==c.tag)&&gn(c,e,n)}}function vn(t){l(t.style)&&ye(t.style),l(t.class)&&ye(t.class)}function yn(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,s=n&&n.context;t.$slots=Le(e._renderChildren,s),t.$scopedSlots=i,t._c=function(e,n,i,s){return pn(t,e,n,i,s,!1)},t.$createElement=function(e,n,i,s){return pn(t,e,n,i,s,!0)};var r=n&&n.data;Mt(t,"$attrs",r&&r.attrs||i,null,!0),Mt(t,"$listeners",e._parentListeners||i,null,!0)}var bn,wn=null;function _n(t){Je(t.prototype),t.prototype.$nextTick=function(t){return ge(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,i=n.render,s=n._parentVnode;s&&(e.$scopedSlots=Pe(s.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=s;try{wn=e,t=i.call(e._renderProxy,e.$createElement)}catch(Co){ie(Co,e,"render"),t=e._vnode}finally{wn=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof wt||(t=St()),t.parent=s,t}}function Sn(t,e){return(t.__esModule||ft&&"Module"===t[Symbol.toStringTag])&&(t=t.default),l(t)?e.extend(t):t}function In(t,e,n,i,s){var r=St();return r.asyncFactory=t,r.asyncMeta={data:e,context:n,children:i,tag:s},r}function xn(t,e){if(o(t.error)&&r(t.errorComp))return t.errorComp;if(r(t.resolved))return t.resolved;var n=wn;if(n&&r(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),o(t.loading)&&r(t.loadingComp))return t.loadingComp;if(n&&!r(t.owners)){var i=t.owners=[n],a=!0,c=null,u=null;n.$on("hook:destroyed",(function(){return b(i,n)}));var h=function(t){for(var e=0,n=i.length;e<n;e++)i[e].$forceUpdate();t&&(i.length=0,null!==c&&(clearTimeout(c),c=null),null!==u&&(clearTimeout(u),u=null))},d=V((function(n){t.resolved=Sn(n,e),a?i.length=0:h(!0)})),f=V((function(e){r(t.errorComp)&&(t.error=!0,h(!0))})),m=t(d,f);return l(m)&&(p(m)?s(t.resolved)&&m.then(d,f):p(m.component)&&(m.component.then(d,f),r(m.error)&&(t.errorComp=Sn(m.error,e)),r(m.loading)&&(t.loadingComp=Sn(m.loading,e),0===m.delay?t.loading=!0:c=setTimeout((function(){c=null,s(t.resolved)&&s(t.error)&&(t.loading=!0,h(!1))}),m.delay||200)),r(m.timeout)&&(u=setTimeout((function(){u=null,s(t.resolved)&&f(null)}),m.timeout)))),a=!1,t.loading?t.loadingComp:t.resolved}}function Cn(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(r(n)&&(r(n.componentOptions)||Me(n)))return n}}function En(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Dn(t,e)}function Tn(t,e){bn.$on(t,e)}function kn(t,e){bn.$off(t,e)}function An(t,e){var n=bn;return function i(){var s=e.apply(null,arguments);null!==s&&n.$off(t,i)}}function Dn(t,e,n){bn=t,Se(e,n||{},Tn,kn,An,t),bn=void 0}function On(t){var e=/^hook:/;t.prototype.$on=function(t,n){var i=this;if(Array.isArray(t))for(var s=0,r=t.length;s<r;s++)i.$on(t[s],n);else(i._events[t]||(i._events[t]=[])).push(n),e.test(t)&&(i._hasHookEvent=!0);return i},t.prototype.$once=function(t,e){var n=this;function i(){n.$off(t,i),e.apply(n,arguments)}return i.fn=e,n.$on(t,i),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var i=0,s=t.length;i<s;i++)n.$off(t[i],e);return n}var r,o=n._events[t];if(!o)return n;if(!e)return n._events[t]=null,n;var a=o.length;while(a--)if(r=o[a],r===e||r.fn===e){o.splice(a,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?O(n):n;for(var i=O(arguments,1),s='event handler for "'+t+'"',r=0,o=n.length;r<o;r++)se(n[r],e,i,e,s)}return e}}var Nn=null;function Ln(t){var e=Nn;return Nn=t,function(){Nn=e}}function $n(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Mn(t){t.prototype._update=function(t,e){var n=this,i=n.$el,s=n._vnode,r=Ln(n);n._vnode=t,n.$el=s?n.__patch__(s,t):n.__patch__(n.$el,t,e,!1),r(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){jn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||b(e.$children,t),t._watcher&&t._watcher.teardown();var n=t._watchers.length;while(n--)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),jn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Pn(t,e,n){var i;return t.$el=e,t.$options.render||(t.$options.render=St),jn(t,"beforeMount"),i=function(){t._update(t._render(),n)},new si(t,i,$,{before:function(){t._isMounted&&!t._isDestroyed&&jn(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,jn(t,"mounted")),t}function Fn(t,e,n,s,r){var o=s.data.scopedSlots,a=t.$scopedSlots,c=!!(o&&!o.$stable||a!==i&&!a.$stable||o&&t.$scopedSlots.$key!==o.$key||!o&&t.$scopedSlots.$key),l=!!(r||t.$options._renderChildren||c);if(t.$options._parentVnode=s,t.$vnode=s,t._vnode&&(t._vnode.parent=s),t.$options._renderChildren=r,t.$attrs=s.data.attrs||i,t.$listeners=n||i,e&&t.$options.props){Dt(!1);for(var u=t._props,h=t.$options._propKeys||[],d=0;d<h.length;d++){var f=h[d],p=t.$options.props;u[f]=Yt(f,p,e,t)}Dt(!0),t.$options.propsData=e}n=n||i;var m=t.$options._parentListeners;t.$options._parentListeners=n,Dn(t,n,m),l&&(t.$slots=Le(r,s.context),t.$forceUpdate())}function Rn(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function Vn(t,e){if(e){if(t._directInactive=!1,Rn(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Vn(t.$children[n]);jn(t,"activated")}}function Bn(t,e){if((!e||(t._directInactive=!0,!Rn(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Bn(t.$children[n]);jn(t,"deactivated")}}function jn(t,e){yt();var n=t.$options[e],i=e+" hook";if(n)for(var s=0,r=n.length;s<r;s++)se(n[s],t,null,t,i);t._hasHookEvent&&t.$emit("hook:"+e),bt()}var Un=[],qn=[],zn={},Hn=!1,Zn=!1,Wn=0;function Kn(){Wn=Un.length=qn.length=0,zn={},Hn=Zn=!1}var Gn=0,Qn=Date.now;if(Y&&!et){var Yn=window.performance;Yn&&"function"===typeof Yn.now&&Qn()>document.createEvent("Event").timeStamp&&(Qn=function(){return Yn.now()})}function Xn(){var t,e;for(Gn=Qn(),Zn=!0,Un.sort((function(t,e){return t.id-e.id})),Wn=0;Wn<Un.length;Wn++)t=Un[Wn],t.before&&t.before(),e=t.id,zn[e]=null,t.run();var n=qn.slice(),i=Un.slice();Kn(),ei(n),Jn(i),ut&&q.devtools&&ut.emit("flush")}function Jn(t){var e=t.length;while(e--){var n=t[e],i=n.vm;i._watcher===n&&i._isMounted&&!i._isDestroyed&&jn(i,"updated")}}function ti(t){t._inactive=!1,qn.push(t)}function ei(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Vn(t[e],!0)}function ni(t){var e=t.id;if(null==zn[e]){if(zn[e]=!0,Zn){var n=Un.length-1;while(n>Wn&&Un[n].id>t.id)n--;Un.splice(n+1,0,t)}else Un.push(t);Hn||(Hn=!0,ge(Xn))}}var ii=0,si=function(t,e,n,i,s){this.vm=t,s&&(t._watcher=this),t._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++ii,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new dt,this.newDepIds=new dt,this.expression="","function"===typeof e?this.getter=e:(this.getter=K(e),this.getter||(this.getter=$)),this.value=this.lazy?void 0:this.get()};si.prototype.get=function(){var t;yt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(Co){if(!this.user)throw Co;ie(Co,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ye(t),bt(),this.cleanupDeps()}return t},si.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},si.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},si.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():ni(this)},si.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||l(t)||this.deep){var e=this.value;if(this.value=t,this.user){var n='callback for watcher "'+this.expression+'"';se(this.cb,this.vm,[t,e],this.vm,n)}else this.cb.call(this.vm,t,e)}}},si.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},si.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},si.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||b(this.vm._watchers,this);var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1}};var ri={enumerable:!0,configurable:!0,get:$,set:$};function oi(t,e,n){ri.get=function(){return this[e][n]},ri.set=function(t){this[e][n]=t},Object.defineProperty(t,n,ri)}function ai(t){t._watchers=[];var e=t.$options;e.props&&ci(t,e.props),e.methods&&gi(t,e.methods),e.data?li(t):$t(t._data={},!0),e.computed&&di(t,e.computed),e.watch&&e.watch!==ot&&vi(t,e.watch)}function ci(t,e){var n=t.$options.propsData||{},i=t._props={},s=t.$options._propKeys=[],r=!t.$parent;r||Dt(!1);var o=function(r){s.push(r);var o=Yt(r,e,n,t);Mt(i,r,o),r in t||oi(t,"_props",r)};for(var a in e)o(a);Dt(!0)}function li(t){var e=t.$options.data;e=t._data="function"===typeof e?ui(e,t):e||{},h(e)||(e={});var n=Object.keys(e),i=t.$options.props,s=(t.$options.methods,n.length);while(s--){var r=n[s];0,i&&_(i,r)||H(r)||oi(t,"_data",r)}$t(e,!0)}function ui(t,e){yt();try{return t.call(e,e)}catch(Co){return ie(Co,e,"data()"),{}}finally{bt()}}var hi={lazy:!0};function di(t,e){var n=t._computedWatchers=Object.create(null),i=lt();for(var s in e){var r=e[s],o="function"===typeof r?r:r.get;0,i||(n[s]=new si(t,o||$,$,hi)),s in t||fi(t,s,r)}}function fi(t,e,n){var i=!lt();"function"===typeof n?(ri.get=i?pi(e):mi(n),ri.set=$):(ri.get=n.get?i&&!1!==n.cache?pi(e):mi(n.get):$,ri.set=n.set||$),Object.defineProperty(t,e,ri)}function pi(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),gt.target&&e.depend(),e.value}}function mi(t){return function(){return t.call(this,this)}}function gi(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?$:D(e[n],t)}function vi(t,e){for(var n in e){var i=e[n];if(Array.isArray(i))for(var s=0;s<i.length;s++)yi(t,n,i[s]);else yi(t,n,i)}}function yi(t,e,n,i){return h(n)&&(i=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,i)}function bi(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Pt,t.prototype.$delete=Ft,t.prototype.$watch=function(t,e,n){var i=this;if(h(e))return yi(i,t,e,n);n=n||{},n.user=!0;var s=new si(i,t,e,n);if(n.immediate){var r='callback for immediate watcher "'+s.expression+'"';yt(),se(e,i,[s.value],i,r),bt()}return function(){s.teardown()}}}var wi=0;function _i(t){t.prototype._init=function(t){var e=this;e._uid=wi++,e._isVue=!0,t&&t._isComponent?Si(e,t):e.$options=Gt(Ii(e.constructor),t||{},e),e._renderProxy=e,e._self=e,$n(e),En(e),yn(e),jn(e,"beforeCreate"),Oe(e),ai(e),De(e),jn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function Si(t,e){var n=t.$options=Object.create(t.constructor.options),i=e._parentVnode;n.parent=e.parent,n._parentVnode=i;var s=i.componentOptions;n.propsData=s.propsData,n._parentListeners=s.listeners,n._renderChildren=s.children,n._componentTag=s.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function Ii(t){var e=t.options;if(t.super){var n=Ii(t.super),i=t.superOptions;if(n!==i){t.superOptions=n;var s=xi(t);s&&N(t.extendOptions,s),e=t.options=Gt(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function xi(t){var e,n=t.options,i=t.sealedOptions;for(var s in n)n[s]!==i[s]&&(e||(e={}),e[s]=n[s]);return e}function Ci(t){this._init(t)}function Ei(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=O(arguments,1);return n.unshift(this),"function"===typeof t.install?t.install.apply(t,n):"function"===typeof t&&t.apply(null,n),e.push(t),this}}function Ti(t){t.mixin=function(t){return this.options=Gt(this.options,t),this}}function ki(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,i=n.cid,s=t._Ctor||(t._Ctor={});if(s[i])return s[i];var r=t.name||n.options.name;var o=function(t){this._init(t)};return o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.cid=e++,o.options=Gt(n.options,t),o["super"]=n,o.options.props&&Ai(o),o.options.computed&&Di(o),o.extend=n.extend,o.mixin=n.mixin,o.use=n.use,j.forEach((function(t){o[t]=n[t]})),r&&(o.options.components[r]=o),o.superOptions=n.options,o.extendOptions=t,o.sealedOptions=N({},o.options),s[i]=o,o}}function Ai(t){var e=t.options.props;for(var n in e)oi(t.prototype,"_props",n)}function Di(t){var e=t.options.computed;for(var n in e)fi(t.prototype,n,e[n])}function Oi(t){j.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&h(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"===typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}function Ni(t){return t&&(t.Ctor.options.name||t.tag)}function Li(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!d(t)&&t.test(e)}function $i(t,e){var n=t.cache,i=t.keys,s=t._vnode;for(var r in n){var o=n[r];if(o){var a=o.name;a&&!e(a)&&Mi(n,r,i,s)}}}function Mi(t,e,n,i){var s=t[e];!s||i&&s.tag===i.tag||s.componentInstance.$destroy(),t[e]=null,b(n,e)}_i(Ci),bi(Ci),On(Ci),Mn(Ci),_n(Ci);var Pi=[String,RegExp,Array],Fi={name:"keep-alive",abstract:!0,props:{include:Pi,exclude:Pi,max:[String,Number]},methods:{cacheVNode:function(){var t=this,e=t.cache,n=t.keys,i=t.vnodeToCache,s=t.keyToCache;if(i){var r=i.tag,o=i.componentInstance,a=i.componentOptions;e[s]={name:Ni(a),tag:r,componentInstance:o},n.push(s),this.max&&n.length>parseInt(this.max)&&Mi(e,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Mi(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",(function(e){$i(t,(function(t){return Li(e,t)}))})),this.$watch("exclude",(function(e){$i(t,(function(t){return!Li(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=Cn(t),n=e&&e.componentOptions;if(n){var i=Ni(n),s=this,r=s.include,o=s.exclude;if(r&&(!i||!Li(r,i))||o&&i&&Li(o,i))return e;var a=this,c=a.cache,l=a.keys,u=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;c[u]?(e.componentInstance=c[u].componentInstance,b(l,u),l.push(u)):(this.vnodeToCache=e,this.keyToCache=u),e.data.keepAlive=!0}return e||t&&t[0]}},Ri={KeepAlive:Fi};function Vi(t){var e={get:function(){return q}};Object.defineProperty(t,"config",e),t.util={warn:pt,extend:N,mergeOptions:Gt,defineReactive:Mt},t.set=Pt,t.delete=Ft,t.nextTick=ge,t.observable=function(t){return $t(t),t},t.options=Object.create(null),j.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,N(t.options.components,Ri),Ei(t),Ti(t),ki(t),Oi(t)}Vi(Ci),Object.defineProperty(Ci.prototype,"$isServer",{get:lt}),Object.defineProperty(Ci.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Ci,"FunctionalRenderContext",{value:tn}),Ci.version="2.6.14";var Bi=v("style,class"),ji=v("input,textarea,option,select,progress"),Ui=function(t,e,n){return"value"===n&&ji(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},qi=v("contenteditable,draggable,spellcheck"),zi=v("events,caret,typing,plaintext-only"),Hi=function(t,e){return Qi(e)||"false"===e?"false":"contenteditable"===t&&zi(e)?e:"true"},Zi=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Wi="http://www.w3.org/1999/xlink",Ki=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Gi=function(t){return Ki(t)?t.slice(6,t.length):""},Qi=function(t){return null==t||!1===t};function Yi(t){var e=t.data,n=t,i=t;while(r(i.componentInstance))i=i.componentInstance._vnode,i&&i.data&&(e=Xi(i.data,e));while(r(n=n.parent))n&&n.data&&(e=Xi(e,n.data));return Ji(e.staticClass,e.class)}function Xi(t,e){return{staticClass:ts(t.staticClass,e.staticClass),class:r(t.class)?[t.class,e.class]:e.class}}function Ji(t,e){return r(t)||r(e)?ts(t,es(e)):""}function ts(t,e){return t?e?t+" "+e:t:e||""}function es(t){return Array.isArray(t)?ns(t):l(t)?is(t):"string"===typeof t?t:""}function ns(t){for(var e,n="",i=0,s=t.length;i<s;i++)r(e=es(t[i]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function is(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var ss={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},rs=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),os=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),as=function(t){return rs(t)||os(t)};function cs(t){return os(t)?"svg":"math"===t?"math":void 0}var ls=Object.create(null);function us(t){if(!Y)return!0;if(as(t))return!1;if(t=t.toLowerCase(),null!=ls[t])return ls[t];var e=document.createElement(t);return t.indexOf("-")>-1?ls[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:ls[t]=/HTMLUnknownElement/.test(e.toString())}var hs=v("text,number,password,search,email,tel,url");function ds(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function fs(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function ps(t,e){return document.createElementNS(ss[t],e)}function ms(t){return document.createTextNode(t)}function gs(t){return document.createComment(t)}function vs(t,e,n){t.insertBefore(e,n)}function ys(t,e){t.removeChild(e)}function bs(t,e){t.appendChild(e)}function ws(t){return t.parentNode}function _s(t){return t.nextSibling}function Ss(t){return t.tagName}function Is(t,e){t.textContent=e}function xs(t,e){t.setAttribute(e,"")}var Cs=Object.freeze({createElement:fs,createElementNS:ps,createTextNode:ms,createComment:gs,insertBefore:vs,removeChild:ys,appendChild:bs,parentNode:ws,nextSibling:_s,tagName:Ss,setTextContent:Is,setStyleScope:xs}),Es={create:function(t,e){Ts(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Ts(t,!0),Ts(e))},destroy:function(t){Ts(t,!0)}};function Ts(t,e){var n=t.data.ref;if(r(n)){var i=t.context,s=t.componentInstance||t.elm,o=i.$refs;e?Array.isArray(o[n])?b(o[n],s):o[n]===s&&(o[n]=void 0):t.data.refInFor?Array.isArray(o[n])?o[n].indexOf(s)<0&&o[n].push(s):o[n]=[s]:o[n]=s}}var ks=new wt("",{},[]),As=["create","activate","update","remove","destroy"];function Ds(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&r(t.data)===r(e.data)&&Os(t,e)||o(t.isAsyncPlaceholder)&&s(e.asyncFactory.error))}function Os(t,e){if("input"!==t.tag)return!0;var n,i=r(n=t.data)&&r(n=n.attrs)&&n.type,s=r(n=e.data)&&r(n=n.attrs)&&n.type;return i===s||hs(i)&&hs(s)}function Ns(t,e,n){var i,s,o={};for(i=e;i<=n;++i)s=t[i].key,r(s)&&(o[s]=i);return o}function Ls(t){var e,n,i={},a=t.modules,l=t.nodeOps;for(e=0;e<As.length;++e)for(i[As[e]]=[],n=0;n<a.length;++n)r(a[n][As[e]])&&i[As[e]].push(a[n][As[e]]);function u(t){return new wt(l.tagName(t).toLowerCase(),{},[],void 0,t)}function h(t,e){function n(){0===--n.listeners&&d(t)}return n.listeners=e,n}function d(t){var e=l.parentNode(t);r(e)&&l.removeChild(e,t)}function f(t,e,n,i,s,a,c){if(r(t.elm)&&r(a)&&(t=a[c]=xt(t)),t.isRootInsert=!s,!p(t,e,n,i)){var u=t.data,h=t.children,d=t.tag;r(d)?(t.elm=t.ns?l.createElementNS(t.ns,d):l.createElement(d,t),S(t),b(t,h,e),r(u)&&_(t,e),y(n,t.elm,i)):o(t.isComment)?(t.elm=l.createComment(t.text),y(n,t.elm,i)):(t.elm=l.createTextNode(t.text),y(n,t.elm,i))}}function p(t,e,n,i){var s=t.data;if(r(s)){var a=r(t.componentInstance)&&s.keepAlive;if(r(s=s.hook)&&r(s=s.init)&&s(t,!1),r(t.componentInstance))return m(t,e),y(n,t.elm,i),o(a)&&g(t,e,n,i),!0}}function m(t,e){r(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,w(t)?(_(t,e),S(t)):(Ts(t),e.push(t))}function g(t,e,n,s){var o,a=t;while(a.componentInstance)if(a=a.componentInstance._vnode,r(o=a.data)&&r(o=o.transition)){for(o=0;o<i.activate.length;++o)i.activate[o](ks,a);e.push(a);break}y(n,t.elm,s)}function y(t,e,n){r(t)&&(r(n)?l.parentNode(n)===t&&l.insertBefore(t,e,n):l.appendChild(t,e))}function b(t,e,n){if(Array.isArray(e)){0;for(var i=0;i<e.length;++i)f(e[i],n,t.elm,null,!0,e,i)}else c(t.text)&&l.appendChild(t.elm,l.createTextNode(String(t.text)))}function w(t){while(t.componentInstance)t=t.componentInstance._vnode;return r(t.tag)}function _(t,n){for(var s=0;s<i.create.length;++s)i.create[s](ks,t);e=t.data.hook,r(e)&&(r(e.create)&&e.create(ks,t),r(e.insert)&&n.push(t))}function S(t){var e;if(r(e=t.fnScopeId))l.setStyleScope(t.elm,e);else{var n=t;while(n)r(e=n.context)&&r(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e),n=n.parent}r(e=Nn)&&e!==t.context&&e!==t.fnContext&&r(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e)}function I(t,e,n,i,s,r){for(;i<=s;++i)f(n[i],r,t,e,!1,n,i)}function x(t){var e,n,s=t.data;if(r(s))for(r(e=s.hook)&&r(e=e.destroy)&&e(t),e=0;e<i.destroy.length;++e)i.destroy[e](t);if(r(e=t.children))for(n=0;n<t.children.length;++n)x(t.children[n])}function C(t,e,n){for(;e<=n;++e){var i=t[e];r(i)&&(r(i.tag)?(E(i),x(i)):d(i.elm))}}function E(t,e){if(r(e)||r(t.data)){var n,s=i.remove.length+1;for(r(e)?e.listeners+=s:e=h(t.elm,s),r(n=t.componentInstance)&&r(n=n._vnode)&&r(n.data)&&E(n,e),n=0;n<i.remove.length;++n)i.remove[n](t,e);r(n=t.data.hook)&&r(n=n.remove)?n(t,e):e()}else d(t.elm)}function T(t,e,n,i,o){var a,c,u,h,d=0,p=0,m=e.length-1,g=e[0],v=e[m],y=n.length-1,b=n[0],w=n[y],_=!o;while(d<=m&&p<=y)s(g)?g=e[++d]:s(v)?v=e[--m]:Ds(g,b)?(A(g,b,i,n,p),g=e[++d],b=n[++p]):Ds(v,w)?(A(v,w,i,n,y),v=e[--m],w=n[--y]):Ds(g,w)?(A(g,w,i,n,y),_&&l.insertBefore(t,g.elm,l.nextSibling(v.elm)),g=e[++d],w=n[--y]):Ds(v,b)?(A(v,b,i,n,p),_&&l.insertBefore(t,v.elm,g.elm),v=e[--m],b=n[++p]):(s(a)&&(a=Ns(e,d,m)),c=r(b.key)?a[b.key]:k(b,e,d,m),s(c)?f(b,i,t,g.elm,!1,n,p):(u=e[c],Ds(u,b)?(A(u,b,i,n,p),e[c]=void 0,_&&l.insertBefore(t,u.elm,g.elm)):f(b,i,t,g.elm,!1,n,p)),b=n[++p]);d>m?(h=s(n[y+1])?null:n[y+1].elm,I(t,h,n,p,y,i)):p>y&&C(e,d,m)}function k(t,e,n,i){for(var s=n;s<i;s++){var o=e[s];if(r(o)&&Ds(t,o))return s}}function A(t,e,n,a,c,u){if(t!==e){r(e.elm)&&r(a)&&(e=a[c]=xt(e));var h=e.elm=t.elm;if(o(t.isAsyncPlaceholder))r(e.asyncFactory.resolved)?N(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=t.componentInstance;else{var d,f=e.data;r(f)&&r(d=f.hook)&&r(d=d.prepatch)&&d(t,e);var p=t.children,m=e.children;if(r(f)&&w(e)){for(d=0;d<i.update.length;++d)i.update[d](t,e);r(d=f.hook)&&r(d=d.update)&&d(t,e)}s(e.text)?r(p)&&r(m)?p!==m&&T(h,p,m,n,u):r(m)?(r(t.text)&&l.setTextContent(h,""),I(h,null,m,0,m.length-1,n)):r(p)?C(p,0,p.length-1):r(t.text)&&l.setTextContent(h,""):t.text!==e.text&&l.setTextContent(h,e.text),r(f)&&r(d=f.hook)&&r(d=d.postpatch)&&d(t,e)}}}function D(t,e,n){if(o(n)&&r(t.parent))t.parent.data.pendingInsert=e;else for(var i=0;i<e.length;++i)e[i].data.hook.insert(e[i])}var O=v("attrs,class,staticClass,staticStyle,key");function N(t,e,n,i){var s,a=e.tag,c=e.data,l=e.children;if(i=i||c&&c.pre,e.elm=t,o(e.isComment)&&r(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(r(c)&&(r(s=c.hook)&&r(s=s.init)&&s(e,!0),r(s=e.componentInstance)))return m(e,n),!0;if(r(a)){if(r(l))if(t.hasChildNodes())if(r(s=c)&&r(s=s.domProps)&&r(s=s.innerHTML)){if(s!==t.innerHTML)return!1}else{for(var u=!0,h=t.firstChild,d=0;d<l.length;d++){if(!h||!N(h,l[d],n,i)){u=!1;break}h=h.nextSibling}if(!u||h)return!1}else b(e,l,n);if(r(c)){var f=!1;for(var p in c)if(!O(p)){f=!0,_(e,n);break}!f&&c["class"]&&ye(c["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,a){if(!s(e)){var c=!1,h=[];if(s(t))c=!0,f(e,h);else{var d=r(t.nodeType);if(!d&&Ds(t,e))A(t,e,h,null,null,a);else{if(d){if(1===t.nodeType&&t.hasAttribute(B)&&(t.removeAttribute(B),n=!0),o(n)&&N(t,e,h))return D(e,h,!0),t;t=u(t)}var p=t.elm,m=l.parentNode(p);if(f(e,h,p._leaveCb?null:m,l.nextSibling(p)),r(e.parent)){var g=e.parent,v=w(e);while(g){for(var y=0;y<i.destroy.length;++y)i.destroy[y](g);if(g.elm=e.elm,v){for(var b=0;b<i.create.length;++b)i.create[b](ks,g);var _=g.data.hook.insert;if(_.merged)for(var S=1;S<_.fns.length;S++)_.fns[S]()}else Ts(g);g=g.parent}}r(m)?C([t],0,0):r(t.tag)&&x(t)}}return D(e,h,c),e.elm}r(t)&&x(t)}}var $s={create:Ms,update:Ms,destroy:function(t){Ms(t,ks)}};function Ms(t,e){(t.data.directives||e.data.directives)&&Ps(t,e)}function Ps(t,e){var n,i,s,r=t===ks,o=e===ks,a=Rs(t.data.directives,t.context),c=Rs(e.data.directives,e.context),l=[],u=[];for(n in c)i=a[n],s=c[n],i?(s.oldValue=i.value,s.oldArg=i.arg,Bs(s,"update",e,t),s.def&&s.def.componentUpdated&&u.push(s)):(Bs(s,"bind",e,t),s.def&&s.def.inserted&&l.push(s));if(l.length){var h=function(){for(var n=0;n<l.length;n++)Bs(l[n],"inserted",e,t)};r?Ie(e,"insert",h):h()}if(u.length&&Ie(e,"postpatch",(function(){for(var n=0;n<u.length;n++)Bs(u[n],"componentUpdated",e,t)})),!r)for(n in a)c[n]||Bs(a[n],"unbind",t,t,o)}var Fs=Object.create(null);function Rs(t,e){var n,i,s=Object.create(null);if(!t)return s;for(n=0;n<t.length;n++)i=t[n],i.modifiers||(i.modifiers=Fs),s[Vs(i)]=i,i.def=Qt(e.$options,"directives",i.name,!0);return s}function Vs(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Bs(t,e,n,i,s){var r=t.def&&t.def[e];if(r)try{r(n.elm,t,n,i,s)}catch(Co){ie(Co,n.context,"directive "+t.name+" "+e+" hook")}}var js=[Es,$s];function Us(t,e){var n=e.componentOptions;if((!r(n)||!1!==n.Ctor.options.inheritAttrs)&&(!s(t.data.attrs)||!s(e.data.attrs))){var i,o,a,c=e.elm,l=t.data.attrs||{},u=e.data.attrs||{};for(i in r(u.__ob__)&&(u=e.data.attrs=N({},u)),u)o=u[i],a=l[i],a!==o&&qs(c,i,o,e.data.pre);for(i in(et||it)&&u.value!==l.value&&qs(c,"value",u.value),l)s(u[i])&&(Ki(i)?c.removeAttributeNS(Wi,Gi(i)):qi(i)||c.removeAttribute(i))}}function qs(t,e,n,i){i||t.tagName.indexOf("-")>-1?zs(t,e,n):Zi(e)?Qi(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):qi(e)?t.setAttribute(e,Hi(e,n)):Ki(e)?Qi(n)?t.removeAttributeNS(Wi,Gi(e)):t.setAttributeNS(Wi,e,n):zs(t,e,n)}function zs(t,e,n){if(Qi(n))t.removeAttribute(e);else{if(et&&!nt&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var i=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",i)};t.addEventListener("input",i),t.__ieph=!0}t.setAttribute(e,n)}}var Hs={create:Us,update:Us};function Zs(t,e){var n=e.elm,i=e.data,o=t.data;if(!(s(i.staticClass)&&s(i.class)&&(s(o)||s(o.staticClass)&&s(o.class)))){var a=Yi(e),c=n._transitionClasses;r(c)&&(a=ts(a,es(c))),a!==n._prevClass&&(n.setAttribute("class",a),n._prevClass=a)}}var Ws,Ks={create:Zs,update:Zs},Gs="__r",Qs="__c";function Ys(t){if(r(t[Gs])){var e=et?"change":"input";t[e]=[].concat(t[Gs],t[e]||[]),delete t[Gs]}r(t[Qs])&&(t.change=[].concat(t[Qs],t.change||[]),delete t[Qs])}function Xs(t,e,n){var i=Ws;return function s(){var r=e.apply(null,arguments);null!==r&&er(t,s,n,i)}}var Js=ce&&!(rt&&Number(rt[1])<=53);function tr(t,e,n,i){if(Js){var s=Gn,r=e;e=r._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=s||t.timeStamp<=0||t.target.ownerDocument!==document)return r.apply(this,arguments)}}Ws.addEventListener(t,e,at?{capture:n,passive:i}:n)}function er(t,e,n,i){(i||Ws).removeEventListener(t,e._wrapper||e,n)}function nr(t,e){if(!s(t.data.on)||!s(e.data.on)){var n=e.data.on||{},i=t.data.on||{};Ws=e.elm,Ys(n),Se(n,i,tr,er,Xs,e.context),Ws=void 0}}var ir,sr={create:nr,update:nr};function rr(t,e){if(!s(t.data.domProps)||!s(e.data.domProps)){var n,i,o=e.elm,a=t.data.domProps||{},c=e.data.domProps||{};for(n in r(c.__ob__)&&(c=e.data.domProps=N({},c)),a)n in c||(o[n]="");for(n in c){if(i=c[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),i===a[n])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===n&&"PROGRESS"!==o.tagName){o._value=i;var l=s(i)?"":String(i);or(o,l)&&(o.value=l)}else if("innerHTML"===n&&os(o.tagName)&&s(o.innerHTML)){ir=ir||document.createElement("div"),ir.innerHTML="<svg>"+i+"</svg>";var u=ir.firstChild;while(o.firstChild)o.removeChild(o.firstChild);while(u.firstChild)o.appendChild(u.firstChild)}else if(i!==a[n])try{o[n]=i}catch(Co){}}}}function or(t,e){return!t.composing&&("OPTION"===t.tagName||ar(t,e)||cr(t,e))}function ar(t,e){var n=!0;try{n=document.activeElement!==t}catch(Co){}return n&&t.value!==e}function cr(t,e){var n=t.value,i=t._vModifiers;if(r(i)){if(i.number)return g(n)!==g(e);if(i.trim)return n.trim()!==e.trim()}return n!==e}var lr={create:rr,update:rr},ur=S((function(t){var e={},n=/;(?![^(]*\))/g,i=/:(.+)/;return t.split(n).forEach((function(t){if(t){var n=t.split(i);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}));function hr(t){var e=dr(t.style);return t.staticStyle?N(t.staticStyle,e):e}function dr(t){return Array.isArray(t)?L(t):"string"===typeof t?ur(t):t}function fr(t,e){var n,i={};if(e){var s=t;while(s.componentInstance)s=s.componentInstance._vnode,s&&s.data&&(n=hr(s.data))&&N(i,n)}(n=hr(t.data))&&N(i,n);var r=t;while(r=r.parent)r.data&&(n=hr(r.data))&&N(i,n);return i}var pr,mr=/^--/,gr=/\s*!important$/,vr=function(t,e,n){if(mr.test(e))t.style.setProperty(e,n);else if(gr.test(n))t.style.setProperty(T(e),n.replace(gr,""),"important");else{var i=br(e);if(Array.isArray(n))for(var s=0,r=n.length;s<r;s++)t.style[i]=n[s];else t.style[i]=n}},yr=["Webkit","Moz","ms"],br=S((function(t){if(pr=pr||document.createElement("div").style,t=x(t),"filter"!==t&&t in pr)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<yr.length;n++){var i=yr[n]+e;if(i in pr)return i}}));function wr(t,e){var n=e.data,i=t.data;if(!(s(n.staticStyle)&&s(n.style)&&s(i.staticStyle)&&s(i.style))){var o,a,c=e.elm,l=i.staticStyle,u=i.normalizedStyle||i.style||{},h=l||u,d=dr(e.data.style)||{};e.data.normalizedStyle=r(d.__ob__)?N({},d):d;var f=fr(e,!0);for(a in h)s(f[a])&&vr(c,a,"");for(a in f)o=f[a],o!==h[a]&&vr(c,a,null==o?"":o)}}var _r={create:wr,update:wr},Sr=/\s+/;function Ir(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Sr).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function xr(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Sr).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" "+(t.getAttribute("class")||"")+" ",i=" "+e+" ";while(n.indexOf(i)>=0)n=n.replace(i," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function Cr(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&N(e,Er(t.name||"v")),N(e,t),e}return"string"===typeof t?Er(t):void 0}}var Er=S((function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}})),Tr=Y&&!nt,kr="transition",Ar="animation",Dr="transition",Or="transitionend",Nr="animation",Lr="animationend";Tr&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Dr="WebkitTransition",Or="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Nr="WebkitAnimation",Lr="webkitAnimationEnd"));var $r=Y?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Mr(t){$r((function(){$r(t)}))}function Pr(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),Ir(t,e))}function Fr(t,e){t._transitionClasses&&b(t._transitionClasses,e),xr(t,e)}function Rr(t,e,n){var i=Br(t,e),s=i.type,r=i.timeout,o=i.propCount;if(!s)return n();var a=s===kr?Or:Lr,c=0,l=function(){t.removeEventListener(a,u),n()},u=function(e){e.target===t&&++c>=o&&l()};setTimeout((function(){c<o&&l()}),r+1),t.addEventListener(a,u)}var Vr=/\b(transform|all)(,|$)/;function Br(t,e){var n,i=window.getComputedStyle(t),s=(i[Dr+"Delay"]||"").split(", "),r=(i[Dr+"Duration"]||"").split(", "),o=jr(s,r),a=(i[Nr+"Delay"]||"").split(", "),c=(i[Nr+"Duration"]||"").split(", "),l=jr(a,c),u=0,h=0;e===kr?o>0&&(n=kr,u=o,h=r.length):e===Ar?l>0&&(n=Ar,u=l,h=c.length):(u=Math.max(o,l),n=u>0?o>l?kr:Ar:null,h=n?n===kr?r.length:c.length:0);var d=n===kr&&Vr.test(i[Dr+"Property"]);return{type:n,timeout:u,propCount:h,hasTransform:d}}function jr(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return Ur(e)+Ur(t[n])})))}function Ur(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function qr(t,e){var n=t.elm;r(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var i=Cr(t.data.transition);if(!s(i)&&!r(n._enterCb)&&1===n.nodeType){var o=i.css,a=i.type,c=i.enterClass,u=i.enterToClass,h=i.enterActiveClass,d=i.appearClass,f=i.appearToClass,p=i.appearActiveClass,m=i.beforeEnter,v=i.enter,y=i.afterEnter,b=i.enterCancelled,w=i.beforeAppear,_=i.appear,S=i.afterAppear,I=i.appearCancelled,x=i.duration,C=Nn,E=Nn.$vnode;while(E&&E.parent)C=E.context,E=E.parent;var T=!C._isMounted||!t.isRootInsert;if(!T||_||""===_){var k=T&&d?d:c,A=T&&p?p:h,D=T&&f?f:u,O=T&&w||m,N=T&&"function"===typeof _?_:v,L=T&&S||y,$=T&&I||b,M=g(l(x)?x.enter:x);0;var P=!1!==o&&!nt,F=Zr(N),R=n._enterCb=V((function(){P&&(Fr(n,D),Fr(n,A)),R.cancelled?(P&&Fr(n,k),$&&$(n)):L&&L(n),n._enterCb=null}));t.data.show||Ie(t,"insert",(function(){var e=n.parentNode,i=e&&e._pending&&e._pending[t.key];i&&i.tag===t.tag&&i.elm._leaveCb&&i.elm._leaveCb(),N&&N(n,R)})),O&&O(n),P&&(Pr(n,k),Pr(n,A),Mr((function(){Fr(n,k),R.cancelled||(Pr(n,D),F||(Hr(M)?setTimeout(R,M):Rr(n,a,R)))}))),t.data.show&&(e&&e(),N&&N(n,R)),P||F||R()}}}function zr(t,e){var n=t.elm;r(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var i=Cr(t.data.transition);if(s(i)||1!==n.nodeType)return e();if(!r(n._leaveCb)){var o=i.css,a=i.type,c=i.leaveClass,u=i.leaveToClass,h=i.leaveActiveClass,d=i.beforeLeave,f=i.leave,p=i.afterLeave,m=i.leaveCancelled,v=i.delayLeave,y=i.duration,b=!1!==o&&!nt,w=Zr(f),_=g(l(y)?y.leave:y);0;var S=n._leaveCb=V((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),b&&(Fr(n,u),Fr(n,h)),S.cancelled?(b&&Fr(n,c),m&&m(n)):(e(),p&&p(n)),n._leaveCb=null}));v?v(I):I()}function I(){S.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),d&&d(n),b&&(Pr(n,c),Pr(n,h),Mr((function(){Fr(n,c),S.cancelled||(Pr(n,u),w||(Hr(_)?setTimeout(S,_):Rr(n,a,S)))}))),f&&f(n,S),b||w||S())}}function Hr(t){return"number"===typeof t&&!isNaN(t)}function Zr(t){if(s(t))return!1;var e=t.fns;return r(e)?Zr(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Wr(t,e){!0!==e.data.show&&qr(e)}var Kr=Y?{create:Wr,activate:Wr,remove:function(t,e){!0!==t.data.show?zr(t,e):e()}}:{},Gr=[Hs,Ks,sr,lr,_r,Kr],Qr=Gr.concat(js),Yr=Ls({nodeOps:Cs,modules:Qr});nt&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&ro(t,"input")}));var Xr={inserted:function(t,e,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?Ie(n,"postpatch",(function(){Xr.componentUpdated(t,e,n)})):Jr(t,e,n.context),t._vOptions=[].map.call(t.options,no)):("textarea"===n.tag||hs(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",io),t.addEventListener("compositionend",so),t.addEventListener("change",so),nt&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Jr(t,e,n.context);var i=t._vOptions,s=t._vOptions=[].map.call(t.options,no);if(s.some((function(t,e){return!F(t,i[e])}))){var r=t.multiple?e.value.some((function(t){return eo(t,s)})):e.value!==e.oldValue&&eo(e.value,s);r&&ro(t,"change")}}}};function Jr(t,e,n){to(t,e,n),(et||it)&&setTimeout((function(){to(t,e,n)}),0)}function to(t,e,n){var i=e.value,s=t.multiple;if(!s||Array.isArray(i)){for(var r,o,a=0,c=t.options.length;a<c;a++)if(o=t.options[a],s)r=R(i,no(o))>-1,o.selected!==r&&(o.selected=r);else if(F(no(o),i))return void(t.selectedIndex!==a&&(t.selectedIndex=a));s||(t.selectedIndex=-1)}}function eo(t,e){return e.every((function(e){return!F(e,t)}))}function no(t){return"_value"in t?t._value:t.value}function io(t){t.target.composing=!0}function so(t){t.target.composing&&(t.target.composing=!1,ro(t.target,"input"))}function ro(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function oo(t){return!t.componentInstance||t.data&&t.data.transition?t:oo(t.componentInstance._vnode)}var ao={bind:function(t,e,n){var i=e.value;n=oo(n);var s=n.data&&n.data.transition,r=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;i&&s?(n.data.show=!0,qr(n,(function(){t.style.display=r}))):t.style.display=i?r:"none"},update:function(t,e,n){var i=e.value,s=e.oldValue;if(!i!==!s){n=oo(n);var r=n.data&&n.data.transition;r?(n.data.show=!0,i?qr(n,(function(){t.style.display=t.__vOriginalDisplay})):zr(n,(function(){t.style.display="none"}))):t.style.display=i?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,i,s){s||(t.style.display=t.__vOriginalDisplay)}},co={model:Xr,show:ao},lo={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function uo(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?uo(Cn(e.children)):t}function ho(t){var e={},n=t.$options;for(var i in n.propsData)e[i]=t[i];var s=n._parentListeners;for(var r in s)e[x(r)]=s[r];return e}function fo(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function po(t){while(t=t.parent)if(t.data.transition)return!0}function mo(t,e){return e.key===t.key&&e.tag===t.tag}var go=function(t){return t.tag||Me(t)},vo=function(t){return"show"===t.name},yo={name:"transition",props:lo,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(go),n.length)){0;var i=this.mode;0;var s=n[0];if(po(this.$vnode))return s;var r=uo(s);if(!r)return s;if(this._leaving)return fo(t,s);var o="__transition-"+this._uid+"-";r.key=null==r.key?r.isComment?o+"comment":o+r.tag:c(r.key)?0===String(r.key).indexOf(o)?r.key:o+r.key:r.key;var a=(r.data||(r.data={})).transition=ho(this),l=this._vnode,u=uo(l);if(r.data.directives&&r.data.directives.some(vo)&&(r.data.show=!0),u&&u.data&&!mo(r,u)&&!Me(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var h=u.data.transition=N({},a);if("out-in"===i)return this._leaving=!0,Ie(h,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),fo(t,s);if("in-out"===i){if(Me(r))return l;var d,f=function(){d()};Ie(a,"afterEnter",f),Ie(a,"enterCancelled",f),Ie(h,"delayLeave",(function(t){d=t}))}}return s}}},bo=N({tag:String,moveClass:String},lo);delete bo.mode;var wo={props:bo,beforeMount:function(){var t=this,e=this._update;this._update=function(n,i){var s=Ln(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,s(),e.call(t,n,i)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,s=this.$slots.default||[],r=this.children=[],o=ho(this),a=0;a<s.length;a++){var c=s[a];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))r.push(c),n[c.key]=c,(c.data||(c.data={})).transition=o;else;}if(i){for(var l=[],u=[],h=0;h<i.length;h++){var d=i[h];d.data.transition=o,d.data.pos=d.elm.getBoundingClientRect(),n[d.key]?l.push(d):u.push(d)}this.kept=t(e,null,l),this.removed=u}return t(e,null,r)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(_o),t.forEach(So),t.forEach(Io),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,i=n.style;Pr(n,e),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(Or,n._moveCb=function t(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(Or,t),n._moveCb=null,Fr(n,e))})}})))},methods:{hasMove:function(t,e){if(!Tr)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){xr(n,t)})),Ir(n,e),n.style.display="none",this.$el.appendChild(n);var i=Br(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}};function _o(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function So(t){t.data.newPos=t.elm.getBoundingClientRect()}function Io(t){var e=t.data.pos,n=t.data.newPos,i=e.left-n.left,s=e.top-n.top;if(i||s){t.data.moved=!0;var r=t.elm.style;r.transform=r.WebkitTransform="translate("+i+"px,"+s+"px)",r.transitionDuration="0s"}}var xo={Transition:yo,TransitionGroup:wo};Ci.config.mustUseProp=Ui,Ci.config.isReservedTag=as,Ci.config.isReservedAttr=Bi,Ci.config.getTagNamespace=cs,Ci.config.isUnknownElement=us,N(Ci.options.directives,co),N(Ci.options.components,xo),Ci.prototype.__patch__=Y?Yr:$,Ci.prototype.$mount=function(t,e){return t=t&&Y?ds(t):void 0,Pn(this,t,e)},Y&&setTimeout((function(){q.devtools&&ut&&ut.emit("init",Ci)}),0),e["Z"]=Ci},3453:function(t){t.exports=function(t,e){var n="function"===typeof t.exports?t.exports.extendOptions:t.options;for(var i in"function"===typeof t.exports&&(n.components=t.exports.options.components),n.components=n.components||{},e)n.components[i]=n.components[i]||e[i]}},8180:function(t,e,n){"use strict";n.d(e,{Z:function(){return v}});var i=n(4444),s=n(8463),r=n(2238),o=n(3333);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class a{constructor(t,e){this._delegate=t,this.firebase=e,(0,r._addComponent)(t,new s.wA("app-compat",(()=>this),"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((t=>{this._delegate.checkDestroyed(),t()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),(0,r.deleteApp)(this._delegate))))}_getService(t,e=r._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(t);return i.isInitialized()||"EXPLICIT"!==(null===(n=i.getComponent())||void 0===n?void 0:n.instantiationMode)||i.initialize(),i.getImmediate({identifier:e})}_removeServiceInstance(t,e=r._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(t).clearInstance(e)}_addComponent(t){(0,r._addComponent)(this._delegate,t)}_addOrOverwriteComponent(t){(0,r._addOrOverwriteComponent)(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},l=new i.LL("app-compat","Firebase",c);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function u(t){const e={},n={__esModule:!0,initializeApp:a,app:o,registerVersion:r.registerVersion,setLogLevel:r.setLogLevel,onLog:r.onLog,apps:null,SDK_VERSION:r.SDK_VERSION,INTERNAL:{registerComponent:u,removeApp:s,useAsService:h,modularAPIs:r}};function s(t){delete e[t]}function o(t){if(t=t||r._DEFAULT_ENTRY_NAME,!(0,i.r3)(e,t))throw l.create("no-app",{appName:t});return e[t]}function a(s,o={}){const a=r.initializeApp(s,o);if((0,i.r3)(e,a.name))return e[a.name];const c=new t(a,n);return e[a.name]=c,c}function c(){return Object.keys(e).map((t=>e[t]))}function u(e){const s=e.name,a=s.replace("-compat","");if(r._registerComponent(e)&&"PUBLIC"===e.type){const r=(t=o())=>{if("function"!==typeof t[a])throw l.create("invalid-app-argument",{appName:s});return t[a]()};void 0!==e.serviceProps&&(0,i.ZB)(r,e.serviceProps),n[a]=r,t.prototype[a]=function(...t){const n=this._getService.bind(this,s);return n.apply(this,e.multipleInstances?t:[])}}return"PUBLIC"===e.type?n[a]:null}function h(t,e){if("serverAuth"===e)return null;const n=e;return n}return n["default"]=n,Object.defineProperty(n,"apps",{get:c}),o["App"]=t,n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h(){const t=u(a);function e(e){(0,i.ZB)(t,e)}return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:h,extendNamespace:e,createSubscribe:i.ne,ErrorFactory:i.LL,deepExtend:i.ZB}),t}const d=h(),f=new o.Yd("@firebase/app-compat"),p="@firebase/app-compat",m="0.1.18";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function g(t){(0,r.registerVersion)(p,m,t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if((0,i.jU)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const v=d;g()},2238:function(t,e,n){"use strict";n.r(e),n.d(e,{FirebaseError:function(){return r.ZR},SDK_VERSION:function(){return G},_DEFAULT_ENTRY_NAME:function(){return P},_addComponent:function(){return B},_addOrOverwriteComponent:function(){return j},_apps:function(){return R},_clearComponents:function(){return H},_components:function(){return V},_getProvider:function(){return q},_registerComponent:function(){return U},_removeServiceInstance:function(){return z},deleteApp:function(){return J},getApp:function(){return Y},getApps:function(){return X},initializeApp:function(){return Q},onLog:function(){return et},registerVersion:function(){return tt},setLogLevel:function(){return nt}});var i=n(8463),s=n(3333),r=n(4444);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class o{constructor(t){this.container=t}getPlatformInfoString(){const t=this.container.getProviders();return t.map((t=>{if(a(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}function a(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}const c="@firebase/app",l="0.7.17",u=new s.Yd("@firebase/app"),h="@firebase/app-compat",d="@firebase/analytics-compat",f="@firebase/analytics",p="@firebase/app-check-compat",m="@firebase/app-check",g="@firebase/auth",v="@firebase/auth-compat",y="@firebase/database",b="@firebase/database-compat",w="@firebase/functions",_="@firebase/functions-compat",S="@firebase/installations",I="@firebase/installations-compat",x="@firebase/messaging",C="@firebase/messaging-compat",E="@firebase/performance",T="@firebase/performance-compat",k="@firebase/remote-config",A="@firebase/remote-config-compat",D="@firebase/storage",O="@firebase/storage-compat",N="@firebase/firestore",L="@firebase/firestore-compat",$="firebase",M="9.6.7",P="[DEFAULT]",F={[c]:"fire-core",[h]:"fire-core-compat",[f]:"fire-analytics",[d]:"fire-analytics-compat",[m]:"fire-app-check",[p]:"fire-app-check-compat",[g]:"fire-auth",[v]:"fire-auth-compat",[y]:"fire-rtdb",[b]:"fire-rtdb-compat",[w]:"fire-fn",[_]:"fire-fn-compat",[S]:"fire-iid",[I]:"fire-iid-compat",[x]:"fire-fcm",[C]:"fire-fcm-compat",[E]:"fire-perf",[T]:"fire-perf-compat",[k]:"fire-rc",[A]:"fire-rc-compat",[D]:"fire-gcs",[O]:"fire-gcs-compat",[N]:"fire-fst",[L]:"fire-fst-compat","fire-js":"fire-js",[$]:"fire-js-all"},R=new Map,V=new Map;function B(t,e){try{t.container.addComponent(e)}catch(n){u.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function j(t,e){t.container.addOrOverwriteComponent(e)}function U(t){const e=t.name;if(V.has(e))return u.debug(`There were multiple attempts to register component ${e}.`),!1;V.set(e,t);for(const n of R.values())B(n,t);return!0}function q(t,e){return t.container.getProvider(e)}function z(t,e,n=P){q(t,e).clearInstance(n)}function H(){V.clear()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function."},W=new r.LL("app","Firebase",Z);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class K{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.wA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw W.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=M;function Q(t,e={}){if("object"!==typeof e){const t=e;e={name:t}}const n=Object.assign({name:P,automaticDataCollectionEnabled:!1},e),s=n.name;if("string"!==typeof s||!s)throw W.create("bad-app-name",{appName:String(s)});const o=R.get(s);if(o){if((0,r.vZ)(t,o.options)&&(0,r.vZ)(n,o.config))return o;throw W.create("duplicate-app",{appName:s})}const a=new i.H0(s);for(const i of V.values())a.addComponent(i);const c=new K(t,n,a);return R.set(s,c),c}function Y(t=P){const e=R.get(t);if(!e)throw W.create("no-app",{appName:t});return e}function X(){return Array.from(R.values())}async function J(t){const e=t.name;R.has(e)&&(R.delete(e),await Promise.all(t.container.getProviders().map((t=>t.delete()))),t.isDeleted=!0)}function tt(t,e,n){var s;let r=null!==(s=F[t])&&void 0!==s?s:t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const t=[`Unable to register library "${r}" with version "${e}":`];return o&&t.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void u.warn(t.join(" "))}U(new i.wA(`${r}-version`,(()=>({library:r,version:e})),"VERSION"))}function et(t,e){if(null!==t&&"function"!==typeof t)throw W.create("invalid-log-argument");(0,s.Am)(t,e)}function nt(t){(0,s.Ub)(t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t){U(new i.wA("platform-logger",(t=>new o(t)),"PRIVATE")),tt(c,l,t),tt(c,l,"esm2017"),tt("fire-js","")}it("")},8463:function(t,e,n){"use strict";n.d(e,{wA:function(){return s},H0:function(){return l}});var i=n(4444);class s{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new i.BH;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(n){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),i=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(c(t))try{this.getOrInitializeService({instanceIdentifier:r})}catch(e){}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:i});n.resolve(t)}catch(e){}}}}clearInstance(t=r){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t=r){return this.instances.has(t)}getOptions(t=r){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[s,r]of this.instancesDeferred.entries()){const t=this.normalizeInstanceIdentifier(s);n===t&&r.resolve(i)}return i}onInit(t,e){var n;const i=this.normalizeInstanceIdentifier(e),s=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;s.add(t),this.onInitCallbacks.set(i,s);const r=this.instances.get(i);return r&&t(r,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const s of n)try{s(t,e)}catch(i){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:a(t),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(i){}return n||null}normalizeInstanceIdentifier(t=r){return this.component?this.component.multipleInstances?t:r:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function a(t){return t===r?void 0:t}function c(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){const e=this.getProvider(t.name);e.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new o(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}},3333:function(t,e,n){"use strict";n.d(e,{in:function(){return s},Yd:function(){return l},Ub:function(){return u},Am:function(){return h}});
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const i=[];var s;(function(t){t[t["DEBUG"]=0]="DEBUG",t[t["VERBOSE"]=1]="VERBOSE",t[t["INFO"]=2]="INFO",t[t["WARN"]=3]="WARN",t[t["ERROR"]=4]="ERROR",t[t["SILENT"]=5]="SILENT"})(s||(s={}));const r={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},o=s.INFO,a={[s.DEBUG]:"log",[s.VERBOSE]:"log",[s.INFO]:"info",[s.WARN]:"warn",[s.ERROR]:"error"},c=(t,e,...n)=>{if(e<t.logLevel)return;const i=(new Date).toISOString(),s=a[e];if(!s)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[s](`[${i}]  ${t.name}:`,...n)};class l{constructor(t){this.name=t,this._logLevel=o,this._logHandler=c,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in s))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?r[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,s.DEBUG,...t),this._logHandler(this,s.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,s.VERBOSE,...t),this._logHandler(this,s.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,s.INFO,...t),this._logHandler(this,s.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,s.WARN,...t),this._logHandler(this,s.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,s.ERROR,...t),this._logHandler(this,s.ERROR,...t)}}function u(t){i.forEach((e=>{e.setLogLevel(t)}))}function h(t,e){for(const n of i){let i=null;e&&e.level&&(i=r[e.level]),n.userLogHandler=null===t?null:(e,n,...r)=>{const o=r.map((t=>{if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((t=>t)).join(" ");n>=(null!==i&&void 0!==i?i:e.logLevel)&&t({level:s[n].toLowerCase(),message:o,args:r,type:e.name})}}}}}]);
//# sourceMappingURL=chunk-vendors.d39985fd.js.map